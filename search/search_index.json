{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Logo by Conrad Fenech What is MiSTer FPGA? MiSTer is an open source project that aims to recreate classic computers, video game consoles, and arcade machines using modern hardware. It allows software and game images to run as they would on original hardware while using peripherals such as mice, keyboards, joysticks and other game controllers. MiSTer utilizes an FPGA board called the DE10-Nano which connects to your TV or monitor via HDMI video out. It can also be expanded with various add-on boards such as a 7-port USB hub, a 128MB SDRAM module, and either a Digital I/O or Analog I/O board. The MiSTer project is currently under active development with new cores, features, and bug-fixes appearing on a regular basis. Check the navigation sidebar to the left for documentation on how to use your MiSTer FPGA. Please join the official MiSTer FPGA Discord Server for help, updates, and a very active community. Follow the official MiSTer FPGA Twitter account for updates, community tweets, and memes. Head to the MiSTer FPGA Forums for classic forum discussions. Check out My Life In Gaming's MiSTer FPGA 2022 Primer Guide for a comprehensive video review of the MiSTer.","title":"Home"},{"location":"#what-is-mister-fpga","text":"MiSTer is an open source project that aims to recreate classic computers, video game consoles, and arcade machines using modern hardware. It allows software and game images to run as they would on original hardware while using peripherals such as mice, keyboards, joysticks and other game controllers. MiSTer utilizes an FPGA board called the DE10-Nano which connects to your TV or monitor via HDMI video out. It can also be expanded with various add-on boards such as a 7-port USB hub, a 128MB SDRAM module, and either a Digital I/O or Analog I/O board. The MiSTer project is currently under active development with new cores, features, and bug-fixes appearing on a regular basis. Check the navigation sidebar to the left for documentation on how to use your MiSTer FPGA. Please join the official MiSTer FPGA Discord Server for help, updates, and a very active community. Follow the official MiSTer FPGA Twitter account for updates, community tweets, and memes. Head to the MiSTer FPGA Forums for classic forum discussions. Check out My Life In Gaming's MiSTer FPGA 2022 Primer Guide for a comprehensive video review of the MiSTer.","title":"What is MiSTer FPGA?"},{"location":"editing/","text":"Here's a quick guide to show you how to edit this documentation site. It's very similar to editing a wiki page, but requires a couple extra steps. All edits are approved by the administrators of the MkDocs_MiSTer repository on GitHub for quality control purposes. How to edit/contribute to pages on this documentation site First, you will need a github account: Signup to GitHub Next you go to the page you want to edit and click on the pen icon in the top right for that page: Then you need to fork the repository for this documentation. A repository is just what coders call the place where they store all the code for their project. A fork is just a personal copy of that repository where you can make your own changes to it. So let's click \"Fork this Repository\": Now make your changes using the text editor. The MkDocs_MiSTer site uses the Markdown syntax , so make sure to follow those guidelines. The editor comes with a Preview Tab so you can see how your work may appear. Certain MkDocs specific tags or formatting (e.g. {target=_blank} which makes your browser open a link in a new tab): Write in a short description of your changes and propose the changes that describes why you made the changes: The next step is to create a pull request. Pull requests are a way of asking the repository owner to accept the changes you've made into their repository. Double check your work to make sure it is what you wanted: The form to create a pull request will appear. This is your last chance to double-check your work before creating the pull request to ask the owner to \"merge\" your changes into the main repository. Merging these changes will update the site momentarily, so make sure the changes you made are correct: In this case, the user birdybrain submitted a very goofy change, and as such his pull request was denied (and closed). This upset birdybrain quite a bit and he was disrespectful in his reply. Be respectful and understanding and try to work with the owners of the repository. Don't be like birdybrain here: Hopefully that helps you learn how to edit the documentation on this site. If you completed this and edited a page, congratulations! You now should know how to use GitHub, fork a repository, commit changes to the source code, and create a pull request.","title":"Editing These Docs"},{"location":"editing/#how-to-editcontribute-to-pages-on-this-documentation-site","text":"First, you will need a github account: Signup to GitHub Next you go to the page you want to edit and click on the pen icon in the top right for that page: Then you need to fork the repository for this documentation. A repository is just what coders call the place where they store all the code for their project. A fork is just a personal copy of that repository where you can make your own changes to it. So let's click \"Fork this Repository\": Now make your changes using the text editor. The MkDocs_MiSTer site uses the Markdown syntax , so make sure to follow those guidelines. The editor comes with a Preview Tab so you can see how your work may appear. Certain MkDocs specific tags or formatting (e.g. {target=_blank} which makes your browser open a link in a new tab): Write in a short description of your changes and propose the changes that describes why you made the changes: The next step is to create a pull request. Pull requests are a way of asking the repository owner to accept the changes you've made into their repository. Double check your work to make sure it is what you wanted: The form to create a pull request will appear. This is your last chance to double-check your work before creating the pull request to ask the owner to \"merge\" your changes into the main repository. Merging these changes will update the site momentarily, so make sure the changes you made are correct: In this case, the user birdybrain submitted a very goofy change, and as such his pull request was denied (and closed). This upset birdybrain quite a bit and he was disrespectful in his reply. Be respectful and understanding and try to work with the owners of the repository. Don't be like birdybrain here: Hopefully that helps you learn how to edit the documentation on this site. If you completed this and edited a page, congratulations! You now should know how to use GitHub, fork a repository, commit changes to the source code, and create a pull request.","title":"How to edit/contribute to pages on this documentation site"},{"location":"advanced/audio/","text":"The MiSTer has audio filters that you can use to make the audio sound less harsh and balanced to your ears. Some old game systems were not made for raw digital output, they had analog audio filters in place before the sound reached the speakers and your ears. These filters are generated using mathematical formulas to represent real common filters used in electronics. You can find all of the filters in the Filters_MiSTer Github Repository . Types of Filters Arcade LPF - The filters contained within this folder are designed to replicate the filtering of common arcade cabinets. Many arcade games' raw audio output is very harsh on the ears, and using the filters in here can help soften the sound to be more pleasing. 1st and 2nd refers to the amount of passes the filter goes through. LPF stands for \"low-pass filter\". The #khz tells you what frequency it starts filtering at. Core Specific - These are for specific cores. Currently there is only one core-specific filter and it is in order to replicate the filtering of one model of Super Nintendo. General LPF - These are more generalized low pass filters. The filters in this folder have a significantly different cutoff frequency when compared to the arcade cores. Audio Filtering Example Video","title":"Audio Filters"},{"location":"advanced/audio/#types-of-filters","text":"Arcade LPF - The filters contained within this folder are designed to replicate the filtering of common arcade cabinets. Many arcade games' raw audio output is very harsh on the ears, and using the filters in here can help soften the sound to be more pleasing. 1st and 2nd refers to the amount of passes the filter goes through. LPF stands for \"low-pass filter\". The #khz tells you what frequency it starts filtering at. Core Specific - These are for specific cores. Currently there is only one core-specific filter and it is in order to replicate the filtering of one model of Super Nintendo. General LPF - These are more generalized low pass filters. The filters in this folder have a significantly different cutoff frequency when compared to the arcade cores.","title":"Types of Filters"},{"location":"advanced/audio/#audio-filtering-example-video","text":"","title":"Audio Filtering Example Video"},{"location":"advanced/computer/","text":"There are many computer-core specific features and functionality to go over. Here are a few: Computer core Internet and console connections Starting from 2018 may 7 release MiSTer supports serial (UART) connection from FPGA to Linux. Linux OS runs PPP or Console daemon on this connection allowing access the internet or Linux shell from FPGA cores. Cores supporting serial connection Minimig . Tested on Roadshow TCP/IP , AmiTCP and Miami. AmiTCP provides more complete solution with ftpd daemon. There are many other 3rd party addons are based on AmiTCP, so it's advised to use this package. Roadshow works very well, it is fully compatible with AmiTCP and offers additional extensions. Follow these Instructions for complete setup. It is still a paid for and supported product, you can find more information here . Miami was successfully tested. The Miami settings that worked: use PPP connection via serial.device, set baud rate to 115200, RTS/CTS to on, and enable 8N1. Set modem to nullmodem. Manually enter an IP suitable for your lan ending in 254, e.g. 192.168.1.254. Manually add a DNS server, e.g. 8.8.8.8 for Google DNS. Term v4.7 has been used to test console connection. For a more detailed MiamiDX setup guide, please check here You can also double the speed on Minimig by modifying the /sbin/uartmode script, like mine: echo \"$localip:$remoteip\" >/tmp/ppp_options cat /media/fat/linux/ppp_options >>/tmp/ppp_options echo 1 > /proc/sys/net/ipv4/ip_forward [ -f /tmp/CORENAME ] && core_name=$(cat /tmp/CORENAME) if [ \"$core_name\" == \"Minimig\" ]; then taskset 1 pppd 230400 file /tmp/ppp_options else taskset 1 pppd $conn_speed file /tmp/ppp_options fi Of course, change the baud rate as well to 230400 on your TCP/IP stack of choice. Tested under MiamiDX, no issues. ao486 . PPP and serial connections are working under DOS, tested with mTCP and various terminal software. PPP is also working under Win3.11/Win95/Win95. DOS tools are here : dos_ftpd.zip . The DOS FTP server included does not support passive mode, so set your client to use active. C64 . Serial connection. Tandy Color Computer 3 (CoCo3) . Serial Connection. Macintosh Plus . Serial and PPP support. AtariST . Serial and PPP support. OSD provides an option to switch between PPP and Console on these cores. Both console and PPP are using baud rate 115200 8N1 mode with hardware RTS/CTS flow control for stability. Console connection Using this connection with supported terminal application on FPGA core, you can access the Linux shell and do some file managements or Linux settings if required. No special settings are required of Linux. PPP connection Using this connection core may have internet connection. More important, the core may run ftp daemon and provide access to its filesystem, so you can use FTP client on PC to move the files to/from the emulated system. PPP daemon uses /media/fat/linux/ppp_options (linux\\ppp_options of PC) file. Most likely you don't need to modify it. Recent update assigns IPs automatically. Core gets .254 IP (for example 192.168.1.254). If you want other IP, then modify ppp_options file. For correct PPP work, make sure you see a network icon in Menu core before starting the other core. Otherwise PPP link won't get IPs. If you've started core earlier, then simply connect the core to PPP and disconnect. Next connection will get correct IP. Or you can switch UART mode in OSD to renew the IP. NOTE: I'm looking Amiga and MSDOS terminal supporting color and control codes of linux, so it will be possible to use Midnight Commander in terminal connection. If you know such terminal application, then let me know. PPP connection in MS-DOS on ao486 In the Mister System Menu Win + F12 set the \"Uart Connection\" to \"PPP\", Baud to \"115200\" and save it. Download the DOS PPPD driver: DOSPPP06.ZIP from HERE . Grab the latest version of Michael Brutman's mTCP TCP/IP applications for MS-DOS, from the 'Downloads' section HERE Transfer those zip files over to your ao486's virtual hard drive and unzip them into the directory of your choice (e.g. C:\\NETWORK) In MS-DOS on the core, you need to edit a mtcp config file. There's a sample config in the SAMPLES directory called 'sample.cfg' that you can use as a base, or you can use the example below (simple text file named mtcp.cfg in your installation folder). If you use the sample.cfg file, you need to add the top MTCPSLIP line.: SET MTCPSLIP=true mtu 1500 packetint 0x60 hostname ao486_fpga IPADDR 192.168.1.254 <- Change this to reflect your network. NETMASK 255.255.255.0 GATEWAY 192.168.1.1 <- Change this to reflect your network. NAMESERVER 8.8.8.8 <- You can change this to reflect your network if you want to. LEASE_TIME 86400 IRCJR_USER FPGA_User IRCJR_NICK fpga_user IRCJR_NAME FPGA_User Edit your AUTOEXEC.BAT and add the path to your installation folder, as well with the MTCP variable: PATH C:\\DOS;C:\\NETWORK SET MTCPCFG=C:\\NETWORK\\MTCP.CFG The DOS PPPD driver archive includes the ppp packet driver, which you need to load: epppd com1 115200 local Enjoy telnet, ftp, irc, and other internet applications while you use MS-DOS. Be sure and make sure you have ANSI.SYS loaded in CONFIG.SYS if you want to use the telnet client to hit telnet BBSes. Original discussion HERE . PPP connection in Windows 95 on ao486 Unfortunately winsock and winsock2 provided by Microsoft do not work with the ppp connection when in Windows 95. The following steps will allow you to get it working: In the Mister System Menu Win + F12 set the \"Uart Connection\" to \"PPP\" and save it. In Windows 95 ensure the COM1 device is installed in Start->Settings->Control Panel->System - Device Manager Tab, there should be a twisty called Ports(COM & LPT) and under that a \"Communications Port (COM1)\" If it doesn't exist go to Start->Settings->Control Panel->Add/New Hardware and it should be automatically added. Get the replacement PPP client Download the software. There are other newer versions available BUT be warned only version 3.0 will work. Trumpet Winsock 3.0 - (I extracted the file from the disk image and uploaded it using the DOS ftp client documented above) License the Software - This software is still shareware (time limited) please license it appropriately. Once you acquire a license you can put the details in Tcpman in the \"Special\" menu in \"Password registration\" Configure Software Start Tcpman Under File-->PPP Options ensure all checkboxes are unchecked and the text boxes are blank. Under File-->Setup Enter an \"IP Address\" suitable for your LAN eg 192.168.1.254 and a \"DNS Server(s)\" 192.168.1.1 Under the Driver section select the PPP radio button and click on \"Dialer settings...\" In the \"Dialer settings...\" \"COMM port\" COM1 \"Baud rate\" 115200 Using the software ( important, be patient ) Win95 is rather slow so let it start fully before starting the PPP manager (Tcpman) Once it is started it will begin syncing with PPP on the linux host... Be patient it takes a few seconds. When you see the PPP[C021] SND and RCV you can start your TCP/IP program I have found it to be a little complicated to get started, but once it is running it is rock solid and supports multiple client programs at once. Serial connection on C64 The following is an example for connecting to a BBS using Striketerm 2014 and VIC-101 2400 baud mode: Start the C64 core (please note that custom kernels may remove functionality required, if in doubt use the built in kernel). In the Mister C64 Menu Win + F12 , go to \"Hardware\", set the \"Expansion\" to \"RS232\", \"RS232 Connection\" to \"Internal\", \"RS232 mode\" to \"VIC-1011\" and save it. In the Mister System Menu Win + F12 set the \"Uart Connection\" to \"Modem\", Link to \"TCP\", Baud to \"2400\" and save it. Load Striketerm 2014 from d64. Available from here Keep the defaults in the Main Menu F1 , ensure you are running at 2400 baud. Save a BBS into the Addressbook F5 , you can get some from here Surf the BBS very slowly... The following is an example for connecting to a BBS using CCGMS Ultimate and UP9600 mode: Start the C64 core (please note that custom kernels may remove functionality required, if in doubt use the built in kernel). In the Mister C64 Menu Win + F12 , go to \"Hardware\", set the \"Expansion\" to \"RS232\", \"RS232 Connection\" to \"Internal\", \"RS232 mode\" to \"UP9600\" and save it. In the Mister System Menu Win + F12 set the \"Uart Connection\" to \"Modem\", Link to \"TCP\", Baud to \"9600\" and save it. Load CCGMS Ultimate from d64, available here Hit F7 key to access configuration page, then M to change the modem to \"UP9600/EZ232\", then B to set the baud speed to \"9600\". Save the config with the S key. Access the Phonebook with A key from the same configuration page, save some BBS addresses from here Enjoy the faster BBS experience. Serial connection on Color Computer 3 (CoCo3) The following is an example for connecting to a BBS using UltimaTerm 4.0: Start the CoCo3 core (use Multi-pak Slot 4 Disk or Slot 2 CoCoSDC) In the MiSTer System Menu Win + F12 set the \"Uart Connection\" to \"Modem\", Link to \"TCP\", Baud to \"9600\" and save it. Mount UltimaTerm DSK file, obtainable HERE Load UltimaTerm by issuing: LOADM\"ULTIMATE Hit Alt + O to open Options Menu, then M for Modem options. Use B to modify the baud rate ( Left or Right arrows to change values) to 9600. The rest of the settings should be default (word length 8, parity none, stop bits 1, duplex full, terminal type ANSI). Save your changes with Alt + D then F1 key. Hit Alt + A to open Phonebook, add a BBS and dial away. Alternatively, you can dial directly by issuing an ATDTBBS_Address:port . Full UltimaTerm 4.0 Documentation HERE","title":"Computer Core Networking"},{"location":"advanced/computer/#computer-core-internet-and-console-connections","text":"Starting from 2018 may 7 release MiSTer supports serial (UART) connection from FPGA to Linux. Linux OS runs PPP or Console daemon on this connection allowing access the internet or Linux shell from FPGA cores.","title":"Computer core Internet and console connections"},{"location":"advanced/computer/#cores-supporting-serial-connection","text":"Minimig . Tested on Roadshow TCP/IP , AmiTCP and Miami. AmiTCP provides more complete solution with ftpd daemon. There are many other 3rd party addons are based on AmiTCP, so it's advised to use this package. Roadshow works very well, it is fully compatible with AmiTCP and offers additional extensions. Follow these Instructions for complete setup. It is still a paid for and supported product, you can find more information here . Miami was successfully tested. The Miami settings that worked: use PPP connection via serial.device, set baud rate to 115200, RTS/CTS to on, and enable 8N1. Set modem to nullmodem. Manually enter an IP suitable for your lan ending in 254, e.g. 192.168.1.254. Manually add a DNS server, e.g. 8.8.8.8 for Google DNS. Term v4.7 has been used to test console connection. For a more detailed MiamiDX setup guide, please check here You can also double the speed on Minimig by modifying the /sbin/uartmode script, like mine: echo \"$localip:$remoteip\" >/tmp/ppp_options cat /media/fat/linux/ppp_options >>/tmp/ppp_options echo 1 > /proc/sys/net/ipv4/ip_forward [ -f /tmp/CORENAME ] && core_name=$(cat /tmp/CORENAME) if [ \"$core_name\" == \"Minimig\" ]; then taskset 1 pppd 230400 file /tmp/ppp_options else taskset 1 pppd $conn_speed file /tmp/ppp_options fi Of course, change the baud rate as well to 230400 on your TCP/IP stack of choice. Tested under MiamiDX, no issues. ao486 . PPP and serial connections are working under DOS, tested with mTCP and various terminal software. PPP is also working under Win3.11/Win95/Win95. DOS tools are here : dos_ftpd.zip . The DOS FTP server included does not support passive mode, so set your client to use active. C64 . Serial connection. Tandy Color Computer 3 (CoCo3) . Serial Connection. Macintosh Plus . Serial and PPP support. AtariST . Serial and PPP support. OSD provides an option to switch between PPP and Console on these cores. Both console and PPP are using baud rate 115200 8N1 mode with hardware RTS/CTS flow control for stability.","title":"Cores supporting serial connection"},{"location":"advanced/computer/#console-connection","text":"Using this connection with supported terminal application on FPGA core, you can access the Linux shell and do some file managements or Linux settings if required. No special settings are required of Linux.","title":"Console connection"},{"location":"advanced/computer/#ppp-connection","text":"Using this connection core may have internet connection. More important, the core may run ftp daemon and provide access to its filesystem, so you can use FTP client on PC to move the files to/from the emulated system. PPP daemon uses /media/fat/linux/ppp_options (linux\\ppp_options of PC) file. Most likely you don't need to modify it. Recent update assigns IPs automatically. Core gets .254 IP (for example 192.168.1.254). If you want other IP, then modify ppp_options file. For correct PPP work, make sure you see a network icon in Menu core before starting the other core. Otherwise PPP link won't get IPs. If you've started core earlier, then simply connect the core to PPP and disconnect. Next connection will get correct IP. Or you can switch UART mode in OSD to renew the IP. NOTE: I'm looking Amiga and MSDOS terminal supporting color and control codes of linux, so it will be possible to use Midnight Commander in terminal connection. If you know such terminal application, then let me know.","title":"PPP connection"},{"location":"advanced/computer/#ppp-connection-in-ms-dos-on-ao486","text":"In the Mister System Menu Win + F12 set the \"Uart Connection\" to \"PPP\", Baud to \"115200\" and save it. Download the DOS PPPD driver: DOSPPP06.ZIP from HERE . Grab the latest version of Michael Brutman's mTCP TCP/IP applications for MS-DOS, from the 'Downloads' section HERE Transfer those zip files over to your ao486's virtual hard drive and unzip them into the directory of your choice (e.g. C:\\NETWORK) In MS-DOS on the core, you need to edit a mtcp config file. There's a sample config in the SAMPLES directory called 'sample.cfg' that you can use as a base, or you can use the example below (simple text file named mtcp.cfg in your installation folder). If you use the sample.cfg file, you need to add the top MTCPSLIP line.: SET MTCPSLIP=true mtu 1500 packetint 0x60 hostname ao486_fpga IPADDR 192.168.1.254 <- Change this to reflect your network. NETMASK 255.255.255.0 GATEWAY 192.168.1.1 <- Change this to reflect your network. NAMESERVER 8.8.8.8 <- You can change this to reflect your network if you want to. LEASE_TIME 86400 IRCJR_USER FPGA_User IRCJR_NICK fpga_user IRCJR_NAME FPGA_User Edit your AUTOEXEC.BAT and add the path to your installation folder, as well with the MTCP variable: PATH C:\\DOS;C:\\NETWORK SET MTCPCFG=C:\\NETWORK\\MTCP.CFG The DOS PPPD driver archive includes the ppp packet driver, which you need to load: epppd com1 115200 local Enjoy telnet, ftp, irc, and other internet applications while you use MS-DOS. Be sure and make sure you have ANSI.SYS loaded in CONFIG.SYS if you want to use the telnet client to hit telnet BBSes. Original discussion HERE .","title":"PPP connection in MS-DOS on ao486"},{"location":"advanced/computer/#ppp-connection-in-windows-95-on-ao486","text":"Unfortunately winsock and winsock2 provided by Microsoft do not work with the ppp connection when in Windows 95. The following steps will allow you to get it working: In the Mister System Menu Win + F12 set the \"Uart Connection\" to \"PPP\" and save it. In Windows 95 ensure the COM1 device is installed in Start->Settings->Control Panel->System - Device Manager Tab, there should be a twisty called Ports(COM & LPT) and under that a \"Communications Port (COM1)\" If it doesn't exist go to Start->Settings->Control Panel->Add/New Hardware and it should be automatically added. Get the replacement PPP client Download the software. There are other newer versions available BUT be warned only version 3.0 will work. Trumpet Winsock 3.0 - (I extracted the file from the disk image and uploaded it using the DOS ftp client documented above) License the Software - This software is still shareware (time limited) please license it appropriately. Once you acquire a license you can put the details in Tcpman in the \"Special\" menu in \"Password registration\" Configure Software Start Tcpman Under File-->PPP Options ensure all checkboxes are unchecked and the text boxes are blank. Under File-->Setup Enter an \"IP Address\" suitable for your LAN eg 192.168.1.254 and a \"DNS Server(s)\" 192.168.1.1 Under the Driver section select the PPP radio button and click on \"Dialer settings...\" In the \"Dialer settings...\" \"COMM port\" COM1 \"Baud rate\" 115200 Using the software ( important, be patient ) Win95 is rather slow so let it start fully before starting the PPP manager (Tcpman) Once it is started it will begin syncing with PPP on the linux host... Be patient it takes a few seconds. When you see the PPP[C021] SND and RCV you can start your TCP/IP program I have found it to be a little complicated to get started, but once it is running it is rock solid and supports multiple client programs at once.","title":"PPP connection in Windows 95 on ao486"},{"location":"advanced/computer/#serial-connection-on-c64","text":"The following is an example for connecting to a BBS using Striketerm 2014 and VIC-101 2400 baud mode: Start the C64 core (please note that custom kernels may remove functionality required, if in doubt use the built in kernel). In the Mister C64 Menu Win + F12 , go to \"Hardware\", set the \"Expansion\" to \"RS232\", \"RS232 Connection\" to \"Internal\", \"RS232 mode\" to \"VIC-1011\" and save it. In the Mister System Menu Win + F12 set the \"Uart Connection\" to \"Modem\", Link to \"TCP\", Baud to \"2400\" and save it. Load Striketerm 2014 from d64. Available from here Keep the defaults in the Main Menu F1 , ensure you are running at 2400 baud. Save a BBS into the Addressbook F5 , you can get some from here Surf the BBS very slowly... The following is an example for connecting to a BBS using CCGMS Ultimate and UP9600 mode: Start the C64 core (please note that custom kernels may remove functionality required, if in doubt use the built in kernel). In the Mister C64 Menu Win + F12 , go to \"Hardware\", set the \"Expansion\" to \"RS232\", \"RS232 Connection\" to \"Internal\", \"RS232 mode\" to \"UP9600\" and save it. In the Mister System Menu Win + F12 set the \"Uart Connection\" to \"Modem\", Link to \"TCP\", Baud to \"9600\" and save it. Load CCGMS Ultimate from d64, available here Hit F7 key to access configuration page, then M to change the modem to \"UP9600/EZ232\", then B to set the baud speed to \"9600\". Save the config with the S key. Access the Phonebook with A key from the same configuration page, save some BBS addresses from here Enjoy the faster BBS experience.","title":"Serial connection on C64"},{"location":"advanced/computer/#serial-connection-on-color-computer-3-coco3","text":"The following is an example for connecting to a BBS using UltimaTerm 4.0: Start the CoCo3 core (use Multi-pak Slot 4 Disk or Slot 2 CoCoSDC) In the MiSTer System Menu Win + F12 set the \"Uart Connection\" to \"Modem\", Link to \"TCP\", Baud to \"9600\" and save it. Mount UltimaTerm DSK file, obtainable HERE Load UltimaTerm by issuing: LOADM\"ULTIMATE Hit Alt + O to open Options Menu, then M for Modem options. Use B to modify the baud rate ( Left or Right arrows to change values) to 9600. The rest of the settings should be default (word length 8, parity none, stop bits 1, duplex full, terminal type ANSI). Save your changes with Alt + D then F1 key. Hit Alt + A to open Phonebook, add a BBS and dial away. Alternatively, you can dial directly by issuing an ATDTBBS_Address:port . Full UltimaTerm 4.0 Documentation HERE","title":"Serial connection on Color Computer 3 (CoCo3)"},{"location":"advanced/console/","text":"The DE10-nano board has console port. The console allows you to login into Linux without a network connection and also provides some debug/info which sometimes useful to track the problems. Refer to the UART-to-USB (USB Mini-B) connector on the board right side in the picture below: Connect with Windows Connect the DE10-nano board to a PC using the UART-to-USB (USB mini type B) connector next to micro-USB. The PC will recognize it as virtual COM port. Use any console application to connect to this COM port. I recommend Putty . Verify that COM port settings are correct: Speed (baud rate) - 115200 bits per second Data bits - 8 Stop bits - 1 Parity - none Flow control - none Here's a quick video for connections on Windows: Linux Connections Be sure to be a member of the dialout group. Your serial port is likely to be /dev/ttyUSB0 Configure it: $ stty -F /dev/ttyUSB0 115200 cs8 -cstopb -parenb -ixoff -ixon Look at the output while dumping it to a file: cat /dev/ttyUSB0 | tee mr.log Now mr.log has a copy of all the information shown in the screen. U-Boot command prompt To interrupt u-boot and get into the u-boot command prompt once connected to the DE10-Nano, hold 'ESC' on the PC and then power on or reboot the Nano (using the reset button). Startup should be interrupted and you should see a '=>' prompt. Here you can edit the kernel boot options etc.","title":"Console Connection"},{"location":"advanced/console/#connect-with-windows","text":"Connect the DE10-nano board to a PC using the UART-to-USB (USB mini type B) connector next to micro-USB. The PC will recognize it as virtual COM port. Use any console application to connect to this COM port. I recommend Putty . Verify that COM port settings are correct: Speed (baud rate) - 115200 bits per second Data bits - 8 Stop bits - 1 Parity - none Flow control - none Here's a quick video for connections on Windows:","title":"Connect with Windows"},{"location":"advanced/console/#linux-connections","text":"Be sure to be a member of the dialout group. Your serial port is likely to be /dev/ttyUSB0 Configure it: $ stty -F /dev/ttyUSB0 115200 cs8 -cstopb -parenb -ixoff -ixon Look at the output while dumping it to a file: cat /dev/ttyUSB0 | tee mr.log Now mr.log has a copy of all the information shown in the screen.","title":"Linux Connections"},{"location":"advanced/console/#u-boot-command-prompt","text":"To interrupt u-boot and get into the u-boot command prompt once connected to the DE10-Nano, hold 'ESC' on the PC and then power on or reboot the Nano (using the reset button). Startup should be interrupted and you should see a '=>' prompt. Here you can edit the kernel boot options etc.","title":"U-Boot command prompt"},{"location":"advanced/crt/","text":"There are a few different ways you can use your MiSTer with a classic CRT display. The two main methods are either using the VGA port on the Analog IO board or using a specific Direct Video HDMI to VGA adapter. The vast majority of this content is from the guide written by MikeS11 and ArchiveRL on the MiSTer FPGA GitHub Wiki MiSTer CRT Connectivity Options Boards / Converters You can connect MiSTer natively to a CRT set using two methods: either by installing the analogue I/O board and using its VGA output or by connecting an HDMI-to-VGA DAC dongle directly to DE10 Nano's HDMI socket. Both of these methods produce nearly identical image which in most cases should match the output of the original hardware 1:1. Apart from that, they also have their specific pros & cons: Analog I/O board Pros: extra features (buttons, led lights, etc), doesn't need SoG mod to connect to component Cons: more expensive, lesser colour depth in some cores, can't use Dual SDRAM Direct Video Pros: better colour depth, much cheaper Cons: no extra features, needs extra modification for component, not all the dongles are guaranteed to work Once you have acquired either an I/O board or a Direct video adapter, you will need to connect it to your TV via a cable and also change some settings in the mister.ini file. Cables for consumer TVs (15kHz) with RGB SCART (via both I/O board & Direct Video) - Apart from I/O board or Direct Video dongle you'll also need a special cable. You can either make one or buy it online. It's recommended to get a cable with a 470 ohm resistor on the Composite Sync line (best ask the seller if it already has one) Here are some possible sources: Misteraddons (US) , Retro Access (UK) , Ultimatemister (PT) , Wolfsoft (DE) , Antoniovillena (ES) . You can also get a MiST cable, it works in general but might be lacking the 470 Ohm resistor and is generally \"not guaranteed\": Lotharek (PL) , Amigastore (EU) . Another option is to use a VGA-SCART converter, plus normal SCART/VGA cables. Possible sources: Antoniovillena (SP) , Arcadeforge (DE) , Retro Upgrades (UK) . If you are connecting to a consumer Trinitron you might also need to add an extra resistor/potentiometer to fix odd or not lively enough colours forum link . consumer TVs (15kHz) with YPbPr component (via I/O board) - A standard VGA to Component cable should be enough. consumer TVs (15kHz) with YPbPr component (via Direct Video) - This will require cable modifications to add Sync on Green (SoG). Please read more here --> Direct Video - Setup for YPbPr Signals or see what others have to say in the forum here --> Direct Video HDMI to Component CRT 480i TV by thorr . VGA monitors (31Khz) - A standard VGA cable should be enough. PVM/BVM monitors (via I/O board) - A standard VGA to BNC cable (3xRGB + HSync) cable should be ok. PVM/BVM monitors (via Direct Video) - A standard VGA to BNC cable (3xRGB + HSync) cable should be ok. Commodore monitors - A cable for the 1084S monitor is sold by Ultimatemister (PT) . Settings Most of the settings changes are done in your MiSTer.ini file, which is located in the media/fat/ directory of your SD card. When editing this file, it is advised to backup your currently working MiSTer.ini file and then use a new MiSTer.ini from the official repository by Right Clicking this link and clicking \"save file as\" . All of the MiSTer.ini settings in this section assume you are using this default file. For I/O BOARD** consumer TVs (15kHz) with RGB SCART composite_sync=1 consumer TVs (15kHz) with Component ypbpr=1 You might need to flip the SoG switch on the I/O board VGA monitors (31khz) forced_scandoubler=1 For DIRECT VIDEO** consumer TVs (15kHz) with RGB SCART direct_video=1 composite_sync=1 consumer TVs (15kHz) with Component direct_video=1 composite_sync=1 ypbpr=1 VGA monitors (31khz) direct_video=1 forced_scandoubler=1 for PVM/BVM monitors direct_video=1 composite_sync=1 Connecting to Composite or S-Video One method of obtaining Composite or S-Video on a capable CRT TV set is by using a special adapter. At the moment these are available for sale from Antoniovillena and Ultimatemister (PT) . There's also an open-source design which you can DIY: Github / forum link . These adapters have been reported to work well in S-Video mode, but Composite has problems with rainbow artifacting and excessive dot crawl. This is currently unavoidable and expected Another alternative is the Axunworks converter . It requires using a VGA-to-BNC cable with BNC-to-RCA adapters and most likely also suffers from artifacting in Composite (forum thread) . Some other options reported to work well are converters from seller \"wakabavideo\" and \"Keene Scart to S-Video\" brand on ebay. Unofficial Custom YC (S-Video / Composite) Cores by MikeS11 These requirements are for a set of unofficial cores (currently in testing) that natively output s-video / composite directly from the core. The current cores generate two signals that use the existing RGB pins, where the luma (Brightness) uses the green output and the chroma (Color) uses the red output. Please do not report any bugs from using these cores in the official repositories, they are unofficial and in a testing state. It is possible that bugs could be induced by the changes made to the core. Connection Requirements - S-Video A custom breakout board / cable the converts VGA to S-Video. VGA to Component Cable (Only required for some monitors, i.e Commodore 1702) Custom RCA to S-Video Connector Connection Requirements - Composite A custom breakout board / cable the converts VGA to Composite VGA to Component Cable to a 1-Male to 2-Female RCA Y-Adapter Splitter Cable Note 1: It is recommended that you use a 0.47nF Capacitor in series with the Chroma signal. This will reduce the output voltage of your composite signal. Note 2: If using composite, it is recommended to use a breakout board with a luma trap that will filter out frequencies that confuse the tv from thinking brightness changes are color. (E.g Color Bleed & Rainbow Artifacting). A cheaper alternative is to connect a 10uH and 200pF capacitor in parallel to the luma signal before you combine chroma. Using the Analog IO Board with the YC Test Cores Configuration Requirements Sync on Green - ON Enable S-Video in the core menu INI Settings vga_scaler=0 Using a Direct Video adapter with the YC Test Cores Configuration Requirements A Sync On Green Circuit is Required. Please read more here: Direct Video - Setup for YPbPr Signals Enable S-Video in the core menu INI Settings YPbPr = 0 Direct_video = 1 Composite sync = 1 vga_scaler=0 More info & updates: Twitter / S-Video Chroma Generation Document YC Core Clock Frequency List / Forum Post: S-Video and Composite over Component output! (custom cores) Types of CRT Displays There are three main categories of CRTs; Consumer Televisions, Computer Monitors, and Professional Video Monitors. Some of these overlap with compatibility, but often the signals intended for one type of CRT are not ideal on another type of display. There are also different subcategories of each of these that are not very important to go into here. Generally speaking, using a CRT with the MiSTer is not a one-size-fits-all experience. Consumer Televisions Typically these are only compatible with a 15kHz frequency signal (the kind of signal video game consoles used). They were intended to be used with what is known as a \"240p\" analog signal. From the 1950's up until the late 1980's most consumer televisions only used RF video which is highly susceptible to interference, especially today. Later they began to use composite video (which is still very noisy, but less prone to interference than RF video). Some TV's would occasionally have support for S-Video (a much sharper and nicer image quality and resistant to interference), but it is less common. In many European countries these TVs also supported RGB video by way of SCART connectors (which is about as good as it gets). Finally, near the end of the life of CRT televisions in the late 90's and early 2000's they began to use Component video and even HDMI video . Most CRT televisions that you can buy used today (in the United States) are going to use composite video or component video. In europe it is more common, but still not a guarantee, to find CRT televisions with RGB SCART support used for sale. Computer Monitors Usually computer monitors were designed for higher resolution 31kHz frequency signals. They often had support only for a VGA connector , with some very few having some other options like DVI connectors . Since these displays were made for higher resolutions there can be some jitter or undesirable effects when attempting to run a lower resolution 240p signal through them, even if it is scandoubled to 31kHz. Computer Monitors are excellent at handling retro computer video signals as that is what they were designed for. There are also Multisync Monitors which are capable of natively handling 15kHz (240p) analog signals. These are less common but are highly sought after by the CRT enthusiast community, so if you are interested in having one monitor to handle all types of signals, consider acquiring a Multisync monitor. Professional Video Monitors Professional Video Monitors (PVMs) also go by many other names; Broadcast reference monitor, Broadcast video monitor (BVM) , Medical Grade Monitor, and more. Simply put, these are displays designed for professional use that often are easy to do maintenance on, have high quality components, and were very costly for their time. Professional video monitors are still made today, but they are often OLED or LCD that are very expensive and only used in niche applications for businesses. These had a wide variety of connectivity that includes all of the previous mentioned connectors sometimes, and also had specialty connectors like BNC connectors where the Red, Green, Blue, and sync signals were made into separate connectors. There are also BNC video cable configurations that require a fifth sync-on-green cable. The benefit of purchasing a used professional video monitor CRT for use with retro hardware is that they have very high quality designs that have more lines displayed (crisper image), better colors, or superior display technology to that of consumer television CRTs overall. Additionally, they were often designed to be more easily serviceable and had better shielding against electromagnetic interference. Since around the mid 80's the majority of them seem to have supported native RGB input as well, so the video quality from your output source can be far superior, in theory. PVM's also typically allow for very granular control of the image through many control dials and buttons on the front. Many PVMs also support simultaneous output to mirror the image on one display to another. Finally, a good number of PVMs are also MultiSync, meaning they can support both 15kHz and 31kHz signals, and many of them also are region agnostic supporting 50hz PAL signals and 60hz NTSC signals. Unfortunately, PVMs are incredibly expensive today, so if you don't already have one, it may be very difficult to get one now. It is not uncommon to see a mere 9\" PVM selling for over $200 US Dollars with the 19\" to 24\" displays going anywhere from $500 to over $2000 US Dollars depending on the model's popularity and features.","title":"Using Your CRT With MiSTer"},{"location":"advanced/crt/#mister-crt-connectivity-options","text":"","title":"MiSTer CRT Connectivity Options"},{"location":"advanced/crt/#boards-converters","text":"You can connect MiSTer natively to a CRT set using two methods: either by installing the analogue I/O board and using its VGA output or by connecting an HDMI-to-VGA DAC dongle directly to DE10 Nano's HDMI socket. Both of these methods produce nearly identical image which in most cases should match the output of the original hardware 1:1. Apart from that, they also have their specific pros & cons: Analog I/O board Pros: extra features (buttons, led lights, etc), doesn't need SoG mod to connect to component Cons: more expensive, lesser colour depth in some cores, can't use Dual SDRAM Direct Video Pros: better colour depth, much cheaper Cons: no extra features, needs extra modification for component, not all the dongles are guaranteed to work Once you have acquired either an I/O board or a Direct video adapter, you will need to connect it to your TV via a cable and also change some settings in the mister.ini file.","title":"Boards / Converters"},{"location":"advanced/crt/#cables","text":"for consumer TVs (15kHz) with RGB SCART (via both I/O board & Direct Video) - Apart from I/O board or Direct Video dongle you'll also need a special cable. You can either make one or buy it online. It's recommended to get a cable with a 470 ohm resistor on the Composite Sync line (best ask the seller if it already has one) Here are some possible sources: Misteraddons (US) , Retro Access (UK) , Ultimatemister (PT) , Wolfsoft (DE) , Antoniovillena (ES) . You can also get a MiST cable, it works in general but might be lacking the 470 Ohm resistor and is generally \"not guaranteed\": Lotharek (PL) , Amigastore (EU) . Another option is to use a VGA-SCART converter, plus normal SCART/VGA cables. Possible sources: Antoniovillena (SP) , Arcadeforge (DE) , Retro Upgrades (UK) . If you are connecting to a consumer Trinitron you might also need to add an extra resistor/potentiometer to fix odd or not lively enough colours forum link . consumer TVs (15kHz) with YPbPr component (via I/O board) - A standard VGA to Component cable should be enough. consumer TVs (15kHz) with YPbPr component (via Direct Video) - This will require cable modifications to add Sync on Green (SoG). Please read more here --> Direct Video - Setup for YPbPr Signals or see what others have to say in the forum here --> Direct Video HDMI to Component CRT 480i TV by thorr . VGA monitors (31Khz) - A standard VGA cable should be enough. PVM/BVM monitors (via I/O board) - A standard VGA to BNC cable (3xRGB + HSync) cable should be ok. PVM/BVM monitors (via Direct Video) - A standard VGA to BNC cable (3xRGB + HSync) cable should be ok. Commodore monitors - A cable for the 1084S monitor is sold by Ultimatemister (PT) .","title":"Cables"},{"location":"advanced/crt/#settings","text":"Most of the settings changes are done in your MiSTer.ini file, which is located in the media/fat/ directory of your SD card. When editing this file, it is advised to backup your currently working MiSTer.ini file and then use a new MiSTer.ini from the official repository by Right Clicking this link and clicking \"save file as\" . All of the MiSTer.ini settings in this section assume you are using this default file.","title":"Settings"},{"location":"advanced/crt/#for-io-board","text":"consumer TVs (15kHz) with RGB SCART composite_sync=1 consumer TVs (15kHz) with Component ypbpr=1 You might need to flip the SoG switch on the I/O board VGA monitors (31khz) forced_scandoubler=1","title":"For I/O BOARD**"},{"location":"advanced/crt/#for-direct-video","text":"consumer TVs (15kHz) with RGB SCART direct_video=1 composite_sync=1 consumer TVs (15kHz) with Component direct_video=1 composite_sync=1 ypbpr=1 VGA monitors (31khz) direct_video=1 forced_scandoubler=1 for PVM/BVM monitors direct_video=1 composite_sync=1","title":"For DIRECT VIDEO**"},{"location":"advanced/crt/#connecting-to-composite-or-s-video","text":"One method of obtaining Composite or S-Video on a capable CRT TV set is by using a special adapter. At the moment these are available for sale from Antoniovillena and Ultimatemister (PT) . There's also an open-source design which you can DIY: Github / forum link . These adapters have been reported to work well in S-Video mode, but Composite has problems with rainbow artifacting and excessive dot crawl. This is currently unavoidable and expected Another alternative is the Axunworks converter . It requires using a VGA-to-BNC cable with BNC-to-RCA adapters and most likely also suffers from artifacting in Composite (forum thread) . Some other options reported to work well are converters from seller \"wakabavideo\" and \"Keene Scart to S-Video\" brand on ebay.","title":"Connecting to Composite or S-Video"},{"location":"advanced/crt/#unofficial-custom-yc-s-video-composite-cores-by-mikes11","text":"These requirements are for a set of unofficial cores (currently in testing) that natively output s-video / composite directly from the core. The current cores generate two signals that use the existing RGB pins, where the luma (Brightness) uses the green output and the chroma (Color) uses the red output. Please do not report any bugs from using these cores in the official repositories, they are unofficial and in a testing state. It is possible that bugs could be induced by the changes made to the core.","title":"Unofficial Custom YC (S-Video / Composite) Cores by MikeS11"},{"location":"advanced/crt/#connection-requirements-s-video","text":"A custom breakout board / cable the converts VGA to S-Video. VGA to Component Cable (Only required for some monitors, i.e Commodore 1702) Custom RCA to S-Video Connector","title":"Connection Requirements - S-Video"},{"location":"advanced/crt/#connection-requirements-composite","text":"A custom breakout board / cable the converts VGA to Composite VGA to Component Cable to a 1-Male to 2-Female RCA Y-Adapter Splitter Cable Note 1: It is recommended that you use a 0.47nF Capacitor in series with the Chroma signal. This will reduce the output voltage of your composite signal. Note 2: If using composite, it is recommended to use a breakout board with a luma trap that will filter out frequencies that confuse the tv from thinking brightness changes are color. (E.g Color Bleed & Rainbow Artifacting). A cheaper alternative is to connect a 10uH and 200pF capacitor in parallel to the luma signal before you combine chroma.","title":"Connection Requirements - Composite"},{"location":"advanced/crt/#using-the-analog-io-board-with-the-yc-test-cores","text":"","title":"Using the Analog IO Board with the YC Test Cores"},{"location":"advanced/crt/#configuration-requirements","text":"Sync on Green - ON Enable S-Video in the core menu","title":"Configuration Requirements"},{"location":"advanced/crt/#ini-settings","text":"vga_scaler=0","title":"INI Settings"},{"location":"advanced/crt/#using-a-direct-video-adapter-with-the-yc-test-cores","text":"","title":"Using a Direct Video adapter with the YC Test Cores"},{"location":"advanced/crt/#configuration-requirements_1","text":"A Sync On Green Circuit is Required. Please read more here: Direct Video - Setup for YPbPr Signals Enable S-Video in the core menu","title":"Configuration Requirements"},{"location":"advanced/crt/#ini-settings_1","text":"YPbPr = 0 Direct_video = 1 Composite sync = 1 vga_scaler=0 More info & updates: Twitter / S-Video Chroma Generation Document YC Core Clock Frequency List / Forum Post: S-Video and Composite over Component output! (custom cores)","title":"INI Settings"},{"location":"advanced/crt/#types-of-crt-displays","text":"There are three main categories of CRTs; Consumer Televisions, Computer Monitors, and Professional Video Monitors. Some of these overlap with compatibility, but often the signals intended for one type of CRT are not ideal on another type of display. There are also different subcategories of each of these that are not very important to go into here. Generally speaking, using a CRT with the MiSTer is not a one-size-fits-all experience.","title":"Types of CRT Displays"},{"location":"advanced/crt/#consumer-televisions","text":"Typically these are only compatible with a 15kHz frequency signal (the kind of signal video game consoles used). They were intended to be used with what is known as a \"240p\" analog signal. From the 1950's up until the late 1980's most consumer televisions only used RF video which is highly susceptible to interference, especially today. Later they began to use composite video (which is still very noisy, but less prone to interference than RF video). Some TV's would occasionally have support for S-Video (a much sharper and nicer image quality and resistant to interference), but it is less common. In many European countries these TVs also supported RGB video by way of SCART connectors (which is about as good as it gets). Finally, near the end of the life of CRT televisions in the late 90's and early 2000's they began to use Component video and even HDMI video . Most CRT televisions that you can buy used today (in the United States) are going to use composite video or component video. In europe it is more common, but still not a guarantee, to find CRT televisions with RGB SCART support used for sale.","title":"Consumer Televisions"},{"location":"advanced/crt/#computer-monitors","text":"Usually computer monitors were designed for higher resolution 31kHz frequency signals. They often had support only for a VGA connector , with some very few having some other options like DVI connectors . Since these displays were made for higher resolutions there can be some jitter or undesirable effects when attempting to run a lower resolution 240p signal through them, even if it is scandoubled to 31kHz. Computer Monitors are excellent at handling retro computer video signals as that is what they were designed for. There are also Multisync Monitors which are capable of natively handling 15kHz (240p) analog signals. These are less common but are highly sought after by the CRT enthusiast community, so if you are interested in having one monitor to handle all types of signals, consider acquiring a Multisync monitor.","title":"Computer Monitors"},{"location":"advanced/crt/#professional-video-monitors","text":"Professional Video Monitors (PVMs) also go by many other names; Broadcast reference monitor, Broadcast video monitor (BVM) , Medical Grade Monitor, and more. Simply put, these are displays designed for professional use that often are easy to do maintenance on, have high quality components, and were very costly for their time. Professional video monitors are still made today, but they are often OLED or LCD that are very expensive and only used in niche applications for businesses. These had a wide variety of connectivity that includes all of the previous mentioned connectors sometimes, and also had specialty connectors like BNC connectors where the Red, Green, Blue, and sync signals were made into separate connectors. There are also BNC video cable configurations that require a fifth sync-on-green cable. The benefit of purchasing a used professional video monitor CRT for use with retro hardware is that they have very high quality designs that have more lines displayed (crisper image), better colors, or superior display technology to that of consumer television CRTs overall. Additionally, they were often designed to be more easily serviceable and had better shielding against electromagnetic interference. Since around the mid 80's the majority of them seem to have supported native RGB input as well, so the video quality from your output source can be far superior, in theory. PVM's also typically allow for very granular control of the image through many control dials and buttons on the front. Many PVMs also support simultaneous output to mirror the image on one display to another. Finally, a good number of PVMs are also MultiSync, meaning they can support both 15kHz and 31kHz signals, and many of them also are region agnostic supporting 50hz PAL signals and 60hz NTSC signals. Unfortunately, PVMs are incredibly expensive today, so if you don't already have one, it may be very difficult to get one now. It is not uncommon to see a mere 9\" PVM selling for over $200 US Dollars with the 19\" to 24\" displays going anywhere from $500 to over $2000 US Dollars depending on the model's popularity and features.","title":"Professional Video Monitors"},{"location":"advanced/crttable/","text":"Here's a table that shows you what options correlate to what video connection, to make it a bit easier to decide what you need in order to connect to your CRT, and what settings are required in the MiSTer.ini to get it to work. CRT Configuration Table Analog Video Out Ini: CSYNC Ini: YPbPr Ini: VGA_SOG Ini: Direct Video SoG Switch VGA Scaler Force Scandoubler RGBS Native 1 0 0 0 AUTO 0 0 RGBS Scan-doubled\u00b9 1 0 0 0 AUTO 0 1 RGBS Upscaled\u00b2 1 0 0 0 AUTO 1 0 RGBS Direct\u00b3 1 0 0 1 N/A 0 0 RGBHV Native 0 0 0 0 AUTO 0 0 RGBHV Scan-doubled 0 0 0 0 AUTO 0 1 RGBHV Upscaled\u00b2 0 0 0 0 AUTO 1 0 RGBHV Direct\u00b3 0 0 0 1 N/A 0 0 RGsB Native 1 0 1 0 AUTO 0 0 RGsB Scan-doubled\u00b9 1 0 1 0 AUTO 0 1 RGsB Upscaled\u00b2 1 0 1 0 AUTO 1 0 RGsB Direct\u00b3 1 0 1 1 N/A 0 0 YPbPr Native 0 1 1 0 OVR 0 0 YPbPr Scan-doubled 0 1 1 0 OVR 0 1 YPbPr Upscaled\u00b2 0 1 1 0 OVR 1 0 YPbPr Direct\u00b3\u2074 0 1 0 1 N/A 0 0 S-Video\u2075 1 0 0 0 N/A 0 0 Composite\u2075 1 0 0 0 N/A 0 0 \u00b9 Scan-doubled = 2x resolution (e.g. 240p > 480p) \u00b2 Upscaled resolution = video_mode \u00b3 External \"direct video\" (HDMI to VGA) adapter required - native resolution only (no upscaling or scan-doubling \u2074 External \"direct video\" adapter requires modification to pass Sync on Green (SoG) \u2075 External RGB to NTSC/PAL converter or Unofficial Y/C Core required Credit: Porkchop Express","title":"CRT Configuration Table"},{"location":"advanced/crttable/#crt-configuration-table","text":"Analog Video Out Ini: CSYNC Ini: YPbPr Ini: VGA_SOG Ini: Direct Video SoG Switch VGA Scaler Force Scandoubler RGBS Native 1 0 0 0 AUTO 0 0 RGBS Scan-doubled\u00b9 1 0 0 0 AUTO 0 1 RGBS Upscaled\u00b2 1 0 0 0 AUTO 1 0 RGBS Direct\u00b3 1 0 0 1 N/A 0 0 RGBHV Native 0 0 0 0 AUTO 0 0 RGBHV Scan-doubled 0 0 0 0 AUTO 0 1 RGBHV Upscaled\u00b2 0 0 0 0 AUTO 1 0 RGBHV Direct\u00b3 0 0 0 1 N/A 0 0 RGsB Native 1 0 1 0 AUTO 0 0 RGsB Scan-doubled\u00b9 1 0 1 0 AUTO 0 1 RGsB Upscaled\u00b2 1 0 1 0 AUTO 1 0 RGsB Direct\u00b3 1 0 1 1 N/A 0 0 YPbPr Native 0 1 1 0 OVR 0 0 YPbPr Scan-doubled 0 1 1 0 OVR 0 1 YPbPr Upscaled\u00b2 0 1 1 0 OVR 1 0 YPbPr Direct\u00b3\u2074 0 1 0 1 N/A 0 0 S-Video\u2075 1 0 0 0 N/A 0 0 Composite\u2075 1 0 0 0 N/A 0 0 \u00b9 Scan-doubled = 2x resolution (e.g. 240p > 480p) \u00b2 Upscaled resolution = video_mode \u00b3 External \"direct video\" (HDMI to VGA) adapter required - native resolution only (no upscaling or scan-doubling \u2074 External \"direct video\" adapter requires modification to pass Sync on Green (SoG) \u2075 External RGB to NTSC/PAL converter or Unofficial Y/C Core required Credit: Porkchop Express","title":"CRT Configuration Table"},{"location":"advanced/directvideo/","text":"Direct Video Since autumn of 2019 there is a method for outputting analog video called Direct Video that doesn't require you to install the IO Board in your MiSTer. This new method offers same minimal latency to the VGA port from the IO Board and even better color depth in some cores. To enjoy it, you just need to activate the feature in your mister.ini file and attach a DAC to your HDMI port. You may use an HDMI-to-VGA converter similar to this one. NOTE : as of 2021/06/27 it seems very hard to find devices which are compatible with VGA to SCART adapters. Devices which work with VGA are still easy to find. More info here: https://github.com/MiSTer-devel/Main_MiSTer/issues/410 Compatibility Direct Video is compatible with most current cores and will be supported in all future cores coming to MiSTer. RGBs, RGsB and YPbPr are supported, although YPbPr has less display compatibility in Direct Video mode compared to YPbPr from the IO Board. Note that output resolution and format can vary from core to core. See the analog video configuration table for more information. How to Use First you need a simple DAC with VGA output. Those based on the chip AG6200/AG6201 (like the one in the picture) are proven to work fine and are fairly inexpensive and easy to find. Also many of them output analog audio too. The only thing we recommend is to not hotplug them or pull them out from your MiSTer while it is still ON , since you might damage your HDMI port in the process. Then you need to add the following line to your mister.ini file: direct_video=1 This activates the Direct Video feature when the system starts. Once it's enabled, it allows your HDMI port to output the raw and unprocessed digital audio/video signal from the loaded core, which is consumed by your DAC. MiSTer will not work with your HD TV or monitor while this mode is enabled, since they require a standard HDMI signal to work, and the zero-lag Direct Video signal IS NOT standard HDMI. The resulting analog video signal from your DAC should be compatible with standard CRTs if the core loaded supports standard CRT refresh frequencies (see Core Default Resolutions for an incomplete list of the core default resolutions and refresh rates, your results may vary). But there is still a bit of additional configuration you need to do depending on which kind of analog video signal you want to use. Setup for RGB signals For analog RGB output, you'll want to enable composite sync on the HSync signal in your mister.ini ( composite_sync=1 ). After that, you are good to plug in an RGB-compatible VGA-SCART cable to your TV. For optimal results, Retro Access sells SCART and BNC cables specifically for use with MiSTer. DISCLAIMER: Please be aware that many VGA DACs may output a sync signal at 3 volts or more on pin 13 (HSYNC/CSYNC) even when being used in Direct Video mode! You will need a 470 ohm resistor on the corresponding SCART sync pin to attenuate this signal to levels that are safe for all video equipment. A variety of professional video equipment can have wide tolerances for higher voltage sync signals but other devices, especially external scalers like the OSSC or XRGB Mini Framemeister, can be worn out and reduced to a non-working state by repeated use with higher-voltage sync signals. Unless you are 100% certain your equipment can tolerate higher voltage signals, it is strongly recommended that you either purchase a cable that has a 470 ohm resistor inline or add one yourself. Retro Access MiSTer SCART cables, for example, come with a resistor inline by default. Setup for YPbPr signals YPbPr - also known as Component Video - is available in Direct Video mode but has limited compatibility. This is due to limitations of HDMI-to-VGA DACs, which were not meant to produce signals in the YPbPr color space in the first place, resulting in signals that are slightly out-of-spec. It is possible that your display will accept the Direct Video YPbPr signal with no issue, but it may also appear bright pink due to the way many displays process such signals . For higher YPbPr compatibility you may prefer RGB mode with an external RGB-to-YPbPr transcoder instead, or YPbPr via the IO Board. To use YPbPr in Direct Video mode, you'll need to enable composite_sync and ypbpr in your mister.ini file. You'll also need to add a sync-on-green circuit on your VGA connection. Sync-on-green circuits can be very simple; you just need a diode (1N4148) and a 330ohm resistor (any values between 270ohm and 390ohm are advised, too high and the sync signal is too weak, too low and it's too strong). Connection: from HSync -> anode of diode, cathode of diode -> resistor, resistor to Green signal. Doubling frequency This is a handy way to use those modern monitors that have VGA input but are typically not compatible with 15KHz signals, and require 31KHz analog video. In case you need it, you just have to set forced_scandoubler=1 in your mister.ini to turn a 15KHz signal into a 31Khz one (See which cores output 15KHz video Core Default Resolutions ). Color Depth Direct Video produces a 24bit color signal, which is superior to the 18bit signal coming from the IO Board. However, few cores use 24bit color, so the improved color depth may not make much of an impact depending on the cores you run. Also, most cheap DACs, like the ones based on the chip AG6200, don't produce Full Range RGB. They instead produce Limited Range RGB (16-235) or much more commonly a nonspec Limited Range variant (16-255). In order to compensate for this, you may want to configure the hdmi_limited option in your mister.ini to adjust the signal being sent to your DAC. Full Range (0-255): hdmi_limited=0 . Limited Range (16-235): hdmi_limited=1 . Limited Range common DAC variant (16-255): hdmi_limited=2 .","title":"Direct Video Adapter"},{"location":"advanced/directvideo/#direct-video","text":"Since autumn of 2019 there is a method for outputting analog video called Direct Video that doesn't require you to install the IO Board in your MiSTer. This new method offers same minimal latency to the VGA port from the IO Board and even better color depth in some cores. To enjoy it, you just need to activate the feature in your mister.ini file and attach a DAC to your HDMI port. You may use an HDMI-to-VGA converter similar to this one. NOTE : as of 2021/06/27 it seems very hard to find devices which are compatible with VGA to SCART adapters. Devices which work with VGA are still easy to find. More info here: https://github.com/MiSTer-devel/Main_MiSTer/issues/410","title":"Direct Video"},{"location":"advanced/directvideo/#compatibility","text":"Direct Video is compatible with most current cores and will be supported in all future cores coming to MiSTer. RGBs, RGsB and YPbPr are supported, although YPbPr has less display compatibility in Direct Video mode compared to YPbPr from the IO Board. Note that output resolution and format can vary from core to core. See the analog video configuration table for more information.","title":"Compatibility"},{"location":"advanced/directvideo/#how-to-use","text":"First you need a simple DAC with VGA output. Those based on the chip AG6200/AG6201 (like the one in the picture) are proven to work fine and are fairly inexpensive and easy to find. Also many of them output analog audio too. The only thing we recommend is to not hotplug them or pull them out from your MiSTer while it is still ON , since you might damage your HDMI port in the process. Then you need to add the following line to your mister.ini file: direct_video=1 This activates the Direct Video feature when the system starts. Once it's enabled, it allows your HDMI port to output the raw and unprocessed digital audio/video signal from the loaded core, which is consumed by your DAC. MiSTer will not work with your HD TV or monitor while this mode is enabled, since they require a standard HDMI signal to work, and the zero-lag Direct Video signal IS NOT standard HDMI. The resulting analog video signal from your DAC should be compatible with standard CRTs if the core loaded supports standard CRT refresh frequencies (see Core Default Resolutions for an incomplete list of the core default resolutions and refresh rates, your results may vary). But there is still a bit of additional configuration you need to do depending on which kind of analog video signal you want to use.","title":"How to Use"},{"location":"advanced/directvideo/#setup-for-rgb-signals","text":"For analog RGB output, you'll want to enable composite sync on the HSync signal in your mister.ini ( composite_sync=1 ). After that, you are good to plug in an RGB-compatible VGA-SCART cable to your TV. For optimal results, Retro Access sells SCART and BNC cables specifically for use with MiSTer. DISCLAIMER: Please be aware that many VGA DACs may output a sync signal at 3 volts or more on pin 13 (HSYNC/CSYNC) even when being used in Direct Video mode! You will need a 470 ohm resistor on the corresponding SCART sync pin to attenuate this signal to levels that are safe for all video equipment. A variety of professional video equipment can have wide tolerances for higher voltage sync signals but other devices, especially external scalers like the OSSC or XRGB Mini Framemeister, can be worn out and reduced to a non-working state by repeated use with higher-voltage sync signals. Unless you are 100% certain your equipment can tolerate higher voltage signals, it is strongly recommended that you either purchase a cable that has a 470 ohm resistor inline or add one yourself. Retro Access MiSTer SCART cables, for example, come with a resistor inline by default.","title":"Setup for RGB signals"},{"location":"advanced/directvideo/#setup-for-ypbpr-signals","text":"YPbPr - also known as Component Video - is available in Direct Video mode but has limited compatibility. This is due to limitations of HDMI-to-VGA DACs, which were not meant to produce signals in the YPbPr color space in the first place, resulting in signals that are slightly out-of-spec. It is possible that your display will accept the Direct Video YPbPr signal with no issue, but it may also appear bright pink due to the way many displays process such signals . For higher YPbPr compatibility you may prefer RGB mode with an external RGB-to-YPbPr transcoder instead, or YPbPr via the IO Board. To use YPbPr in Direct Video mode, you'll need to enable composite_sync and ypbpr in your mister.ini file. You'll also need to add a sync-on-green circuit on your VGA connection. Sync-on-green circuits can be very simple; you just need a diode (1N4148) and a 330ohm resistor (any values between 270ohm and 390ohm are advised, too high and the sync signal is too weak, too low and it's too strong). Connection: from HSync -> anode of diode, cathode of diode -> resistor, resistor to Green signal.","title":"Setup for YPbPr signals"},{"location":"advanced/directvideo/#doubling-frequency","text":"This is a handy way to use those modern monitors that have VGA input but are typically not compatible with 15KHz signals, and require 31KHz analog video. In case you need it, you just have to set forced_scandoubler=1 in your mister.ini to turn a 15KHz signal into a 31Khz one (See which cores output 15KHz video Core Default Resolutions ).","title":"Doubling frequency"},{"location":"advanced/directvideo/#color-depth","text":"Direct Video produces a 24bit color signal, which is superior to the 18bit signal coming from the IO Board. However, few cores use 24bit color, so the improved color depth may not make much of an impact depending on the cores you run. Also, most cheap DACs, like the ones based on the chip AG6200, don't produce Full Range RGB. They instead produce Limited Range RGB (16-235) or much more commonly a nonspec Limited Range variant (16-255). In order to compensate for this, you may want to configure the hdmi_limited option in your mister.ini to adjust the signal being sent to your DAC. Full Range (0-255): hdmi_limited=0 . Limited Range (16-235): hdmi_limited=1 . Limited Range common DAC variant (16-255): hdmi_limited=2 .","title":"Color Depth"},{"location":"advanced/diy2parcade/","text":"by Sorgelig You have assembled an arcade cabinet and looking for connecting your joysticks and buttons? You don't need to buy any of those expensive adapters. All you need is USB keyboard which you can disassemble. After disassembling the keyboard you need to find the row and column contacts on board for following keys: 5, 1P coin 1, 1P start (shift key) UP, 1P up DOWN, 1P down LEFT, 1P left RIGHT, 1P right LEFTCTRL, 1P button 1 LEFTALT, 1P button 2 SPACE, 1P button 3 LEFTSHIFT, 1P button 4 Z, 1P button 5 X, 1P button 6 C, 1P button 7 V, 1P button 8 6, 2P coin 2, 2P start R, 2P up F, 2P down D, 2P left G, 2P right A, 2P button 1 S, 2P button 2 Q, 2P button 3 W, 2P button 4 I, 2P button 5 K, 2P button 6 J, 2P button 7 L, 2P button 8 9, Test TAB, Tab (shift + 1P right) ENTER, Enter (shift + 1P left) P, P (pause) (shift + 1P down) F1, Service F2, Test F3, Tilt You can use multi-meter to find the contacts. Then connect your buttons/joystick to board according to table above. Your hardware part is done. Connect your modded arcade keyboard to USB and start Menu core, then go to Define Joystick buttons . Press any button, and you will see \"Keyboard ID: XXXX:YYYY\" where XXXX:YYYY is HW identifier of the keyboard. Press ESC to ext from this dialog. Now open MiSTer.ini and add following options there: jamma_vid=XXXX jamma_pid=YYYY XXXX and YYYY are those IDs you saw for your modded keyboard. Save and restart Menu core. Go to Define Joystick buttons again and assign buttons using P1 buttons. Note it now writes \"Joystick ID: XXXX:YYYY\" (instead of Keyboard) which means it recognizes your modded keyboard as jamma 2-player input device. P2 buttons will be automatically assigned the same as for P1. Now your Arcade input device is ready to use. Unlike normal gamepads/joysticks, this device will always assign P1 and P2 inputs statically regardless P1 or P2 button was pressed first.","title":"DIY 2-Player Arcade"},{"location":"advanced/ini/","text":"The MiSTer.ini configuration file contains global settings and is capable of storing core-specific settings for the MiSTer. We'll go over each of the Global settings here and then show you how to make exceptions for those global settings for each core. Then we'll describe some core-specific settings that can be used for core exceptions only. Alternate MiSTer INI files Before we get started, let's explain how the Alternate MiSTer INI files can work. MiSTer supports up to 4 .ini files in total ( MiSTer.ini and 3 alternate INI files). You will need to create additional .ini files manually to use this feature. By default when your MiSTer boots, it will load MiSTer.ini from the root of your MicroSD card (or in /media/fat/ if you are looking at the MiSTer remotely or from the terminal over the network). You can use hotkeys to switch to the alternate MiSTer INI files on the fly. You can also switch to Alternate MiSTer INI files in the OSD by pressing left to get to the Misc Options screen and selecting the desired INI. Hotkeys are preferred however as the screen may become unusable if there is an incompatibility. The naming scheme of the Alternate MiSter INI files is important, see the table below for the naming scheme and the corresponding hotkeys. Filename Hotkey Combination MiSTer.ini Controller: Back + Right MiSTer_alt_1.ini Controller: Back + Left MiSTer_alt_2.ini Controller: Back + Up MiSTer_alt_3.ini Controller: Back + Down This is useful for things like hybrid cores that can play multiple systems. For example, the Sega Master System core which also supports Game Gear games. You may want to use a vscale_border setting just for Game Gear games, so you can set up an alternate MiSTer INI file by copying your current MiSTer.ini and renaming it to MiSTer_alt_1.ini , editing the vscale_border option just in that one will allow you to apply a border to Game Gear games on the fly. Another example is if you want to switch your video_mode (screen resolution) on the fly for various reasons, or if you want to switch your vsync_adjust option on the fly. General Video Settings vscale_mode - Changes how the image is scaled to the screen. 0 will fit the whole image to screen, 1 is 1:1 integer scaled, 2 uses 0.5 steps to scale, and 3 uses 0.25 steps to scale. vscale_border - Sets an overscan border to the screen in number of pixels (1-399) hdmi_limited - Changes the color range output over HDMI. 0 = 0-255 , 1 = 16-235 , and 2 = 16-255 . A setting of 2 can be useful if you have problems with some Digital Video adapters. It can also help if your screen has a dynamic backlight and you want to brighten things up, to change the setting to 1. fb_size - Effects the scaling of things drawn to the Linux framebuffer, such as when you run scripts. Best left to 0 for automatic. video_mode - Sets the resolution for HDMI and VGA_Scaler output. This can be one of the premade values from 0-13 or it can be a custom video mode. See the notes in the .ini Master for custom video mode syntax. There is also a useful custom video mode tool by morf77 available here which can be used in conjunction with a modeline calculator . video_info - Number of seconds that it will display the video info in the top left corner of the screen whenever the resolution or frequency has changed. vsync_adjust - Adjusts the buffer settings for the frames sent to the display. For more details on how this works, see the Video Configuration 's vsync_adjust section. Essentially, the values of 0-2 are in order of most compatible+highest lag to least compatible+lowest lag. refresh_min - Forces a minimum refresh rate. refresh_max - Forces a maximum refresh rate. `` - Analog Video Settings forced_scandoubler - VGA output will always run in 31kHz mode (scandoubled) if this setting is turned on, useful for computer CRT's. ypbpr - Changes the VGA output to a YPbPr signal. composite_sync - Sends the sync signal on Hsync over VGA output, needed for certain configurations. vga_scaler - Sends the scaler output to the VGA port (either Analog IO or Direct Video). This is usually used with computer CRTs and other 31kHz displays which are not compatible with 240p TV signals. menu_pal - Forces the Menu core to run in PAL mode. direct_video - This changes the HDMI output to an analog signal, only supported with certain Direct Video Adapters that have AG62xx chipsets. If you have issues with color or no image, in addition to checking composite_sync and ypbpr options, you can also try changing hdmi_limited to 1 . If you are using ypbpr with component cables, the Direct Video adapter will need a modification to combine HSYNC and Green in order to work. fb_terminal - Best left at 1. If you have issues with running scripts on a CRT or Analog display, try switching this to 0 to see if that helps. Audio Settings hdmi_audio_96k - Changes the HDMI audio sampling rate from 48kHz (default) to 96kHz. This can help with the audio of some systems that have strange sampling rates (like Turbografx-16's sampling rate of 32.088kHz for instance). dvi_mode - DVI mode over the HDMI connection, this disables audio transmission over HDMI when turned on. Controller Settings mouse_throttle - Can be used to change the speed of your mouse (1-100). Good for very sensitive mice. gamepad_defaults - bt_auto_disconnect - Amount of minutes of inactivity before Bluetooth disconnects automatically. Default is 0 (off). bt_reset_before_pair - Resets bluetooth adapter before pairing dialog. If you enable this some input devices may get shutdown after a reset. Menu Settings rbf_hide_datecode - Hides the date codes from the core names in the core selection menu. osd_timeout - The length of time the OSD is displayed when brought up and no inputs have been pressed. 0 - never timeout, and the range of values are 5-3600 seconds. osd_rotate - Rotate the OSD. Useful for when you rotate your monitor for certain Arcade cores. 0 - no rotation, 1 - rotate right (+90\u00b0), and 2 - rotate left (-90\u00b0). Debug Settings log_file_entry - Writes filename under the curse in browser for use by external integrations. Adding Core-specific Settings It is possible to specify different settings for different cores; for example, you may prefer to use integer scaling just for the Game Boy Advance core so that you don't need any video filters for smooth scrolling. Simply add a section at the end of the INI file with the core name in brackets and paste your different settings below there, like so: [GBA] vscale_mode=1 Or, suppose you wanted to add an option to select 8:7 aspect ratio for the SNES core: [SNES] custom_aspect_ratio_1=8:7 The Menu core can have its own settings too. Create a section named [Menu] to specify settings for it.","title":"INI Settings"},{"location":"advanced/ini/#alternate-mister-ini-files","text":"Before we get started, let's explain how the Alternate MiSTer INI files can work. MiSTer supports up to 4 .ini files in total ( MiSTer.ini and 3 alternate INI files). You will need to create additional .ini files manually to use this feature. By default when your MiSTer boots, it will load MiSTer.ini from the root of your MicroSD card (or in /media/fat/ if you are looking at the MiSTer remotely or from the terminal over the network). You can use hotkeys to switch to the alternate MiSTer INI files on the fly. You can also switch to Alternate MiSTer INI files in the OSD by pressing left to get to the Misc Options screen and selecting the desired INI. Hotkeys are preferred however as the screen may become unusable if there is an incompatibility. The naming scheme of the Alternate MiSter INI files is important, see the table below for the naming scheme and the corresponding hotkeys. Filename Hotkey Combination MiSTer.ini Controller: Back + Right MiSTer_alt_1.ini Controller: Back + Left MiSTer_alt_2.ini Controller: Back + Up MiSTer_alt_3.ini Controller: Back + Down This is useful for things like hybrid cores that can play multiple systems. For example, the Sega Master System core which also supports Game Gear games. You may want to use a vscale_border setting just for Game Gear games, so you can set up an alternate MiSTer INI file by copying your current MiSTer.ini and renaming it to MiSTer_alt_1.ini , editing the vscale_border option just in that one will allow you to apply a border to Game Gear games on the fly. Another example is if you want to switch your video_mode (screen resolution) on the fly for various reasons, or if you want to switch your vsync_adjust option on the fly.","title":"Alternate MiSTer INI files"},{"location":"advanced/ini/#general-video-settings","text":"vscale_mode - Changes how the image is scaled to the screen. 0 will fit the whole image to screen, 1 is 1:1 integer scaled, 2 uses 0.5 steps to scale, and 3 uses 0.25 steps to scale. vscale_border - Sets an overscan border to the screen in number of pixels (1-399) hdmi_limited - Changes the color range output over HDMI. 0 = 0-255 , 1 = 16-235 , and 2 = 16-255 . A setting of 2 can be useful if you have problems with some Digital Video adapters. It can also help if your screen has a dynamic backlight and you want to brighten things up, to change the setting to 1. fb_size - Effects the scaling of things drawn to the Linux framebuffer, such as when you run scripts. Best left to 0 for automatic. video_mode - Sets the resolution for HDMI and VGA_Scaler output. This can be one of the premade values from 0-13 or it can be a custom video mode. See the notes in the .ini Master for custom video mode syntax. There is also a useful custom video mode tool by morf77 available here which can be used in conjunction with a modeline calculator . video_info - Number of seconds that it will display the video info in the top left corner of the screen whenever the resolution or frequency has changed. vsync_adjust - Adjusts the buffer settings for the frames sent to the display. For more details on how this works, see the Video Configuration 's vsync_adjust section. Essentially, the values of 0-2 are in order of most compatible+highest lag to least compatible+lowest lag. refresh_min - Forces a minimum refresh rate. refresh_max - Forces a maximum refresh rate. `` -","title":"General Video Settings"},{"location":"advanced/ini/#analog-video-settings","text":"forced_scandoubler - VGA output will always run in 31kHz mode (scandoubled) if this setting is turned on, useful for computer CRT's. ypbpr - Changes the VGA output to a YPbPr signal. composite_sync - Sends the sync signal on Hsync over VGA output, needed for certain configurations. vga_scaler - Sends the scaler output to the VGA port (either Analog IO or Direct Video). This is usually used with computer CRTs and other 31kHz displays which are not compatible with 240p TV signals. menu_pal - Forces the Menu core to run in PAL mode. direct_video - This changes the HDMI output to an analog signal, only supported with certain Direct Video Adapters that have AG62xx chipsets. If you have issues with color or no image, in addition to checking composite_sync and ypbpr options, you can also try changing hdmi_limited to 1 . If you are using ypbpr with component cables, the Direct Video adapter will need a modification to combine HSYNC and Green in order to work. fb_terminal - Best left at 1. If you have issues with running scripts on a CRT or Analog display, try switching this to 0 to see if that helps.","title":"Analog Video Settings"},{"location":"advanced/ini/#audio-settings","text":"hdmi_audio_96k - Changes the HDMI audio sampling rate from 48kHz (default) to 96kHz. This can help with the audio of some systems that have strange sampling rates (like Turbografx-16's sampling rate of 32.088kHz for instance). dvi_mode - DVI mode over the HDMI connection, this disables audio transmission over HDMI when turned on.","title":"Audio Settings"},{"location":"advanced/ini/#controller-settings","text":"mouse_throttle - Can be used to change the speed of your mouse (1-100). Good for very sensitive mice. gamepad_defaults - bt_auto_disconnect - Amount of minutes of inactivity before Bluetooth disconnects automatically. Default is 0 (off). bt_reset_before_pair - Resets bluetooth adapter before pairing dialog. If you enable this some input devices may get shutdown after a reset.","title":"Controller Settings"},{"location":"advanced/ini/#menu-settings","text":"rbf_hide_datecode - Hides the date codes from the core names in the core selection menu. osd_timeout - The length of time the OSD is displayed when brought up and no inputs have been pressed. 0 - never timeout, and the range of values are 5-3600 seconds. osd_rotate - Rotate the OSD. Useful for when you rotate your monitor for certain Arcade cores. 0 - no rotation, 1 - rotate right (+90\u00b0), and 2 - rotate left (-90\u00b0).","title":"Menu Settings"},{"location":"advanced/ini/#debug-settings","text":"log_file_entry - Writes filename under the curse in browser for use by external integrations.","title":"Debug Settings"},{"location":"advanced/ini/#adding-core-specific-settings","text":"It is possible to specify different settings for different cores; for example, you may prefer to use integer scaling just for the Game Boy Advance core so that you don't need any video filters for smooth scrolling. Simply add a section at the end of the INI file with the core name in brackets and paste your different settings below there, like so: [GBA] vscale_mode=1 Or, suppose you wanted to add an option to select 8:7 aspect ratio for the SNES core: [SNES] custom_aspect_ratio_1=8:7 The Menu core can have its own settings too. Create a section named [Menu] to specify settings for it.","title":"Adding Core-specific Settings"},{"location":"advanced/lag/","text":"A common concern among retro enthusiasts is whether a device of this sort has lag and whether it will create a less desirable experience compared to original hardware. Every electronic equipment exhibits some kind of latency , but it only becomes problematic if this latency causes frames to be missed. A frame is typically 16ms for a system using a 60 frames per second (60 Hz) display. Lag is only problematic in a few specific cases: * Some older games were designed to rely on extremely quick response times (e.g. Punch-Out on NES). * If the latency is different between two players, it could introduce an unfair advantage. * Lag that isn't constant can be an issue on games that require precise movement. (Most players can adapt to lag that is consistent.) There are three major categories of lag. Input , which involves controllers, mouse, etc, Processing , which would involve buffering in the core, execution or delays in code and Display which involves the output of the video to your display device. For a more detailed overview of lag and exploration of it, please refer to this page: https://inputlag.science/ Input For input, MiSTer primarily uses USB. In this case the overall input lag is the sum of the lag caused by the USB polling and the lag caused by the controller itself, how quickly it processes the signals. The latter is outside the scope of MiSTer and can only be improved by using a better controller. On the MiSTer side only the lag caused by the USB polling can be reduced if the connected USB device supports a lower polling interval. The polling interval is measured in Hz and indicates how often a USB device is polled per second. At 1000 Hz, a USB device is polled 1000 times per second, which means the additional lag caused by the polling is 1 s / 1000 = 1 ms in the worst case and 0.5 ms on average. This is a great improvement compared to the default value of 125 Hz, where a USB device is polled 125 times per second, which means the additional lag caused by the polling is 1 s / 125 = 8 ms in the worst case and 4 ms on average. If a game is rendered at 60 frames per second, a single frame takes 1 s / 60 \u2248 16 ms to process. One might think that any polling interval below 16 ms would be perfect; however, USB polling happens independently of the vertical sync. Therefore, even with a 1 ms polling interval, there is a chance of 1/16 that the whole frame will be missed and input will be processed on the next frame. The longer the polling interval, the greater the odds of a missed frame. With a polling interval of 8 ms, the odds of input missing a frame are 50%. Native polling rates and input response vary across consoles and even games. Processing This is one core advantage of emulation using FPGAs. Unlike software emulators which go through a cycle of executing, and then waiting for a screen refresh, FPGA cores run in real time, as the original hardware did. This means that cores don\u2019t have CPU bottlenecks to slow them down arbitrarily or require additional large buffers to hold data under most circumstances. Display MiSTer\u2019s two primary display outputs are analog and HDMI. The analog output is driven as the original system would have, with no buffering, and so it will be effectively identical to the latency of a real console. From this point of view, the analog output cannot have any form of lag. When using HDMI output the image must be scaled up to fit the higher resolutions, which requires additional processing. The MiSTer scaler has options which impact its latency. Using vsync_adjust=2 in the ini file will result in about 4 scanlines of latency, while 0 or 1 will result in up to roughly 2 frames of latency, with the added advantage of being more compatible with displays. In addition your own television or monitor may introduce more latency, but this varies by device and no definite number can be given on that here. In summary, if lag is critical to you, it's best to play on a CRT using a recommended and widely-tested USB controller. Some users have tested and ranked USB controllers by performance; you can see their results here . An alternate thorough list of tested controllers by misteraddons is also available here . Do keep in mind, however, that even over HDMI MiSTer is capable of providing a better experience than many other devices. Reducing Lag Video lag MiSTer offers options in how to configure its HDMI upscaler, making a tradeoff between compatibility and low latency. These can be set in the MiSTER.INI file at the root of the SD card: vsync_adjust=2 is the best option if it is compatible with your TV. This mode uses the original refresh rate and pixel clock of the core, resulting in sub-frame latency. The actual latency of this mode is around 4 to 30 lines of lag according to Grabulosaure who made the scaler in this video he made . vsync_adjust=1 is the second best option and it has 1 frame of latency. This mode uses a framebuffer, but maintains the system's original vsync and varies the pixel clock per core. vsync_adjust=0 is the lesser option, but it is the most compatible vsync_adjust mode. Up to 2-3 frames of latency and less smooth scrolling. This mode guarantees 60 hz output with an NTSC standard pixel clock. Input lag USB controllers usually have an interval value which the host (MiSTer Linux kernel) respects to poll their inputs at. Most USB devices can actually perform better by being polled more often without any side effects. To set a higher USB polling rate, you need to go to the \"linux\" subdirectory on your SD card and rename \"u-boot.txt_example\" to \"u-boot.txt\". The aforementioned file contains the following options, which should only be changed if you are encountering problems: v = loglevel = 4 usbhid.jspoll = 1 xpad.cpoll = 1 loglevel : 4 is the default value. You can set this to 9 to get debugging messages with dmesg command via SSH. If you just want to know which values of usbhid.jspoll and xpad.cpoll are applied to your controller, there are easier ways to achieve this (see below). usbhid.jspoll : specifies the interval for USB HID controllers, usually DirectInput. 0 is the default value MiSTer uses (even when there is no \"u_boot.txt\"). In this case the requested value from the controller is used. 1 is the recommended value (which means 1000/1 = 1000 Hz polling rate). However, if you ever encounter any issues, try higher integer values. The higher the interval, the higher the possible lag. This shouldn't go above 8 (which means 1000/8 = 125 Hz polling rate). To see which value is applied to your controller, you can run systool -m usbhid -A jspoll from the Linux shell. xpad.cpoll : specifies the interval for USB XInput controllers. Most popular controllers use this. There is no practical difference here. XInput is for Microsoft's Xbox consoles and PC. 0 is the default value MiSTer uses (even when there is no \"u_boot.txt\"). In this case the requested value from the controller is used. 1 is the recommended value (which means 1000/1 = 1000 Hz polling rate). However, if you ever encounter any issues, try higher integer values. The higher the interval, the higher the possible lag. This shouldn't go above 8 (which means 1000/8 = 125 Hz polling rate). To see which value is applied to your controller, you can run systool -m xpad -A cpoll from the Linux shell. What is the fastest controller I can get? Almost any standard USB controller will work well with MiSTer, however there is a short list of excellent controllers that we can suggest based on user feedback and input lag testing: 8bitdo M30 2.4g connected in wired mode Sony DS4 in wired mode Hori Fighting Commander (later revisions), either PS4 or XBOX1 variant is fine; pick your favorite DIY USB adapter using open source firmware available here Generally speaking, while Bluetooth connected devices will work fine, you can expect the highest amount of input latency while using your controller in this way. Please keep in mind, \u201chigh latency\u201d controllers should add, at most, 16 ms (1/60th of a second) or one frame (or rarely, depending on the controller, 32ms) of lag, and not constantly, to your experience, which is not a lot of lag, so if you\u2019re not the type of person who notices that, you can safely just use any decent USB controller. Variable lag (the input response varying between 1 and 3 frames, for instance) is more noticeable than consistent lag. There are very few controllers which add more than 1 frame of lag. There is no definitive fastest controller that you can get, but there are quite a few at the top of the list. You can, again, check MiSTerAddons and Lemonici's MiSTer Input Latency Chart for a definitive community sourced list of controllers tested with MiSTer with a separate device that uses the DE10-Nano's headers to get an objective result.","title":"Lag Explained"},{"location":"advanced/lag/#input","text":"For input, MiSTer primarily uses USB. In this case the overall input lag is the sum of the lag caused by the USB polling and the lag caused by the controller itself, how quickly it processes the signals. The latter is outside the scope of MiSTer and can only be improved by using a better controller. On the MiSTer side only the lag caused by the USB polling can be reduced if the connected USB device supports a lower polling interval. The polling interval is measured in Hz and indicates how often a USB device is polled per second. At 1000 Hz, a USB device is polled 1000 times per second, which means the additional lag caused by the polling is 1 s / 1000 = 1 ms in the worst case and 0.5 ms on average. This is a great improvement compared to the default value of 125 Hz, where a USB device is polled 125 times per second, which means the additional lag caused by the polling is 1 s / 125 = 8 ms in the worst case and 4 ms on average. If a game is rendered at 60 frames per second, a single frame takes 1 s / 60 \u2248 16 ms to process. One might think that any polling interval below 16 ms would be perfect; however, USB polling happens independently of the vertical sync. Therefore, even with a 1 ms polling interval, there is a chance of 1/16 that the whole frame will be missed and input will be processed on the next frame. The longer the polling interval, the greater the odds of a missed frame. With a polling interval of 8 ms, the odds of input missing a frame are 50%. Native polling rates and input response vary across consoles and even games.","title":"Input"},{"location":"advanced/lag/#processing","text":"This is one core advantage of emulation using FPGAs. Unlike software emulators which go through a cycle of executing, and then waiting for a screen refresh, FPGA cores run in real time, as the original hardware did. This means that cores don\u2019t have CPU bottlenecks to slow them down arbitrarily or require additional large buffers to hold data under most circumstances.","title":"Processing"},{"location":"advanced/lag/#display","text":"MiSTer\u2019s two primary display outputs are analog and HDMI. The analog output is driven as the original system would have, with no buffering, and so it will be effectively identical to the latency of a real console. From this point of view, the analog output cannot have any form of lag. When using HDMI output the image must be scaled up to fit the higher resolutions, which requires additional processing. The MiSTer scaler has options which impact its latency. Using vsync_adjust=2 in the ini file will result in about 4 scanlines of latency, while 0 or 1 will result in up to roughly 2 frames of latency, with the added advantage of being more compatible with displays. In addition your own television or monitor may introduce more latency, but this varies by device and no definite number can be given on that here. In summary, if lag is critical to you, it's best to play on a CRT using a recommended and widely-tested USB controller. Some users have tested and ranked USB controllers by performance; you can see their results here . An alternate thorough list of tested controllers by misteraddons is also available here . Do keep in mind, however, that even over HDMI MiSTer is capable of providing a better experience than many other devices.","title":"Display"},{"location":"advanced/lag/#reducing-lag","text":"","title":"Reducing Lag"},{"location":"advanced/lag/#video-lag","text":"MiSTer offers options in how to configure its HDMI upscaler, making a tradeoff between compatibility and low latency. These can be set in the MiSTER.INI file at the root of the SD card: vsync_adjust=2 is the best option if it is compatible with your TV. This mode uses the original refresh rate and pixel clock of the core, resulting in sub-frame latency. The actual latency of this mode is around 4 to 30 lines of lag according to Grabulosaure who made the scaler in this video he made . vsync_adjust=1 is the second best option and it has 1 frame of latency. This mode uses a framebuffer, but maintains the system's original vsync and varies the pixel clock per core. vsync_adjust=0 is the lesser option, but it is the most compatible vsync_adjust mode. Up to 2-3 frames of latency and less smooth scrolling. This mode guarantees 60 hz output with an NTSC standard pixel clock.","title":"Video lag"},{"location":"advanced/lag/#input-lag","text":"USB controllers usually have an interval value which the host (MiSTer Linux kernel) respects to poll their inputs at. Most USB devices can actually perform better by being polled more often without any side effects. To set a higher USB polling rate, you need to go to the \"linux\" subdirectory on your SD card and rename \"u-boot.txt_example\" to \"u-boot.txt\". The aforementioned file contains the following options, which should only be changed if you are encountering problems: v = loglevel = 4 usbhid.jspoll = 1 xpad.cpoll = 1 loglevel : 4 is the default value. You can set this to 9 to get debugging messages with dmesg command via SSH. If you just want to know which values of usbhid.jspoll and xpad.cpoll are applied to your controller, there are easier ways to achieve this (see below). usbhid.jspoll : specifies the interval for USB HID controllers, usually DirectInput. 0 is the default value MiSTer uses (even when there is no \"u_boot.txt\"). In this case the requested value from the controller is used. 1 is the recommended value (which means 1000/1 = 1000 Hz polling rate). However, if you ever encounter any issues, try higher integer values. The higher the interval, the higher the possible lag. This shouldn't go above 8 (which means 1000/8 = 125 Hz polling rate). To see which value is applied to your controller, you can run systool -m usbhid -A jspoll from the Linux shell. xpad.cpoll : specifies the interval for USB XInput controllers. Most popular controllers use this. There is no practical difference here. XInput is for Microsoft's Xbox consoles and PC. 0 is the default value MiSTer uses (even when there is no \"u_boot.txt\"). In this case the requested value from the controller is used. 1 is the recommended value (which means 1000/1 = 1000 Hz polling rate). However, if you ever encounter any issues, try higher integer values. The higher the interval, the higher the possible lag. This shouldn't go above 8 (which means 1000/8 = 125 Hz polling rate). To see which value is applied to your controller, you can run systool -m xpad -A cpoll from the Linux shell.","title":"Input lag"},{"location":"advanced/lag/#what-is-the-fastest-controller-i-can-get","text":"Almost any standard USB controller will work well with MiSTer, however there is a short list of excellent controllers that we can suggest based on user feedback and input lag testing: 8bitdo M30 2.4g connected in wired mode Sony DS4 in wired mode Hori Fighting Commander (later revisions), either PS4 or XBOX1 variant is fine; pick your favorite DIY USB adapter using open source firmware available here Generally speaking, while Bluetooth connected devices will work fine, you can expect the highest amount of input latency while using your controller in this way. Please keep in mind, \u201chigh latency\u201d controllers should add, at most, 16 ms (1/60th of a second) or one frame (or rarely, depending on the controller, 32ms) of lag, and not constantly, to your experience, which is not a lot of lag, so if you\u2019re not the type of person who notices that, you can safely just use any decent USB controller. Variable lag (the input response varying between 1 and 3 frames, for instance) is more noticeable than consistent lag. There are very few controllers which add more than 1 frame of lag. There is no definitive fastest controller that you can get, but there are quite a few at the top of the list. You can, again, check MiSTerAddons and Lemonici's MiSTer Input Latency Chart for a definitive community sourced list of controllers tested with MiSTer with a separate device that uses the DE10-Nano's headers to get an objective result.","title":"What is the fastest controller I can get?"},{"location":"advanced/mgl/","text":"MGL files are a new way to load ROMs directly from the Menu core. This feature could potentially change more in the future as it's very new. MGL files run games automatically You can add your favorite games to the main menu (below the Arcade, Computer, Console etc. folders) - or - e.g. inside a folder for instance called 'Favorites'. It needs to be named _Favorites in the file system to show up in the menu. Each of your favorite games must have an MGL file to be accessible in the menu. At the time of writing (late February 2022) MGL is not supported on the Atari ST, Minimig, Archie and Sharp cores. MGL Format Examples: <mistergamedescription> <rbf> _console/snes </rbf> <file delay= \"2\" type= \"f\" index= \"0\" path= \"dummy.snes\" /> </mistergamedescription> <mistergamedescription> <rbf> _console/gameboy </rbf> <file delay= \"1\" type= \"f\" index= \"1\" path= \"dummy.gbc\" /> </mistergamedescription> <mistergamedescription> <rbf> _Computer/C64 </rbf> <file delay= \"1\" type= \"f\" index= \"1\" path= \"dummy.prg\" /> </mistergamedescription> <rbf> : path to the core and its name. If the core is outside the _console folder just its name. <file delay= amount of seconds to wait before load/mount (e.g. 1:turbografx16, neogeo, gba, gameboy, genesis, c64 and 2:snes). type= f: load file. s: mount index= 0 for most console cores but 1 for e.g. the NeoGeo and Gameboy cores. path= path to game file inside the core's games folder. E.g. Puzzles/Dummy.bin All parameters must be present. If a core pops up the OSD menu after loading the game or the game doesn't load try increasing the delay. It could also be due to wrong the index number, file type or game file path so check those too. Until a complete list of cores and their index numbers and file types is ready you can test different index numbers and the file types listed above or look at the code for each core on Github. E.g. for the TurboGraphics core you can take a look at the file TurboGrafx16.sv to see the index numbers and file types supported by that core. Find a section that starts with parameter CONF_STR and in that section look for the ROM type you are loading/mounting. In this case it will be \"S0,CUECHD,Insert CD;\" . Notice the S0, that is the \"s\" type with index of 0.","title":"MGL Files"},{"location":"advanced/mgl/#mgl-files-run-games-automatically","text":"You can add your favorite games to the main menu (below the Arcade, Computer, Console etc. folders) - or - e.g. inside a folder for instance called 'Favorites'. It needs to be named _Favorites in the file system to show up in the menu. Each of your favorite games must have an MGL file to be accessible in the menu. At the time of writing (late February 2022) MGL is not supported on the Atari ST, Minimig, Archie and Sharp cores.","title":"MGL files run games automatically"},{"location":"advanced/mgl/#mgl-format","text":"Examples: <mistergamedescription> <rbf> _console/snes </rbf> <file delay= \"2\" type= \"f\" index= \"0\" path= \"dummy.snes\" /> </mistergamedescription> <mistergamedescription> <rbf> _console/gameboy </rbf> <file delay= \"1\" type= \"f\" index= \"1\" path= \"dummy.gbc\" /> </mistergamedescription> <mistergamedescription> <rbf> _Computer/C64 </rbf> <file delay= \"1\" type= \"f\" index= \"1\" path= \"dummy.prg\" /> </mistergamedescription> <rbf> : path to the core and its name. If the core is outside the _console folder just its name. <file delay= amount of seconds to wait before load/mount (e.g. 1:turbografx16, neogeo, gba, gameboy, genesis, c64 and 2:snes). type= f: load file. s: mount index= 0 for most console cores but 1 for e.g. the NeoGeo and Gameboy cores. path= path to game file inside the core's games folder. E.g. Puzzles/Dummy.bin All parameters must be present. If a core pops up the OSD menu after loading the game or the game doesn't load try increasing the delay. It could also be due to wrong the index number, file type or game file path so check those too. Until a complete list of cores and their index numbers and file types is ready you can test different index numbers and the file types listed above or look at the code for each core on Github. E.g. for the TurboGraphics core you can take a look at the file TurboGrafx16.sv to see the index numbers and file types supported by that core. Find a section that starts with parameter CONF_STR and in that section look for the ROM type you are loading/mounting. In this case it will be \"S0,CUECHD,Insert CD;\" . Notice the S0, that is the \"s\" type with index of 0.","title":"MGL Format"},{"location":"advanced/midi/","text":"There are multiple options for using MIDI on the MiSTer. Here's a few of the ways you can use it below. The mt32-pi Project Dale Whinham (aka d0pefish) has come up with an open source MIDI synthesizer for the raspberry pi called mt32-pi. For the most up to date instructions on how to use mt32-pi with your MiSTer, please go to the MiSTer FPGA section of the mt32-pi wiki to get all of the information you should need. There are also two add-on boards designed by sorgelig specifically for mt32-pi to be used with the MiSTer. MT32-pi Video Example Computer Cores with MIDI support. When running the Minimig and ao486 cores, once a ALSA compatible USB MIDI device is attached, two additional \u2018UART Connection\u2019 menu options (\u2018USBMIDI\u2019 and \u2018USBMIDI-38K\u2019) will be available in addition to \u2018None\u2019, \u2018PPP\u2019 and \u2018Console\u2019. Minimig \u2018USBMIDI\u2019 - This option is used with the Amiga / Minimig core. This option sets the UART connection speed to 31250 baud which is the standard MIDI speed. Many Amiga applications and most games don\u2019t require any additional drivers for MIDI. Some \u201cnewer\u201d applications may require the CAMD driver. Aminet : CAMD ao486 \u2018USBMIDI-38K\u2019 - This option is used with the ao486 core. This option sets the UART Connection speed to 38400 baud. (The MIDI speed of 31250 baud is not a standard speed DOS PC UARTs were capable of doing) While some sequencer applications and Microsoft Windows may support MIDI on the serial port, DOS games typically require a MPU-401 interface which ao486 unfortunately lacks. In lieu of hardware MPU-401 capability the SoftMPU TSR can be used with a good degree of success. SoftMPU SoftMPU SoftMPU requires the QEMM memory manager be installed. For testing QEMM 8.03 was used. QEMM \u201cstealth\u201d option seems to be incompatible with ao486 so it is advisable to skip that part of the optimize process. It\u2019s a good idea to run the QEMM optimize application again after installing SoftMPU (in the AUTOEXEC.BAT) to get as much of the lower 640K conventional RAM free as possible. Although less common, some DOS games and applications require MPU-401 interrupts. This option can break compatibility with others software not requiring interrupts. Starting SoftMPU without MPU-401 interrupts: SOFTMPU.EXE /MPU:330 /OUTPUT:COM1 Starting SoftMPU with MPU-401 interrupts: SOFTMPU.EXE /SB:220 /IRQ:5 /MPU:330 /OUTPUT:COM1 The Rev.0 Roland MT-32 used in testing required the \u2018DELAYSYSEX\u2019 switch to prevent buffer overflow for certain games but made Sierra games upload sysex commands excessively slowly. This is not necessary for General MIDI modules and newer revision MT-32s. SOFTMPU.EXE /MPU:330 /DELAYSYSEX /OUTPUT:COM1 MidilLink The 'midilink' daemon currently supports following switches / options: TESTSER - this option sends a test message to the serial port once the daemon is started. TESTMIDI - this option sends a middle 'c' note to the MIDI device once the daemon is started. QUIET - this option suppresses MIDI debug output. 38400 - this option sets the serial speed to 38400 baud (default is 31250 baud) - used with ao486 core. MidiLink Github MIDI Adapters reported to work Creative EMU XMIDI (Known to mangle SYSEX messages) Roland UM-ONE M-Audio Midisport Uno","title":"MIDI Features"},{"location":"advanced/midi/#the-mt32-pi-project","text":"Dale Whinham (aka d0pefish) has come up with an open source MIDI synthesizer for the raspberry pi called mt32-pi. For the most up to date instructions on how to use mt32-pi with your MiSTer, please go to the MiSTer FPGA section of the mt32-pi wiki to get all of the information you should need. There are also two add-on boards designed by sorgelig specifically for mt32-pi to be used with the MiSTer.","title":"The mt32-pi Project"},{"location":"advanced/midi/#mt32-pi-video-example","text":"","title":"MT32-pi Video Example"},{"location":"advanced/midi/#computer-cores-with-midi-support","text":"When running the Minimig and ao486 cores, once a ALSA compatible USB MIDI device is attached, two additional \u2018UART Connection\u2019 menu options (\u2018USBMIDI\u2019 and \u2018USBMIDI-38K\u2019) will be available in addition to \u2018None\u2019, \u2018PPP\u2019 and \u2018Console\u2019.","title":"Computer Cores with MIDI support."},{"location":"advanced/midi/#minimig","text":"\u2018USBMIDI\u2019 - This option is used with the Amiga / Minimig core. This option sets the UART connection speed to 31250 baud which is the standard MIDI speed. Many Amiga applications and most games don\u2019t require any additional drivers for MIDI. Some \u201cnewer\u201d applications may require the CAMD driver. Aminet : CAMD","title":"Minimig"},{"location":"advanced/midi/#ao486","text":"\u2018USBMIDI-38K\u2019 - This option is used with the ao486 core. This option sets the UART Connection speed to 38400 baud. (The MIDI speed of 31250 baud is not a standard speed DOS PC UARTs were capable of doing) While some sequencer applications and Microsoft Windows may support MIDI on the serial port, DOS games typically require a MPU-401 interface which ao486 unfortunately lacks. In lieu of hardware MPU-401 capability the SoftMPU TSR can be used with a good degree of success. SoftMPU","title":"ao486"},{"location":"advanced/midi/#softmpu","text":"SoftMPU requires the QEMM memory manager be installed. For testing QEMM 8.03 was used. QEMM \u201cstealth\u201d option seems to be incompatible with ao486 so it is advisable to skip that part of the optimize process. It\u2019s a good idea to run the QEMM optimize application again after installing SoftMPU (in the AUTOEXEC.BAT) to get as much of the lower 640K conventional RAM free as possible. Although less common, some DOS games and applications require MPU-401 interrupts. This option can break compatibility with others software not requiring interrupts. Starting SoftMPU without MPU-401 interrupts: SOFTMPU.EXE /MPU:330 /OUTPUT:COM1 Starting SoftMPU with MPU-401 interrupts: SOFTMPU.EXE /SB:220 /IRQ:5 /MPU:330 /OUTPUT:COM1 The Rev.0 Roland MT-32 used in testing required the \u2018DELAYSYSEX\u2019 switch to prevent buffer overflow for certain games but made Sierra games upload sysex commands excessively slowly. This is not necessary for General MIDI modules and newer revision MT-32s. SOFTMPU.EXE /MPU:330 /DELAYSYSEX /OUTPUT:COM1","title":"SoftMPU"},{"location":"advanced/midi/#midillink","text":"The 'midilink' daemon currently supports following switches / options: TESTSER - this option sends a test message to the serial port once the daemon is started. TESTMIDI - this option sends a middle 'c' note to the MIDI device once the daemon is started. QUIET - this option suppresses MIDI debug output. 38400 - this option sets the serial speed to 38400 baud (default is 31250 baud) - used with ao486 core. MidiLink Github","title":"MidilLink"},{"location":"advanced/midi/#midi-adapters-reported-to-work","text":"Creative EMU XMIDI (Known to mangle SYSEX messages) Roland UM-ONE M-Audio Midisport Uno","title":"MIDI Adapters reported to work"},{"location":"advanced/multibutton/","text":"When overriding gamepad settings inside a core it is possible to define button combinations (e.g. A+B) if you have enough physical buttons. To allow for this, MiSTer will ask if you want to setup \"alternate mappings\" after defining a gamepad. Alternate mappings are active in parallel and allow two kinds of abilities: map two physical button to the same core button (e.g. alternate button for Start), or map one physical button to two-button combo in the core (e.g. map physical X to thr core's A+B). Bind core button to two physical buttons The simplest is to map an extra physical button. Only this additional button needs to be defined in the alternate map, as follows: Map D-Pad A B main define Btn 1 Btn 2 alt skip skip Btn 3 The result of using this setup ia that you will have physical buttons 2 and 3 mapped to the core button B. This also works with gamepad directions. For example, for games that use Up as a jump button, it is possible to map a physical third button to jump. Bind physical button to core button combo A more advanced setup is to use both mappings in parallel to make one physical button push two core buttons at the same time. See the table below: Map D-Pad A B main define Btn 1 Btn 3 alt skip Btn 3 Btn 2 The result of this is that Button 1 will be A, Button 2 will be B, and Button 3 will be A+B. This is particularly useful for the Neogeo core where some fighting games use A+B and C+D as \"strong hit\". (note: unfortunately NeoGeo games are not consistent with each other - so it is not possible to set one mapping for all games) Example: NeoGeo Breakers / Breakers' Revenge Assume a six button arcade controller (for Street Fighter 2) with 3 punch buttons on top and 3 kick buttons below. We will map the buttons so that Breakers / Breakers' revenge has the same kind of layout. This particular game uses the following attack buttons: * A: Weak Punch * B: Weak Kick * C: Strong Punch * D: Strong Kick In addition, most characters have an extra \"command\" move mapped to: * Weak Punch + Strong Punch * Weak Kick + Strong Kick To match the Street Fighter 2 layout, we can assign this across six buttons: - Weak Strong Weak+Strong Punch A C A + C Kick B D B + D Which translates to the following buttons: - Weak Strong Weak+Strong Punch Btn 1 Btn 2 Btn 3 Kick Btn 4 Btn 5 Btn 6 To obtain this, input the following assignment during main and alternate mapping: map d-pad A B C D main define Btn 1 Btn 4 Btn 3 Btn 6 alt skip Btn 3 Btn 6 Btn 2 Btn 5 (in alternate mapping, d-pad and all other buttons can be skipped) Example: NeoGeo King of Fighters / Fatal Fury Special Both of these game use the same attack layout as Breakers but their button combination differs: - Weak Strong Combo Punch A C A + B Kick B D C + D To map this, we need to switch things around a little bit: map d-pad A B C D main define Btn 1 Btn 3 Btn 2 Btn 6 alt skip Btn 3 Btn 4 Btn 6 Btn 5 Example: NeoGeo Samurai Shodown This game has yet another layout, changing the order of base attacks: - Weak Medium Strong Slash A B A + B Kick C D C + D We can map this as follows: map d-pad A B C D main define Btn 1 Btn 3 Btn 4 Btn 6 alt skip Btn 3 Btn 2 Btn 6 Btn 5 Counter Example: The Last Blade 1 and 2 Very similar to the above but a different button combo: - Weak Medium Special Slash A B B + C Kick C D C + D In this case, it is not possible to map C three times so we must choose whether to map B+C or C+D . Option 1: Mapping B+C to button 3: map d-pad A B C D main define Btn 1 Btn 2 Btn 3 Btn 5 alt skip skip Btn 3 Btn 4 skip (Btn 6 remains unassigned) Option 2: Mapping C+D to button 6: map d-pad A B C D main define Btn 1 Btn 2 Btn 6 Btn 5 alt skip skip skip Btn 4 Btn 6 (Btn 3 remains unassigned)","title":"Multi-Button Mapping"},{"location":"advanced/multibutton/#bind-core-button-to-two-physical-buttons","text":"The simplest is to map an extra physical button. Only this additional button needs to be defined in the alternate map, as follows: Map D-Pad A B main define Btn 1 Btn 2 alt skip skip Btn 3 The result of using this setup ia that you will have physical buttons 2 and 3 mapped to the core button B. This also works with gamepad directions. For example, for games that use Up as a jump button, it is possible to map a physical third button to jump.","title":"Bind core button to two physical buttons"},{"location":"advanced/multibutton/#bind-physical-button-to-core-button-combo","text":"A more advanced setup is to use both mappings in parallel to make one physical button push two core buttons at the same time. See the table below: Map D-Pad A B main define Btn 1 Btn 3 alt skip Btn 3 Btn 2 The result of this is that Button 1 will be A, Button 2 will be B, and Button 3 will be A+B. This is particularly useful for the Neogeo core where some fighting games use A+B and C+D as \"strong hit\". (note: unfortunately NeoGeo games are not consistent with each other - so it is not possible to set one mapping for all games)","title":"Bind physical button to core button combo"},{"location":"advanced/multibutton/#example-neogeo-breakers-breakers-revenge","text":"Assume a six button arcade controller (for Street Fighter 2) with 3 punch buttons on top and 3 kick buttons below. We will map the buttons so that Breakers / Breakers' revenge has the same kind of layout. This particular game uses the following attack buttons: * A: Weak Punch * B: Weak Kick * C: Strong Punch * D: Strong Kick In addition, most characters have an extra \"command\" move mapped to: * Weak Punch + Strong Punch * Weak Kick + Strong Kick To match the Street Fighter 2 layout, we can assign this across six buttons: - Weak Strong Weak+Strong Punch A C A + C Kick B D B + D Which translates to the following buttons: - Weak Strong Weak+Strong Punch Btn 1 Btn 2 Btn 3 Kick Btn 4 Btn 5 Btn 6 To obtain this, input the following assignment during main and alternate mapping: map d-pad A B C D main define Btn 1 Btn 4 Btn 3 Btn 6 alt skip Btn 3 Btn 6 Btn 2 Btn 5 (in alternate mapping, d-pad and all other buttons can be skipped)","title":"Example: NeoGeo Breakers / Breakers' Revenge"},{"location":"advanced/multibutton/#example-neogeo-king-of-fighters-fatal-fury-special","text":"Both of these game use the same attack layout as Breakers but their button combination differs: - Weak Strong Combo Punch A C A + B Kick B D C + D To map this, we need to switch things around a little bit: map d-pad A B C D main define Btn 1 Btn 3 Btn 2 Btn 6 alt skip Btn 3 Btn 4 Btn 6 Btn 5","title":"Example: NeoGeo King of Fighters / Fatal Fury Special"},{"location":"advanced/multibutton/#example-neogeo-samurai-shodown","text":"This game has yet another layout, changing the order of base attacks: - Weak Medium Strong Slash A B A + B Kick C D C + D We can map this as follows: map d-pad A B C D main define Btn 1 Btn 3 Btn 4 Btn 6 alt skip Btn 3 Btn 2 Btn 6 Btn 5","title":"Example: NeoGeo Samurai Shodown"},{"location":"advanced/multibutton/#counter-example-the-last-blade-1-and-2","text":"Very similar to the above but a different button combo: - Weak Medium Special Slash A B B + C Kick C D C + D In this case, it is not possible to map C three times so we must choose whether to map B+C or C+D .","title":"Counter Example: The Last Blade 1 and 2"},{"location":"advanced/multibutton/#option-1-mapping-bc-to-button-3","text":"map d-pad A B C D main define Btn 1 Btn 2 Btn 3 Btn 5 alt skip skip Btn 3 Btn 4 skip (Btn 6 remains unassigned)","title":"Option 1: Mapping B+C to button 3:"},{"location":"advanced/multibutton/#option-2-mapping-cd-to-button-6","text":"map d-pad A B C D main define Btn 1 Btn 2 Btn 6 Btn 5 alt skip skip skip Btn 4 Btn 6 (Btn 3 remains unassigned)","title":"Option 2: Mapping C+D to button 6:"},{"location":"advanced/nativeres/","text":"This is a chart that shows the default native resolution, frequencies, and pixel clock of each core upon startup. These values are not static and are only here for documentation purposes. This should not be taken as a list of a core's compatibility with your particular display. Arcade Core Default Native Resolutions Core Version Default Native Resolution Horizontal Freq. (kHz) Vertical Freq. (Hz) Pixel Clock (MHz) Notes Arkanoid 20211225 256x225 15.6 59.2 6.00 Asteroids 20220313 640x480 31.3 59.5 25.00 AsteroidsDeluxe 20220313 640x480 31.3 59.5 25.00 Astrocade 20220427 377x230 15.8 60.0 7.16 AtariTetris 20210405 337x240 15.6 59.7 7.16 Bagman 20211114 256x224 15.6 59.2 6.00 Berzerk 20211009 256x224 15.6 59.6 5.00 BlackWidow 20210915 640x480 31.3 59.5 25.00 Blockade 20220222 256x224 15.8 60.1 5.20 BombJack 20210915 264x227 15.6 59.2 6.00 Breakout 20210620 349x228 16.0 63.4 7.16 BurgerTime 20210915 253x240 15.6 57.4 6.00 BurningRubber 20211116 253x240 15.6 59.9 6.00 CanyonBomber 20220313 320x240 15.8 59.9 6.05 Cave 20220409 320x240 15.6 57.2 7.00 Centipede 20220426 257x240 15.8 59.9 6.05 ComputerSpace 20210113 256x239 15.3 60.0 5.84 Cosmic 20220117 258x193 15.9 60.1 5.41 CrazyBalloon 20220119 258x224 15.6 59.1 4.99 CrazyClimber 20210614 257x223 15.6 59.2 6.00 CrazyKong 20210127 256x224 15.6 59.2 6.00 Defender 20211007 306x240 15.6 60.1 6.00 DigDug 20220317 289x224 16.0 60.8 6.14 Dominos 20220313 320x240 15.8 59.9 6.05 DonkeyKong 20220501 257x224 16.0 60.6 6.14 DonkeyKong3 20210312 257x224 16.0 60.6 6.14 DonkeyKongJunior 20220227 257x224 16.0 60.6 6.14 DottoriKun 20210705 448x192 15.6 61.0 8.00 Druaga 20210610 224x294 203.3 60.8 49.12 Might be inaccurate, need to confirm manually. Finalizer 20220101 240x224 16.0 61.1 6.14 FoodFight 20210115 257x224 16.0 60.8 6.14 Frenzy 20211009 256x224 15.6 59.6 5.00 Galaga 20210916 288x224 15.6 59.2 6.00 Galaxian 20210920 257x224 15.6 59.2 6.00 Gaplus 20210611 289x224 16.0 60.8 6.14 Gauntlet 20220313 336x240 15.7 59.7 7.16 Gyruss 20211225 256x224 16.0 60.6 6.14 IremM62 20210925 Need to fill in later, raw core output unavailable IronHorse 20211225 240x224 16.0 61.1 6.14 Jackal 20211225 240x224 16.0 61.1 6.14 Jailbreak 20211225 256x224 16.0 60.6 6.14 Joust2 20220401 282x241 15.6 60.1 6.00 LadyBug 20210927 240x192 16.0 61.2 5.00 LunarLander 20210111 640x480 31.3 59.5 25.00 MarioBros 20210925 256x224 15.6 59.2 6.00 MCR1 20210820 Need to fill in later, raw core output unavailable MCR2 20210114 Need to fill in later, raw core output unavailable MCR3 20210112 Need to fill in later, raw core output unavailable MCR3Mono 20210114 Need to fill in later, raw core output unavailable MCR3Scroll 20210111 Need to fill in later, raw core output unavailable MoonPatrol 20220322 240x248 15.6 55.4 6.00 MrDo 20220313 248x192 15.7 59.9 4.90 MysticMarathon 20220424 282x242 15.6 60.1 6.00 NinjaKun 20210929 257x192 15.6 59.4 6.00 Pacman 20210915 288x224 15.8 60.0 6.08 Pengo 20210917 289x224 15.6 59.2 6.00 PenguinKunWars 20200530 257x192 15.6 60.1 6.00 Phoenix 20210915 239x208 15.6 59.6 5.50 Pleiads 20210524 239x208 15.6 59.6 5.50 PolyPlay 20210322 512x256 15.6 49.8 10.50 Pong 20210117 374x246 15.7 60.1 7.16 Pooyan 20210929 256x224 15.6 59.4 6.00 Popeye 20210117 512x224 15.6 59.4 10.00 Qbert 20210923 250x240 15.7 61.4 5.00 RallyX 20210922 289x224 16.0 60.8 6.14 RiverPatrol 20210111 514x223 15.6 59.2 12.00 Robotron 20211007 296x240 15.6 60.1 6.00 RshnAtk 20210924 240x224 15.5 60.6 6.14 ScooterShooter 20211225 256x224 16.0 60.6 6.14 Scramble 256x224 16.0 60.6 6.14 SEGASYS1 20210618 256x224 15.7 60.1 6.05 SilverLand 20210111 512x223 15.6 59.2 12.00 SMS 20220326 256x192 15.7 59.9 5.37 SolomonsKey 20210116 257x224 15.5 60.0 6.00 SpaceInvaders 20211201 260x224 15.6 59.6 5.00 SpaceRace 20210228 374x246 15.7 60.1 7.16 Sprint1 20201210 Need to fill in later, raw core output unavailable Sprint2 20201210 Need to fill in later, raw core output unavailable Subs 20220105 320x224 15.8 59.9 6.05 SuperBreakout 202201210 Need to fill in later, raw core output unavailable Tecmo 20200810 256x224 15.6 59.2 6.00 TIAMC1 20210322 256x256 15.6 49.8 5.25 TimePilot 20211225 256x224 16.0 60.6 6.14 TimePilot84 20220227 253x224 16.0 60.6 6.14 TraverseUSA 20201213 240x256 15.6 50.1 6.00 TurkeyShoot 20220425 564x241 15.6 60.1 12.00 Ultratank 20211118 Need to fill in later, raw core output unavailable Vball 20210621 240x240 15.0 57.9 6.00 Xevious 20220323 288x224 15.6 59.2 6.00 Zaxxon 20210915 Need to fill in later, raw core output unavailable ZigZag 20210117 256x225 15.6 59.2 6.00 Console Core Default Native Resolutions Core Version Default Native Resolution Horizontal Freq. (kHz) Vertical Freq. (Hz) Pixel Clock (MHz) Notes AdventureVision 20220403 450x174 15.7 60.3 11.00 Arcadia 20211026 182x267 19.4 62.1 4.39 Astrocade 20210303 180x230 15.8 60.0 3.58 Atari5200 20220220 356x240 15.7 59.9 7.16 Atari7800 20220212 372x224 15.8 60.0 7.16 For analog video on Atari 2600 games, disable the video stabilizer in the Atari 2600 submenu if you cannot achieve sync. AtariLynx 20220417 160x102 16.0 59.2 7.11 AY-3-8500 20220307 237x206 15.6 59.6 6.00 ChannelF 20211026 208x233 15.7 59.9 3.58 ColecoVision 20220214 256x192 15.6 59.7 5.33 GameBoy 20220429 160x144 15.8 59.7 6.71 GameBoy2P 20211121 320x144 15.8 59.7 6.71 With the Analog I/O board the output of each player's screen can be split between an HDMI display and an Analog display. GBA 20220428 240x160 15.8 59.7 6.29 GBA2P 20210702 240x160 15.8 59.7 6.29 With the Analog I/O board the output of each player's screen can be split between an HDMI display and an Analog display. Genesis 20220326 256x224 15.7 59.9 5.37 Intellivision 20211025 190x240 15.7 59.9 3.58 MegaCD 20220326 320x224 15.7 59.9 6.71 NeoGeo 20220403 320x224 15.7 59.6 6.04 NES 20220326 256x224 15.7 60.1 5.37 Odyssey2 20210530 368x240 15.7 59.5 7.16 PSX 20220429 704x478i 15.7 59.9 13.42 S32X 20220425 256x224 15.7 59.9 5.37 SMS 20220326 256x192 15.7 59.9 5.37 SNES 20220326 512x224 15.7 60.1 10.74 TurboGrafx16 20220326 270x242 15.7 60.1 5.37 VC4000 20211026 172x269 19.5 62.6 4.43 Vectrex 20220301 540x720 43.3 60.0 24.00 WonderSwan 20220417 224x144 15.3 59.4 6.14 Computer Core Default Native Resolutions Core Version Default Native Resolution Horizontal Freq. (kHz) Vertical Freq. (Hz) Pixel Clock (MHz) Notes AcornAtom 20220114 256x192 15.4 58.6 7.16 AcornElectron 20220211 640x256 15.6 50.1 16.00 AliceMC10 20210116 1276x490 15.6 29.8 25.00 Altair8800 20181113 1280x720 45.1 60.1 74.25 Amstrad 20220220 768x273 15.6 50.1 16.00 Amstrad-PCW 20200830 720x256 15.6 50.1 16.00 ao486 20220326 320x400 26.9 60.0 10.77 This resolution is going to vary based upon BIOS, OS, and Software a LOT. This was with the exoFlynn Top300 pack by FlynnsBit Apogee 20201210 390x281 15.5 50.0 8.00 Apple-I 20220309 640x480 31.3 60.0 25.00 Apple-II 20220219 568x192 15.7 60.2 14.32 Aquarius 20210303 320x200 15.6 59.7 7.16 Archie 20220221 640x480 31.5 60.0 25.17 Atari800 20220220 356x240 15.7 50.3 7.16 AtariST 20220413 N/A N/A N/A N/A AtariST does not provide debug console output, it is a special core. To be filled in manually later. BBCMicro 20210302 240x250 15.6 50.2 6.00 BK0011M 20220301 256x256 15.6 48.8 6.00 C16 20220216 384x295 15.6 49.9 7.09 C64 20220216 384x270 15.6 50.1 7.88 CoCo2 20220211 257x192 15.4 58.7 7.16 CoCo3 20220226 763x254 15.7 59.7 14.32 EDSAC 20200513 1280x720 45.7 59.8 74.20 Galaksija 20200504 320x240 13.0 51.5 6.25 Interact 20210815 112x228 15.7 59.9 2.39 Jupiter 20210303 256x192 15.6 50.1 6.50 Laser310 20220202 256x192 15.4 58.6 7.16 Lynx48 20220224 256x252 15.6 49.8 6.00 MacPlus 20220310 516x684 48.4 60.0 32.49 Minimig 20220326 1280x286 15.6 49.9 28.38 MSX 20220216 598x242 15.7 59.9 10.74 MultiComp 20210113 640x400 31.3 59.4 25.00 Ondra_SPO186 20211022 328x252 15.6 50.1 8.00 Orao 20200309 800x600 48.1 72.0 50.00 Oric 20210920 240x224 15.6 59.9 6.00 PC88 20220213 640x400 31.3 59.5 25.00 PDP1 20190101 1281x1024 64.0 60.0 108.01 PET2001 20220216 320x200 15.6 59.6 7.00 PMD85 20220129 480x256 16.0 50.0 10.24 QL 20220326 512x256 15.6 50.1 10.50 RX78 20220314 256x225 15.8 60.1 7.00 SAMCoupe 20220326 328x264 15.6 50.1 6.00 SharpMZ 20210709 640x480 30.3 58.2 25.19 SordM5 20211227 256x192 15.6 50.0 5.33 Specialist 20220301 384x256 15.6 50.1 8.00 SVI328 20220212 N/A N/A N/A N/A SVI328 does not provide debug console output, it is a special core. To be filled in manually later. TatungEinstein 20220128 256x192 15.6 59.7 5.33 Ti994a 20220220 284x226 15.7 60.2 5.37 TRS-80 20220309 384x192 15.8 59.9 10.65 TSConf 20220216 720x288 15.6 48.8 14.00 UK101 20220201 512x256 15.7 50.0 8.33 Vector-06C 20220301 304x284 15.6 50.1 6.00 VIC20 20220216 228x280 15.6 50.0 4.43 X68000 20220214 768x512 34.0 59.9 12.52 zx48 20210912 320x305 15.6 50.1 7.00 ZX81 20220216 328x299 15.7 50.6 6.50 ZXNext 20220216 704x304 15.6 50.1 14.00 ZX-Spectrum 20220216 344x284 15.6 50.1 7.00 Other Core Default Native Resolutions Core Version Default Native Resolution Horizontal Freq. (kHz) Vertical Freq. (Hz) Pixel Clock (MHz) Notes Arduboy 20220301 256x144 15.6 59.6 5.00 Chess 20200827 640x480 31.3 59.5 25.00 Chip8 20200208 704x240 15.7 59.8 13.50 EpochGalaxy 20200818 320x480 31.2 59.4 12.50 FlappyBird 20200402 640x480 31.3 59.5 24.99 GameOfLife 20200430 1920x1080 67.5 60.0 148.49 SlugCross 20220401 640x480 31.5 59.9 25.18 TomyScramble 20200724 320x480 31.2 59.4 12.50 Utility Core Default Native Resolutions Core Version Default Native Resolution Horizontal Freq. (kHz) Vertical Freq. (Hz) Pixel Clock (MHz) Notes ADCTest 20201231 529x240 15.7 59.8 10.00 InputTest 20220212 320x240 15.2 59.2 6.00 memtest 20210130 720x480 31.4 59.8 27.01","title":"Core Default Resolutions"},{"location":"advanced/nativeres/#arcade-core-default-native-resolutions","text":"Core Version Default Native Resolution Horizontal Freq. (kHz) Vertical Freq. (Hz) Pixel Clock (MHz) Notes Arkanoid 20211225 256x225 15.6 59.2 6.00 Asteroids 20220313 640x480 31.3 59.5 25.00 AsteroidsDeluxe 20220313 640x480 31.3 59.5 25.00 Astrocade 20220427 377x230 15.8 60.0 7.16 AtariTetris 20210405 337x240 15.6 59.7 7.16 Bagman 20211114 256x224 15.6 59.2 6.00 Berzerk 20211009 256x224 15.6 59.6 5.00 BlackWidow 20210915 640x480 31.3 59.5 25.00 Blockade 20220222 256x224 15.8 60.1 5.20 BombJack 20210915 264x227 15.6 59.2 6.00 Breakout 20210620 349x228 16.0 63.4 7.16 BurgerTime 20210915 253x240 15.6 57.4 6.00 BurningRubber 20211116 253x240 15.6 59.9 6.00 CanyonBomber 20220313 320x240 15.8 59.9 6.05 Cave 20220409 320x240 15.6 57.2 7.00 Centipede 20220426 257x240 15.8 59.9 6.05 ComputerSpace 20210113 256x239 15.3 60.0 5.84 Cosmic 20220117 258x193 15.9 60.1 5.41 CrazyBalloon 20220119 258x224 15.6 59.1 4.99 CrazyClimber 20210614 257x223 15.6 59.2 6.00 CrazyKong 20210127 256x224 15.6 59.2 6.00 Defender 20211007 306x240 15.6 60.1 6.00 DigDug 20220317 289x224 16.0 60.8 6.14 Dominos 20220313 320x240 15.8 59.9 6.05 DonkeyKong 20220501 257x224 16.0 60.6 6.14 DonkeyKong3 20210312 257x224 16.0 60.6 6.14 DonkeyKongJunior 20220227 257x224 16.0 60.6 6.14 DottoriKun 20210705 448x192 15.6 61.0 8.00 Druaga 20210610 224x294 203.3 60.8 49.12 Might be inaccurate, need to confirm manually. Finalizer 20220101 240x224 16.0 61.1 6.14 FoodFight 20210115 257x224 16.0 60.8 6.14 Frenzy 20211009 256x224 15.6 59.6 5.00 Galaga 20210916 288x224 15.6 59.2 6.00 Galaxian 20210920 257x224 15.6 59.2 6.00 Gaplus 20210611 289x224 16.0 60.8 6.14 Gauntlet 20220313 336x240 15.7 59.7 7.16 Gyruss 20211225 256x224 16.0 60.6 6.14 IremM62 20210925 Need to fill in later, raw core output unavailable IronHorse 20211225 240x224 16.0 61.1 6.14 Jackal 20211225 240x224 16.0 61.1 6.14 Jailbreak 20211225 256x224 16.0 60.6 6.14 Joust2 20220401 282x241 15.6 60.1 6.00 LadyBug 20210927 240x192 16.0 61.2 5.00 LunarLander 20210111 640x480 31.3 59.5 25.00 MarioBros 20210925 256x224 15.6 59.2 6.00 MCR1 20210820 Need to fill in later, raw core output unavailable MCR2 20210114 Need to fill in later, raw core output unavailable MCR3 20210112 Need to fill in later, raw core output unavailable MCR3Mono 20210114 Need to fill in later, raw core output unavailable MCR3Scroll 20210111 Need to fill in later, raw core output unavailable MoonPatrol 20220322 240x248 15.6 55.4 6.00 MrDo 20220313 248x192 15.7 59.9 4.90 MysticMarathon 20220424 282x242 15.6 60.1 6.00 NinjaKun 20210929 257x192 15.6 59.4 6.00 Pacman 20210915 288x224 15.8 60.0 6.08 Pengo 20210917 289x224 15.6 59.2 6.00 PenguinKunWars 20200530 257x192 15.6 60.1 6.00 Phoenix 20210915 239x208 15.6 59.6 5.50 Pleiads 20210524 239x208 15.6 59.6 5.50 PolyPlay 20210322 512x256 15.6 49.8 10.50 Pong 20210117 374x246 15.7 60.1 7.16 Pooyan 20210929 256x224 15.6 59.4 6.00 Popeye 20210117 512x224 15.6 59.4 10.00 Qbert 20210923 250x240 15.7 61.4 5.00 RallyX 20210922 289x224 16.0 60.8 6.14 RiverPatrol 20210111 514x223 15.6 59.2 12.00 Robotron 20211007 296x240 15.6 60.1 6.00 RshnAtk 20210924 240x224 15.5 60.6 6.14 ScooterShooter 20211225 256x224 16.0 60.6 6.14 Scramble 256x224 16.0 60.6 6.14 SEGASYS1 20210618 256x224 15.7 60.1 6.05 SilverLand 20210111 512x223 15.6 59.2 12.00 SMS 20220326 256x192 15.7 59.9 5.37 SolomonsKey 20210116 257x224 15.5 60.0 6.00 SpaceInvaders 20211201 260x224 15.6 59.6 5.00 SpaceRace 20210228 374x246 15.7 60.1 7.16 Sprint1 20201210 Need to fill in later, raw core output unavailable Sprint2 20201210 Need to fill in later, raw core output unavailable Subs 20220105 320x224 15.8 59.9 6.05 SuperBreakout 202201210 Need to fill in later, raw core output unavailable Tecmo 20200810 256x224 15.6 59.2 6.00 TIAMC1 20210322 256x256 15.6 49.8 5.25 TimePilot 20211225 256x224 16.0 60.6 6.14 TimePilot84 20220227 253x224 16.0 60.6 6.14 TraverseUSA 20201213 240x256 15.6 50.1 6.00 TurkeyShoot 20220425 564x241 15.6 60.1 12.00 Ultratank 20211118 Need to fill in later, raw core output unavailable Vball 20210621 240x240 15.0 57.9 6.00 Xevious 20220323 288x224 15.6 59.2 6.00 Zaxxon 20210915 Need to fill in later, raw core output unavailable ZigZag 20210117 256x225 15.6 59.2 6.00","title":"Arcade Core Default Native Resolutions"},{"location":"advanced/nativeres/#console-core-default-native-resolutions","text":"Core Version Default Native Resolution Horizontal Freq. (kHz) Vertical Freq. (Hz) Pixel Clock (MHz) Notes AdventureVision 20220403 450x174 15.7 60.3 11.00 Arcadia 20211026 182x267 19.4 62.1 4.39 Astrocade 20210303 180x230 15.8 60.0 3.58 Atari5200 20220220 356x240 15.7 59.9 7.16 Atari7800 20220212 372x224 15.8 60.0 7.16 For analog video on Atari 2600 games, disable the video stabilizer in the Atari 2600 submenu if you cannot achieve sync. AtariLynx 20220417 160x102 16.0 59.2 7.11 AY-3-8500 20220307 237x206 15.6 59.6 6.00 ChannelF 20211026 208x233 15.7 59.9 3.58 ColecoVision 20220214 256x192 15.6 59.7 5.33 GameBoy 20220429 160x144 15.8 59.7 6.71 GameBoy2P 20211121 320x144 15.8 59.7 6.71 With the Analog I/O board the output of each player's screen can be split between an HDMI display and an Analog display. GBA 20220428 240x160 15.8 59.7 6.29 GBA2P 20210702 240x160 15.8 59.7 6.29 With the Analog I/O board the output of each player's screen can be split between an HDMI display and an Analog display. Genesis 20220326 256x224 15.7 59.9 5.37 Intellivision 20211025 190x240 15.7 59.9 3.58 MegaCD 20220326 320x224 15.7 59.9 6.71 NeoGeo 20220403 320x224 15.7 59.6 6.04 NES 20220326 256x224 15.7 60.1 5.37 Odyssey2 20210530 368x240 15.7 59.5 7.16 PSX 20220429 704x478i 15.7 59.9 13.42 S32X 20220425 256x224 15.7 59.9 5.37 SMS 20220326 256x192 15.7 59.9 5.37 SNES 20220326 512x224 15.7 60.1 10.74 TurboGrafx16 20220326 270x242 15.7 60.1 5.37 VC4000 20211026 172x269 19.5 62.6 4.43 Vectrex 20220301 540x720 43.3 60.0 24.00 WonderSwan 20220417 224x144 15.3 59.4 6.14","title":"Console Core Default Native Resolutions"},{"location":"advanced/nativeres/#computer-core-default-native-resolutions","text":"Core Version Default Native Resolution Horizontal Freq. (kHz) Vertical Freq. (Hz) Pixel Clock (MHz) Notes AcornAtom 20220114 256x192 15.4 58.6 7.16 AcornElectron 20220211 640x256 15.6 50.1 16.00 AliceMC10 20210116 1276x490 15.6 29.8 25.00 Altair8800 20181113 1280x720 45.1 60.1 74.25 Amstrad 20220220 768x273 15.6 50.1 16.00 Amstrad-PCW 20200830 720x256 15.6 50.1 16.00 ao486 20220326 320x400 26.9 60.0 10.77 This resolution is going to vary based upon BIOS, OS, and Software a LOT. This was with the exoFlynn Top300 pack by FlynnsBit Apogee 20201210 390x281 15.5 50.0 8.00 Apple-I 20220309 640x480 31.3 60.0 25.00 Apple-II 20220219 568x192 15.7 60.2 14.32 Aquarius 20210303 320x200 15.6 59.7 7.16 Archie 20220221 640x480 31.5 60.0 25.17 Atari800 20220220 356x240 15.7 50.3 7.16 AtariST 20220413 N/A N/A N/A N/A AtariST does not provide debug console output, it is a special core. To be filled in manually later. BBCMicro 20210302 240x250 15.6 50.2 6.00 BK0011M 20220301 256x256 15.6 48.8 6.00 C16 20220216 384x295 15.6 49.9 7.09 C64 20220216 384x270 15.6 50.1 7.88 CoCo2 20220211 257x192 15.4 58.7 7.16 CoCo3 20220226 763x254 15.7 59.7 14.32 EDSAC 20200513 1280x720 45.7 59.8 74.20 Galaksija 20200504 320x240 13.0 51.5 6.25 Interact 20210815 112x228 15.7 59.9 2.39 Jupiter 20210303 256x192 15.6 50.1 6.50 Laser310 20220202 256x192 15.4 58.6 7.16 Lynx48 20220224 256x252 15.6 49.8 6.00 MacPlus 20220310 516x684 48.4 60.0 32.49 Minimig 20220326 1280x286 15.6 49.9 28.38 MSX 20220216 598x242 15.7 59.9 10.74 MultiComp 20210113 640x400 31.3 59.4 25.00 Ondra_SPO186 20211022 328x252 15.6 50.1 8.00 Orao 20200309 800x600 48.1 72.0 50.00 Oric 20210920 240x224 15.6 59.9 6.00 PC88 20220213 640x400 31.3 59.5 25.00 PDP1 20190101 1281x1024 64.0 60.0 108.01 PET2001 20220216 320x200 15.6 59.6 7.00 PMD85 20220129 480x256 16.0 50.0 10.24 QL 20220326 512x256 15.6 50.1 10.50 RX78 20220314 256x225 15.8 60.1 7.00 SAMCoupe 20220326 328x264 15.6 50.1 6.00 SharpMZ 20210709 640x480 30.3 58.2 25.19 SordM5 20211227 256x192 15.6 50.0 5.33 Specialist 20220301 384x256 15.6 50.1 8.00 SVI328 20220212 N/A N/A N/A N/A SVI328 does not provide debug console output, it is a special core. To be filled in manually later. TatungEinstein 20220128 256x192 15.6 59.7 5.33 Ti994a 20220220 284x226 15.7 60.2 5.37 TRS-80 20220309 384x192 15.8 59.9 10.65 TSConf 20220216 720x288 15.6 48.8 14.00 UK101 20220201 512x256 15.7 50.0 8.33 Vector-06C 20220301 304x284 15.6 50.1 6.00 VIC20 20220216 228x280 15.6 50.0 4.43 X68000 20220214 768x512 34.0 59.9 12.52 zx48 20210912 320x305 15.6 50.1 7.00 ZX81 20220216 328x299 15.7 50.6 6.50 ZXNext 20220216 704x304 15.6 50.1 14.00 ZX-Spectrum 20220216 344x284 15.6 50.1 7.00","title":"Computer Core Default Native Resolutions"},{"location":"advanced/nativeres/#other-core-default-native-resolutions","text":"Core Version Default Native Resolution Horizontal Freq. (kHz) Vertical Freq. (Hz) Pixel Clock (MHz) Notes Arduboy 20220301 256x144 15.6 59.6 5.00 Chess 20200827 640x480 31.3 59.5 25.00 Chip8 20200208 704x240 15.7 59.8 13.50 EpochGalaxy 20200818 320x480 31.2 59.4 12.50 FlappyBird 20200402 640x480 31.3 59.5 24.99 GameOfLife 20200430 1920x1080 67.5 60.0 148.49 SlugCross 20220401 640x480 31.5 59.9 25.18 TomyScramble 20200724 320x480 31.2 59.4 12.50","title":"Other Core Default Native Resolutions"},{"location":"advanced/nativeres/#utility-core-default-native-resolutions","text":"Core Version Default Native Resolution Horizontal Freq. (kHz) Vertical Freq. (Hz) Pixel Clock (MHz) Notes ADCTest 20201231 529x240 15.7 59.8 10.00 InputTest 20220212 320x240 15.2 59.2 6.00 memtest 20210130 720x480 31.4 59.8 27.01","title":"Utility Core Default Native Resolutions"},{"location":"advanced/network/","text":"There are multiple advanced networking features that the MiSTer can utilize. Here we will go over quite a few of them. CIFS Share Mounting The MiSTer can mount a network share from another computer or server as if it were storage. There are two scripts that are used by the MiSTer for CIFS mounting and unmounting. cifs_mount.sh This script mounts the desired network share to the MiSTer in such a way that any identical folders from /media/fat will be put on a lower priority and you will see the ones from the network share in place of the ones on your MicroSD. See Core Paths for more specific information as to how this hierarchy functions. cifs_umount.sh This script will unmount the network share when ran. RetroNAS A project was launched that makes it easier to get a network attached storage (NAS) device up and running which was focused solely on retro gaming device compatibility. The MiSTer was one of their primary focuses and it works quite well. All you need is a Raspberry Pi4 and some kind of external hard drive storage device. Remember: NAS IS NOT BACKUP! You could lose data if you rely solely on a NAS for important data. They have a good installation guide that is simple to follow and MiSTer-specific instructions to help get you started. They also have video guides available on Youtube for installation and MiSTer FPGA-specific configuration if you prefer. Static IP Address configuration Currently the best way to do this is using connmanctl (try connmanctl help for more info). * Create /var/lib/connman directory so changes will persist across reboots # mkdir /var/lib/connman * Find your on-board network service name. # connmanctl services *AO Wired ethernet_020304050607_cable * Setup IP address (e.g. 192.168.1.123 , should be unused), subnet mask (e.g. 255.255.255.0 ) and gateway (e.g. 192.168.1.1 , typically your router IP address). To configure the right device use the service name returned from above command (e.g. ethernet_020304050607_cable ). This will disable the use of DHCP. # connmanctl config ethernet_020304050607_cable --ipv4 manual 192.168.1.123 255.255.255.0 192.168.1.1 * Setup one or more DNS server(s) (e.g. 192.168.1.1 from your router, 8.8.8.8 from Google DNS. # connmanctl config ethernet_020304050607_cable --nameservers 192.168.1.1 8.8.8.8 You could write a script to help with typing and remembering your settings. You can also setup your on-board network connection by editing /etc/network/interfaces . This is currently not advised. Because if you have a DHCP server in your network, the network stack will still contact the DHCP server and assign the returned IP address regardless, leading to usually unwanted behavior. Re-Enabling DHCP # connmanctl config ethernet_020304050607_cable --dhcp","title":"Setting Up SSH, FTP, and NAS"},{"location":"advanced/network/#cifs-share-mounting","text":"The MiSTer can mount a network share from another computer or server as if it were storage. There are two scripts that are used by the MiSTer for CIFS mounting and unmounting. cifs_mount.sh This script mounts the desired network share to the MiSTer in such a way that any identical folders from /media/fat will be put on a lower priority and you will see the ones from the network share in place of the ones on your MicroSD. See Core Paths for more specific information as to how this hierarchy functions. cifs_umount.sh This script will unmount the network share when ran.","title":"CIFS Share Mounting"},{"location":"advanced/network/#retronas","text":"A project was launched that makes it easier to get a network attached storage (NAS) device up and running which was focused solely on retro gaming device compatibility. The MiSTer was one of their primary focuses and it works quite well. All you need is a Raspberry Pi4 and some kind of external hard drive storage device. Remember: NAS IS NOT BACKUP! You could lose data if you rely solely on a NAS for important data. They have a good installation guide that is simple to follow and MiSTer-specific instructions to help get you started. They also have video guides available on Youtube for installation and MiSTer FPGA-specific configuration if you prefer.","title":"RetroNAS"},{"location":"advanced/network/#static-ip-address-configuration","text":"Currently the best way to do this is using connmanctl (try connmanctl help for more info). * Create /var/lib/connman directory so changes will persist across reboots # mkdir /var/lib/connman * Find your on-board network service name. # connmanctl services *AO Wired ethernet_020304050607_cable * Setup IP address (e.g. 192.168.1.123 , should be unused), subnet mask (e.g. 255.255.255.0 ) and gateway (e.g. 192.168.1.1 , typically your router IP address). To configure the right device use the service name returned from above command (e.g. ethernet_020304050607_cable ). This will disable the use of DHCP. # connmanctl config ethernet_020304050607_cable --ipv4 manual 192.168.1.123 255.255.255.0 192.168.1.1 * Setup one or more DNS server(s) (e.g. 192.168.1.1 from your router, 8.8.8.8 from Google DNS. # connmanctl config ethernet_020304050607_cable --nameservers 192.168.1.1 8.8.8.8 You could write a script to help with typing and remembering your settings. You can also setup your on-board network connection by editing /etc/network/interfaces . This is currently not advised. Because if you have a DHCP server in your network, the network stack will still contact the DHCP server and assign the returned IP address regardless, leading to usually unwanted behavior.","title":"Static IP Address configuration"},{"location":"advanced/network/#re-enabling-dhcp","text":"# connmanctl config ethernet_020304050607_cable --dhcp","title":"Re-Enabling DHCP"},{"location":"advanced/rtc/","text":"Some cores (ao486, Minimig) use clock, so MiSTer provides the real time for such cores. MiSTer can take the time from internet if active connection is present. This board is pretty simple and provide real time offline. It supports 2 types of battery holders and several types of RTC ICs. It's plugged into LTC connector. Assembling notes If through hole battery holder is used, you need to cut all its plastic pins and make sure the holder is fully seated on board without gaps. Otherwise it may touch the I/O board and make short circuit. For through hole holder, make sure you cut the pins as short as possible so it won't protrude under the board which can make short circuit. The board has the hole on opposite side of connector. Use a plastic(or other non-conductive) screw to make a leg and prevent the board bend and touch the main board. SMD holder (left picture) is preferable as it's more slim. Usage notes To get real time saved, simply connect MiSTer to internet and let it run for around 15 minutes. Or from the console: By default the time zone is UTC(GMT). If you want to get the time of your zone, you need to do following: connect to MiSTer by FTP/SFTP navigate to /usr/share/zoneinfo/posix folder and find there the name of your place or time zone. copy that file to your computer under name timezone copy it back to MiSTer to folder /media/fat/linux with name timezone From the console you can also force the hardware clock to update and read the time from it: store datetime to RTC : hwclock -wu read RTC : hwclock -u RTC Add-on board DIY Assembly This page is for reference only. It may not be up to date. It may not include the BOM for latest PCB version. You need to check the schematic and required components yourself! The following section will walk you through the steps of creating your own Mister RTC Board. It describes where to order all necessary parts like PCB and components. It will also give you an overview on the equipment you need and show you how to assemble the board. 1. Order PCB Approved PCB Manufactors PCBway - Quick order RTC v1.2 - Quick order RTC v1.3 (with temp sensor) EasyEDA JLCPCB OSH Park PCB Layout (Gerber Files) Check the MiSTer hardware repository for the most recent PCB files: MiSTer_Hardware 2. Order Components This is a general overview of the components, including reference parts that were successfully used to assemble a MiSTer RTC Board version 1.2 . General Components: The components in this table are the general components. You will have to choose additionally a RTC chip and crystal combination from the next table Name Component Package Value Reference Parts C1 Capacitor (Ceramic) 0805 10uF KEMET C0805C106K8PACTU R1, R2 Resistor 1% 1/8W 0805 4.7K Yageo RC0805FR-074K7L B1 Coin Cell Holder for CR1220 12mm - MPD BK-885 P1 GPIO Connector 2mm 18 Pin Amphenol 63453-118LF RTC / Crystal Table The RTC Chip (U1) / Crystal (X1) combination in this table are approved by users that successfully build a RTC Board version 1.2 Name Component Package Value Reference Parts U1 I2C RTC Chip: M41T81 8-SOIC - ST M41T81M6F X1 Crystal: 32.768kHz \u00b120ppm, 12.5pF, 50 kOhms Cylindrical Can - Citizen CMR200T32768DZFT Example of BOM on Octopart","title":"RTC Board"},{"location":"advanced/rtc/#assembling-notes","text":"If through hole battery holder is used, you need to cut all its plastic pins and make sure the holder is fully seated on board without gaps. Otherwise it may touch the I/O board and make short circuit. For through hole holder, make sure you cut the pins as short as possible so it won't protrude under the board which can make short circuit. The board has the hole on opposite side of connector. Use a plastic(or other non-conductive) screw to make a leg and prevent the board bend and touch the main board. SMD holder (left picture) is preferable as it's more slim.","title":"Assembling notes"},{"location":"advanced/rtc/#usage-notes","text":"To get real time saved, simply connect MiSTer to internet and let it run for around 15 minutes. Or from the console: By default the time zone is UTC(GMT). If you want to get the time of your zone, you need to do following: connect to MiSTer by FTP/SFTP navigate to /usr/share/zoneinfo/posix folder and find there the name of your place or time zone. copy that file to your computer under name timezone copy it back to MiSTer to folder /media/fat/linux with name timezone From the console you can also force the hardware clock to update and read the time from it: store datetime to RTC : hwclock -wu read RTC : hwclock -u","title":"Usage notes"},{"location":"advanced/rtc/#rtc-add-on-board-diy-assembly","text":"This page is for reference only. It may not be up to date. It may not include the BOM for latest PCB version. You need to check the schematic and required components yourself! The following section will walk you through the steps of creating your own Mister RTC Board. It describes where to order all necessary parts like PCB and components. It will also give you an overview on the equipment you need and show you how to assemble the board.","title":"RTC Add-on board DIY Assembly"},{"location":"advanced/rtc/#1-order-pcb","text":"","title":"1. Order PCB"},{"location":"advanced/rtc/#approved-pcb-manufactors","text":"PCBway - Quick order RTC v1.2 - Quick order RTC v1.3 (with temp sensor) EasyEDA JLCPCB OSH Park","title":"Approved PCB Manufactors"},{"location":"advanced/rtc/#pcb-layout-gerber-files","text":"Check the MiSTer hardware repository for the most recent PCB files: MiSTer_Hardware","title":"PCB Layout (Gerber Files)"},{"location":"advanced/rtc/#2-order-components","text":"This is a general overview of the components, including reference parts that were successfully used to assemble a MiSTer RTC Board version 1.2 .","title":"2. Order Components"},{"location":"advanced/rtc/#general-components","text":"The components in this table are the general components. You will have to choose additionally a RTC chip and crystal combination from the next table Name Component Package Value Reference Parts C1 Capacitor (Ceramic) 0805 10uF KEMET C0805C106K8PACTU R1, R2 Resistor 1% 1/8W 0805 4.7K Yageo RC0805FR-074K7L B1 Coin Cell Holder for CR1220 12mm - MPD BK-885 P1 GPIO Connector 2mm 18 Pin Amphenol 63453-118LF","title":"General Components:"},{"location":"advanced/rtc/#rtc-crystal-table","text":"The RTC Chip (U1) / Crystal (X1) combination in this table are approved by users that successfully build a RTC Board version 1.2 Name Component Package Value Reference Parts U1 I2C RTC Chip: M41T81 8-SOIC - ST M41T81M6F X1 Crystal: 32.768kHz \u00b120ppm, 12.5pF, 50 kOhms Cylindrical Can - Citizen CMR200T32768DZFT Example of BOM on Octopart","title":"RTC / Crystal Table"},{"location":"advanced/videomodes/","text":"The video_mode INI setting supports several different methods of specifying the video mode. Automatic Detection If no video_mode setting is specified, MiSTer will attempt to determine the correct video mode using EDID information from the display device. This will only work for devices connected to the HDMI port. If a valid video mode cannot be determined then the default 720p mode will be used. Video Mode Presets (video_mode) MiSTer has 15 built in video mode presets ranging from 0-14. These presets cover a lot of common display modes used by televisions and computer monitors. Here's an example video_mode setting and a table below to explain what each of the preset modes are: ; Number 8 - 1920x1080 - 60hz - 16:9 - FHD 1080p video_mode = 8 Number Resolution Refresh (Hz) Aspect Ratio Name 0 1280x720 60 16:9 HD 720p 1 1024x768 60 4:3 XGA 2 720x480 60 3:2 3 720x576 50 5:4 4 1280x1024 60 5:4 SXGA 5 800x600 60 4:3 SVGA 6 640x480 60 4:3 VGA 7 1280x720 50 16:9 HD 720p PAL 8 1920x1080 60 16:9 FHD 1080p 9 1920x1080 50 16:9 FHD 1080p PAL 10 1366x768 60 16:9 WXGA 11 1024x600 60 128:75 WSVGA 12 1920x1440 60 4:3 13 2048x1536 60 4:3 iPad Retina 14 2560x1440 60 16:9 1440p Custom Video Modes A custom mode can be set by specifying the width, height and refresh rate like so: ; 1920x1200 at 75Hz video_mode = 1920,1200,75 The maximum value for width is 4096, height is 2048 and refresh rate is unlimited but it must be a whole integer value. The DE-10 may not be able to output the mode you select or your display may not be able to accept it. The maximum recommended video frequency is 210Mhz which limits the maximum resolution to 2048x1536. Pixel repetition can be used to increase the resolution further, but it also has limits. The VESA Coordinated Video Timings standard is used to calculate the timing information for the requested video mode. By default the reduced blanking version of the standard is used. This is compatible with most flat panel displays but may not be as well supported on older displays and CRT monitors. You can use regular CVT timings by adding the cvt flag to the end of the video mode: ; 1600x1200 on a CRT monitor video_mode = 1600,1200,60,cvt Regular timing requires a slightly higher clock speed for a given resolution, so it some higher resolution modes are not achievable with it. An online video timing calculator can help with understanding the differences between the two methods. Manual Modelines Video mode timing can be fully specified using a video modeline which consists of nine values defining the horizontal timing, vertical timing and pixel clock. video_mode = hact,hfp,hs,hbp,vact,vfp,vs,vbp,fpix hact and vact defines the active (visible) size of the video mode in horizontal and vertical pixels, respectively. hfp , hs and hbp defines the duration of horizontal front porch, sync and back porch in pixels. vfp , vs abd vbp define the same properties, but for the vertical timing. Finally, the fpix value is the frequency of the pixel clock in KHz (pixels clocks are usually specified in MHz, so multiply the Mhz value by a 1000 to get the value in KHz). MiSTer modelines are similar to XFree86 modelines, but the information is expressed slightly differently. You can convert an XFree86 modeline to a MiSTer one using the custom video mode tool by morf77 available here which can be used in conjunction with a modeline calculator . Additional Flags Some additional flags can be added to custom modes and modelines to modify the behavior. +hsync / -hsync - set the horizontal sync polarity +vsync / -hsync - set the vertical sync polarity pr - use HDMI pixel repetition (custom modelines only) cvt - use normal CVT timing (custom mode only) cvtrb - use reduced blanking CVT timing (custom mode only) HDMI Pixel Repetition (pr) HDMI pixel repetition enables MiSTer to output a higher resolution video signal without using additional resources or requiring higher clock speeds. It does this by instructing the ADV7513 HDMI transmitter to duplicate each pixel that it sends to the display. This does not increase the fidelity of the final image, in most cases it will reduce it, but it does enable a wider selection of video modes. MiSTer is limited to a maximum horizontal resolution of 2048 pixels and a maximum pixel clock of 210Mhz. This is enough to display a 2048x1536 image (209Mhz, Pad resolution), which is the maximum native resolution supported. It is also enough for 1920x1440 (184Mhz) which is a non-standard 4:3 resolution supported by some displays. The more commonly supported 2560x1440 mode is out of reach both because of its large horizontal resolution and because of its 240Mhz pixel clock. Pixel repetition makes a mode like 2560x1440 possible by lowering the horizontal resolution to 1280 pixels which lowers the pixel clock to 120Mhz. The 1280x1440 image that the MiSTer scaler produces is stretched horizontally by the ADV7513 so the signal that the display receives is the full 2560x1440. An update to the framework is required to support the non-uniform scaling for the cores output and pixel repetition is only supported for cores that have been updated. Older cores will have their output set to 1920x1080 if a mode requiring pixel repetition is requested.","title":"Video Modes"},{"location":"advanced/videomodes/#automatic-detection","text":"If no video_mode setting is specified, MiSTer will attempt to determine the correct video mode using EDID information from the display device. This will only work for devices connected to the HDMI port. If a valid video mode cannot be determined then the default 720p mode will be used.","title":"Automatic Detection"},{"location":"advanced/videomodes/#video-mode-presets-video_mode","text":"MiSTer has 15 built in video mode presets ranging from 0-14. These presets cover a lot of common display modes used by televisions and computer monitors. Here's an example video_mode setting and a table below to explain what each of the preset modes are: ; Number 8 - 1920x1080 - 60hz - 16:9 - FHD 1080p video_mode = 8 Number Resolution Refresh (Hz) Aspect Ratio Name 0 1280x720 60 16:9 HD 720p 1 1024x768 60 4:3 XGA 2 720x480 60 3:2 3 720x576 50 5:4 4 1280x1024 60 5:4 SXGA 5 800x600 60 4:3 SVGA 6 640x480 60 4:3 VGA 7 1280x720 50 16:9 HD 720p PAL 8 1920x1080 60 16:9 FHD 1080p 9 1920x1080 50 16:9 FHD 1080p PAL 10 1366x768 60 16:9 WXGA 11 1024x600 60 128:75 WSVGA 12 1920x1440 60 4:3 13 2048x1536 60 4:3 iPad Retina 14 2560x1440 60 16:9 1440p","title":"Video Mode Presets (video_mode)"},{"location":"advanced/videomodes/#custom-video-modes","text":"A custom mode can be set by specifying the width, height and refresh rate like so: ; 1920x1200 at 75Hz video_mode = 1920,1200,75 The maximum value for width is 4096, height is 2048 and refresh rate is unlimited but it must be a whole integer value. The DE-10 may not be able to output the mode you select or your display may not be able to accept it. The maximum recommended video frequency is 210Mhz which limits the maximum resolution to 2048x1536. Pixel repetition can be used to increase the resolution further, but it also has limits. The VESA Coordinated Video Timings standard is used to calculate the timing information for the requested video mode. By default the reduced blanking version of the standard is used. This is compatible with most flat panel displays but may not be as well supported on older displays and CRT monitors. You can use regular CVT timings by adding the cvt flag to the end of the video mode: ; 1600x1200 on a CRT monitor video_mode = 1600,1200,60,cvt Regular timing requires a slightly higher clock speed for a given resolution, so it some higher resolution modes are not achievable with it. An online video timing calculator can help with understanding the differences between the two methods.","title":"Custom Video Modes"},{"location":"advanced/videomodes/#manual-modelines","text":"Video mode timing can be fully specified using a video modeline which consists of nine values defining the horizontal timing, vertical timing and pixel clock. video_mode = hact,hfp,hs,hbp,vact,vfp,vs,vbp,fpix hact and vact defines the active (visible) size of the video mode in horizontal and vertical pixels, respectively. hfp , hs and hbp defines the duration of horizontal front porch, sync and back porch in pixels. vfp , vs abd vbp define the same properties, but for the vertical timing. Finally, the fpix value is the frequency of the pixel clock in KHz (pixels clocks are usually specified in MHz, so multiply the Mhz value by a 1000 to get the value in KHz). MiSTer modelines are similar to XFree86 modelines, but the information is expressed slightly differently. You can convert an XFree86 modeline to a MiSTer one using the custom video mode tool by morf77 available here which can be used in conjunction with a modeline calculator .","title":"Manual Modelines"},{"location":"advanced/videomodes/#additional-flags","text":"Some additional flags can be added to custom modes and modelines to modify the behavior. +hsync / -hsync - set the horizontal sync polarity +vsync / -hsync - set the vertical sync polarity pr - use HDMI pixel repetition (custom modelines only) cvt - use normal CVT timing (custom mode only) cvtrb - use reduced blanking CVT timing (custom mode only)","title":"Additional Flags"},{"location":"advanced/videomodes/#hdmi-pixel-repetition-pr","text":"HDMI pixel repetition enables MiSTer to output a higher resolution video signal without using additional resources or requiring higher clock speeds. It does this by instructing the ADV7513 HDMI transmitter to duplicate each pixel that it sends to the display. This does not increase the fidelity of the final image, in most cases it will reduce it, but it does enable a wider selection of video modes. MiSTer is limited to a maximum horizontal resolution of 2048 pixels and a maximum pixel clock of 210Mhz. This is enough to display a 2048x1536 image (209Mhz, Pad resolution), which is the maximum native resolution supported. It is also enough for 1920x1440 (184Mhz) which is a non-standard 4:3 resolution supported by some displays. The more commonly supported 2560x1440 mode is out of reach both because of its large horizontal resolution and because of its 240Mhz pixel clock. Pixel repetition makes a mode like 2560x1440 possible by lowering the horizontal resolution to 1280 pixels which lowers the pixel clock to 120Mhz. The 1280x1440 image that the MiSTer scaler produces is stretched horizontally by the ADV7513 so the signal that the display receives is the full 2560x1440. An update to the framework is required to support the non-uniform scaling for the cores output and pixel repetition is only supported for cores that have been updated. Older cores will have their output set to 1920x1080 if a mode requiring pixel repetition is requested.","title":"HDMI Pixel Repetition (pr)"},{"location":"advanced/videoscaling/","text":"MiSTer has a built-in scaler which converts the low-resolution video directly from the cores to a higher resolution with the added capability of using filters and such to enhance the experience on modern displays. Here's an overview of how to configure the scaling ratios. Video Scale Mode (vscale_mode) In your MiSTer.ini file at the root of your MicroSD card you can modify the way the original video from the core is scaled up onto your display. If you read the section from the link just now you will see the following a few lines down: vscale_mode = 0 ; 0 - scale to fit the screen height. ; 1 - use integer scale only. ; 2 - use 0.5 steps of scale. ; 3 - use 0.25 steps of scale. ; 4 - integer resolution scaling, use core aspect ratio ; 5 - integer resolution scaling, maintain display aspect ratio There are a lot of options here so let's go through all of them: vscale_mode=0 (Fit Vertically to the Display Height) This is the default setting when you first turn on your MiSTer. If the game resolution is 256x224, in order to fit it vertically into a 1920x1080p display, you have to divide 224 into 1080. However, 224 doesn't divide evenly into 1080 ( 1080 / 224 = 4.821428571428571~ ). So some of the pixels may not be scaled evenly. Some people don't mind this and it sure is nice to fill the screen entirely from top to bottom. You may see some shimmering pixels, if you do then use the interpolation video preset to alleviate this, or some of the adaptive scanline filters. vscale_mode=1 (Integer Scaling) This setting makes it so the final scaled resolution multiplier of the core's video output is a whole number (e.g. 2x, 3x, 4x, 5x, 6x, etc...). Since your video_mode may still be set to 1920x1080p resolution, then the previous example of 256x224 will be scaled 4 times as large. 4 * 224 = 896 . However, the remainder is left black, so there will be a border, but your pixels are correctly scaled so there should be no shimmering (unless your display is causing it). Some people prefer this setting to get the crispest pixels they can get with a much lower chance of video artifacts that are undesirable. Others may not like it because it doesn't fill the screen the way 0 does. vscale_mode=2 and 3 (Fractional Integer Scaling) This setting is similar to vscale_mode = 1 , however instead of scaling increments of whole numbers (e.g. 2x, 3x, 4x, etc...), it will scale in increments of fractions of either 0.5 (e.g. 2x, 2.5x, 3x, 3.5x, 4x, etc...) or 0.25 (e.g. 2x, 2.25x, 2.5x, 2.75x, 3x, etc...). For some monitors this setting can greatly reduces shimmering issues (although not all of it) while using sharper filtering (or no filtering at all). It's suggested to test around with vscale_mode 2 and 3 on a per core basis to see what looks best to your eyes. vscale_mode=4 and 5 (Dynamically Scaled Video Mode) This setting was recently added by wickerwaka, and it dynamically changes your video_mode in order to retain an integer scaling but still fill the screen. It is ideal if you are using your MiSTer on a 2560x1440p or 4k display because you can scale vertically and still get very close to zero shimmering and video artifacts. The way this works may seem confusing but it's actually simpler than it seems. If you don't want to learn all about it, just change the setting and test it out yourself. If you want to know how it works, take a read below: vscale_mode=4 (Integer Resolution Scaling which uses the Core's Aspect Ratio) If you have video_mode = 13 set in your MiSTer.ini file , then that means you are telling the MiSTer to set your display to 2048x1536p resolution at a 60hz refresh rate. If we take our example of 256x224, and let's assume the Core displays that at a 4:3 Aspect Ratio, then we need to find a vertical and horizontal resolution that fits the whole 256x224 at that ratio but Integer Scaled (like vscale_mode = 1 explained above). So 2048x1536 are actually the maximum numbers in either direction that we will go. 224 goes into 1536 almost 7 times but not quite, so the MiSTer will have to go with 6 as it's multiplier. That means the vertical resolution will be 1344. What is the horizontal resolution going to be? Well it has to be a 4:3 aspect ratio, so we also need to scale the 256 an equivalent amount. I personally use a calculator like this when I want to find out what it should be. This tells me that my horizontal resolution should be 1792 in order to fit into that frame. That looks like a lot of work, but thankfully vscale_mode=4 does all of the math for you so you don't have to worry about it so much. You may have mixed results with vscale_mode=4, for instance the PSX core changing resolutions will prompt a full resync, which can be jarring to some people. vscale_mode=5 (Integer Resolution Scaling but maintaining the Display's Aspect Ratio) This works very similarly to vscale_mode = 4 but it disregards the core's aspect ratio and it only calculates the proper integer scaled resolution that would fit in your screen's aspect ratio. Let's say you have a 1920x1200 display (16:10 aspect ratio) and you are using video_mode = 1920,1200,60 . The 16:10 aspect ratio will not be changed. This could be useful if you have a very specific display that you would like to fill up horizontally with some cores, or if you have a 31kHz computer monitor that does higher resolutions and you want to fit console cores into it's 4:3 aspect ratio.","title":"Video Scaling"},{"location":"advanced/videoscaling/#video-scale-mode-vscale_mode","text":"In your MiSTer.ini file at the root of your MicroSD card you can modify the way the original video from the core is scaled up onto your display. If you read the section from the link just now you will see the following a few lines down: vscale_mode = 0 ; 0 - scale to fit the screen height. ; 1 - use integer scale only. ; 2 - use 0.5 steps of scale. ; 3 - use 0.25 steps of scale. ; 4 - integer resolution scaling, use core aspect ratio ; 5 - integer resolution scaling, maintain display aspect ratio There are a lot of options here so let's go through all of them:","title":"Video Scale Mode (vscale_mode)"},{"location":"advanced/videoscaling/#vscale_mode0-fit-vertically-to-the-display-height","text":"This is the default setting when you first turn on your MiSTer. If the game resolution is 256x224, in order to fit it vertically into a 1920x1080p display, you have to divide 224 into 1080. However, 224 doesn't divide evenly into 1080 ( 1080 / 224 = 4.821428571428571~ ). So some of the pixels may not be scaled evenly. Some people don't mind this and it sure is nice to fill the screen entirely from top to bottom. You may see some shimmering pixels, if you do then use the interpolation video preset to alleviate this, or some of the adaptive scanline filters.","title":"vscale_mode=0 (Fit Vertically to the Display Height)"},{"location":"advanced/videoscaling/#vscale_mode1-integer-scaling","text":"This setting makes it so the final scaled resolution multiplier of the core's video output is a whole number (e.g. 2x, 3x, 4x, 5x, 6x, etc...). Since your video_mode may still be set to 1920x1080p resolution, then the previous example of 256x224 will be scaled 4 times as large. 4 * 224 = 896 . However, the remainder is left black, so there will be a border, but your pixels are correctly scaled so there should be no shimmering (unless your display is causing it). Some people prefer this setting to get the crispest pixels they can get with a much lower chance of video artifacts that are undesirable. Others may not like it because it doesn't fill the screen the way 0 does.","title":"vscale_mode=1 (Integer Scaling)"},{"location":"advanced/videoscaling/#vscale_mode2-and-3-fractional-integer-scaling","text":"This setting is similar to vscale_mode = 1 , however instead of scaling increments of whole numbers (e.g. 2x, 3x, 4x, etc...), it will scale in increments of fractions of either 0.5 (e.g. 2x, 2.5x, 3x, 3.5x, 4x, etc...) or 0.25 (e.g. 2x, 2.25x, 2.5x, 2.75x, 3x, etc...). For some monitors this setting can greatly reduces shimmering issues (although not all of it) while using sharper filtering (or no filtering at all). It's suggested to test around with vscale_mode 2 and 3 on a per core basis to see what looks best to your eyes.","title":"vscale_mode=2 and 3 (Fractional Integer Scaling)"},{"location":"advanced/videoscaling/#vscale_mode4-and-5-dynamically-scaled-video-mode","text":"This setting was recently added by wickerwaka, and it dynamically changes your video_mode in order to retain an integer scaling but still fill the screen. It is ideal if you are using your MiSTer on a 2560x1440p or 4k display because you can scale vertically and still get very close to zero shimmering and video artifacts. The way this works may seem confusing but it's actually simpler than it seems. If you don't want to learn all about it, just change the setting and test it out yourself. If you want to know how it works, take a read below:","title":"vscale_mode=4 and 5 (Dynamically Scaled Video Mode)"},{"location":"advanced/videoscaling/#vscale_mode4-integer-resolution-scaling-which-uses-the-cores-aspect-ratio","text":"If you have video_mode = 13 set in your MiSTer.ini file , then that means you are telling the MiSTer to set your display to 2048x1536p resolution at a 60hz refresh rate. If we take our example of 256x224, and let's assume the Core displays that at a 4:3 Aspect Ratio, then we need to find a vertical and horizontal resolution that fits the whole 256x224 at that ratio but Integer Scaled (like vscale_mode = 1 explained above). So 2048x1536 are actually the maximum numbers in either direction that we will go. 224 goes into 1536 almost 7 times but not quite, so the MiSTer will have to go with 6 as it's multiplier. That means the vertical resolution will be 1344. What is the horizontal resolution going to be? Well it has to be a 4:3 aspect ratio, so we also need to scale the 256 an equivalent amount. I personally use a calculator like this when I want to find out what it should be. This tells me that my horizontal resolution should be 1792 in order to fit into that frame. That looks like a lot of work, but thankfully vscale_mode=4 does all of the math for you so you don't have to worry about it so much. You may have mixed results with vscale_mode=4, for instance the PSX core changing resolutions will prompt a full resync, which can be jarring to some people.","title":"vscale_mode=4 (Integer Resolution Scaling which uses the Core's Aspect Ratio)"},{"location":"advanced/videoscaling/#vscale_mode5-integer-resolution-scaling-but-maintaining-the-displays-aspect-ratio","text":"This works very similarly to vscale_mode = 4 but it disregards the core's aspect ratio and it only calculates the proper integer scaled resolution that would fit in your screen's aspect ratio. Let's say you have a 1920x1200 display (16:10 aspect ratio) and you are using video_mode = 1920,1200,60 . The 16:10 aspect ratio will not be changed. This could be useful if you have a very specific display that you would like to fill up horizontally with some cores, or if you have a 31kHz computer monitor that does higher resolutions and you want to fit console cores into it's 4:3 aspect ratio.","title":"vscale_mode=5 (Integer Resolution Scaling but maintaining the Display's Aspect Ratio)"},{"location":"basics/addons/","text":"Artwork by Hewhoisred MiSTer has various addon boards that are somewhat optional to use such as a 128MB SDRAM add-on board that allows you to use all of the cores on the system and the Analog IO board which enables you to easily connect your MiSTer to a classic CRT telivision or monitor. These boards can be purchased by various sellers online or assembled yourself by ordering the PCB from a PCB manufacturer, buying the components online, and soldering it yourself. Here's a rundown of what some of the current add-on boards are and what they do. 128MB SDRAM Addon Board The 128MB SDRAM Add-on board for MiSTer is essential for multiple cores to even load games. You can alternatively go with a 32MB SDRAM board for a cheaper price, however there are some games on Neo Geo, Game Boy Advance, and a few other cores which might not be compatible if you go with the smaller sized module. When plugging in the SDRAM board, make sure to support the DE10-Nano from beneath with your thumbs. Forcing in the SDRAM board without support can bend the DE10-Nano board and permanently damage it. Removing the SDRAM board can be tricky for some GPIO connectors and just pulling won't do it sometimes. For very tight connectors, it is recommended to wiggle the SDRAM board back and forth to remove the connectors slowly, bit-by-bit. Just pulling with force will often bend the GPIO header. USB Hub Addon Board The USB Hub Add-on board for MiSTer has two methods of connecting to your DE10-Nano either via internal headers with a slim external board or with a bridge to connect both MicroUSB ports together. This board provides an OTG USB Hub for the MiSTer which has one power-only usb port in the back and 6 USB 2.0 ports ont he other 3 sides. It requires power so you may need a power splitter to supply power to both the DE10-Nano and this USB hub. If you use a Digital IO board you will only need a DC to DC jumper cable and a single cable to the Digital IO board's barrel jack in order to power the whole stack. Digital I/O Addon Board Get this board if you want a few more options. It is cheaper than the Analog IO board below typically, and it leaves the 2nd SDRAM slot unoccuppied for the potential future cores which may require it someday. 3 Buttons, Reset, On-Screen Display (OSD), and User (for various user interactions without a keyboard) 3 status LEDs, Power, Disk, and User Secondary MicroSD card slot that may be required by some older computer cores. This is not typical MicroSD storage, think of it as like a little floppy drive. Mini-TOSLINK optical digital audio port. Full size TOSLINK optical digital audio port. User IO Port. This is a port that looks like it is USB 3.0 but it is not! This is actually used for direct serial communication with various peripherals and adapters like SNAC adapters and MT32-Pi . Fan Power header and fan mounting holes for better cooling. Doesn't use the 2nd set of 2x20 headers on the DE10-Nano so it is compatible with Dual SDRAM configurations. Analog I/O Addon Board Get this board instead of the Digital IO Addon board if you want to use your MiSTer for simultaneous video output to a CRT and HDMI monitor. Otherwise the cheaper Digital IO board should be sufficient. 3 Buttons, Reset, On-Screen Display (OSD), and User (for various user interactions without a keyboard) 3 status LEDs, Power, Disk, and User Power On/Off Switch. Barrel jack which can be used to power the DE10-Nano with. Secondary MicroSD card slot that may be required by some older computer cores. This is not typical MicroSD storage, think of it as like a little floppy drive. VGA port for analog video output - See Advanced - CRT for the potential connectivity options. Simultaneous analog video and HDMI video output is possible with this board. Sync-on-green override\\auto switch. 3.5mm analog audio port that is also a Mini-TOSLINK optical digital audio port at the same time. 3.5mm audio-in port for ADC-in (like Tape input for some computer cores). User IO Port. This is a port that looks like it is USB 3.0 but it is not! This is actually used for direct serial communication with various peripherals and adapters like SNAC adapters and MT32-Pi . Fan power header and fan mounting holes for better cooling. Uses the 2nd set of 2x20 headers on the DE10-Nano so it is not compatible with Dual SDRAM configurations. MT32-Pi Lite MiSTer Addon Board MT32-Pi is a baremetal emulator of the Roland MT-32 synth module. This add-on board is Sorgelig's rendition of the new version that utilizes a Raspberry Pi Zero 2 W. This board plugs into the side of the MiSTer into the User IO port on either the Digital IO board or the Analog IO board. Get this board if you want to listen to upgraded Midi sounds in certain cores and games that support it, like the ao486 core or the X68000 core. Here's a video by youtuber MiSTer Walrus FPGA showing off how the MT32-Pi sounds . MT32-Pi Raspberry Pi HAT Addon Board This is a Raspberry Pi HAT add-on board for the MT32-Pi . It is intended to be used with the Raspberry Pi 3A+ due to it's square shape, but the 3B and 4 will work just fine as well. You will also need a short USB Type A 3.0 Male to Male cable if you choose this option. Real Time Clock Addon Board There is a Real Time Clock add-on board. If you want to add a real-time clock to your MiSTer you will require this. Various MiSTer FPGA cores use the Real-Time Clock feature. For more detailed information on how the board works and how to use it, check the Advanced - Add-On Boards - RTC Board section of this documentation page for more information. ADC Analog Audio Input Addon Board The ADC Add-on board for MiSTer allows you to use either recordings of computer tape audio or actual retro tape players to send data over analog audio into certain computer cores. Where to buy? If you'd like to buy a board from a vendor online (instead of soldering one yourself), the MiSTer FPGA Forums have a Hardware Sellers forum just for that purpose. Here's a list of some hardware sellers from that forum and elsewhere, for your convenience: MiSTerAddons.com (USA) UltimateMiSTer.com (Portugal) MiSTerFPGA.co.uk (United Kingdom) AntonioVillena.es (Spain) LegacyPixels.com (USA) OzMiSTerMods.com (Australia) CAMInventions.com (Australia) MiSTerKits.com (USA) ManuFerHi.com (Spain) MiSTer-FPGA.de (Germany) RetroKit.tech (United Kingdom) RetroCastle AliExpress store (China) This is not an official endorsement of these sellers, merely a collection of links. Any hardware failures or shipping failures you have should prompt you to reach out for support from the vendor you purchased your board from first.","title":"Addon Boards"},{"location":"basics/addons/#128mb-sdram-addon-board","text":"The 128MB SDRAM Add-on board for MiSTer is essential for multiple cores to even load games. You can alternatively go with a 32MB SDRAM board for a cheaper price, however there are some games on Neo Geo, Game Boy Advance, and a few other cores which might not be compatible if you go with the smaller sized module. When plugging in the SDRAM board, make sure to support the DE10-Nano from beneath with your thumbs. Forcing in the SDRAM board without support can bend the DE10-Nano board and permanently damage it. Removing the SDRAM board can be tricky for some GPIO connectors and just pulling won't do it sometimes. For very tight connectors, it is recommended to wiggle the SDRAM board back and forth to remove the connectors slowly, bit-by-bit. Just pulling with force will often bend the GPIO header.","title":"128MB SDRAM Addon Board"},{"location":"basics/addons/#usb-hub-addon-board","text":"The USB Hub Add-on board for MiSTer has two methods of connecting to your DE10-Nano either via internal headers with a slim external board or with a bridge to connect both MicroUSB ports together. This board provides an OTG USB Hub for the MiSTer which has one power-only usb port in the back and 6 USB 2.0 ports ont he other 3 sides. It requires power so you may need a power splitter to supply power to both the DE10-Nano and this USB hub. If you use a Digital IO board you will only need a DC to DC jumper cable and a single cable to the Digital IO board's barrel jack in order to power the whole stack.","title":"USB Hub Addon Board"},{"location":"basics/addons/#digital-io-addon-board","text":"Get this board if you want a few more options. It is cheaper than the Analog IO board below typically, and it leaves the 2nd SDRAM slot unoccuppied for the potential future cores which may require it someday. 3 Buttons, Reset, On-Screen Display (OSD), and User (for various user interactions without a keyboard) 3 status LEDs, Power, Disk, and User Secondary MicroSD card slot that may be required by some older computer cores. This is not typical MicroSD storage, think of it as like a little floppy drive. Mini-TOSLINK optical digital audio port. Full size TOSLINK optical digital audio port. User IO Port. This is a port that looks like it is USB 3.0 but it is not! This is actually used for direct serial communication with various peripherals and adapters like SNAC adapters and MT32-Pi . Fan Power header and fan mounting holes for better cooling. Doesn't use the 2nd set of 2x20 headers on the DE10-Nano so it is compatible with Dual SDRAM configurations.","title":"Digital I/O Addon Board"},{"location":"basics/addons/#analog-io-addon-board","text":"Get this board instead of the Digital IO Addon board if you want to use your MiSTer for simultaneous video output to a CRT and HDMI monitor. Otherwise the cheaper Digital IO board should be sufficient. 3 Buttons, Reset, On-Screen Display (OSD), and User (for various user interactions without a keyboard) 3 status LEDs, Power, Disk, and User Power On/Off Switch. Barrel jack which can be used to power the DE10-Nano with. Secondary MicroSD card slot that may be required by some older computer cores. This is not typical MicroSD storage, think of it as like a little floppy drive. VGA port for analog video output - See Advanced - CRT for the potential connectivity options. Simultaneous analog video and HDMI video output is possible with this board. Sync-on-green override\\auto switch. 3.5mm analog audio port that is also a Mini-TOSLINK optical digital audio port at the same time. 3.5mm audio-in port for ADC-in (like Tape input for some computer cores). User IO Port. This is a port that looks like it is USB 3.0 but it is not! This is actually used for direct serial communication with various peripherals and adapters like SNAC adapters and MT32-Pi . Fan power header and fan mounting holes for better cooling. Uses the 2nd set of 2x20 headers on the DE10-Nano so it is not compatible with Dual SDRAM configurations.","title":"Analog I/O Addon Board"},{"location":"basics/addons/#mt32-pi-lite-mister-addon-board","text":"MT32-Pi is a baremetal emulator of the Roland MT-32 synth module. This add-on board is Sorgelig's rendition of the new version that utilizes a Raspberry Pi Zero 2 W. This board plugs into the side of the MiSTer into the User IO port on either the Digital IO board or the Analog IO board. Get this board if you want to listen to upgraded Midi sounds in certain cores and games that support it, like the ao486 core or the X68000 core. Here's a video by youtuber MiSTer Walrus FPGA showing off how the MT32-Pi sounds .","title":"MT32-Pi Lite MiSTer Addon Board"},{"location":"basics/addons/#mt32-pi-raspberry-pi-hat-addon-board","text":"This is a Raspberry Pi HAT add-on board for the MT32-Pi . It is intended to be used with the Raspberry Pi 3A+ due to it's square shape, but the 3B and 4 will work just fine as well. You will also need a short USB Type A 3.0 Male to Male cable if you choose this option.","title":"MT32-Pi Raspberry Pi HAT Addon Board"},{"location":"basics/addons/#real-time-clock-addon-board","text":"There is a Real Time Clock add-on board. If you want to add a real-time clock to your MiSTer you will require this. Various MiSTer FPGA cores use the Real-Time Clock feature. For more detailed information on how the board works and how to use it, check the Advanced - Add-On Boards - RTC Board section of this documentation page for more information.","title":"Real Time Clock Addon Board"},{"location":"basics/addons/#adc-analog-audio-input-addon-board","text":"The ADC Add-on board for MiSTer allows you to use either recordings of computer tape audio or actual retro tape players to send data over analog audio into certain computer cores.","title":"ADC Analog Audio Input Addon Board"},{"location":"basics/addons/#where-to-buy","text":"If you'd like to buy a board from a vendor online (instead of soldering one yourself), the MiSTer FPGA Forums have a Hardware Sellers forum just for that purpose. Here's a list of some hardware sellers from that forum and elsewhere, for your convenience: MiSTerAddons.com (USA) UltimateMiSTer.com (Portugal) MiSTerFPGA.co.uk (United Kingdom) AntonioVillena.es (Spain) LegacyPixels.com (USA) OzMiSTerMods.com (Australia) CAMInventions.com (Australia) MiSTerKits.com (USA) ManuFerHi.com (Spain) MiSTer-FPGA.de (Germany) RetroKit.tech (United Kingdom) RetroCastle AliExpress store (China) This is not an official endorsement of these sellers, merely a collection of links. Any hardware failures or shipping failures you have should prompt you to reach out for support from the vendor you purchased your board from first.","title":"Where to buy?"},{"location":"basics/bluetooth/","text":"Bluetooth adapters and using controllers over bluetooth is supported on the MiSTer. Compatible adapters Generally speaking, most bluetooth 4.0 adapters use one of two similar chips, the CSR8510 and the BCM20702, and these are compatible. Bluetooth 5.0 adapters are a little different, but many are compatible as well. Here is a list of a few known compatible adapters: ASUS USB-BT500 (5.0) Edimax BT-8500 (5.0) MiSTerAddons.com's Bluetooth 4.2 / WiFi AC600 Combo Adapter MiSTerFPGA.co.uk's CSR8510 Bluetooth 4.0 Adapter Ultimatemister.com's CSR8510 Bluetooth 4.0 Adapter MiSTerKits.com's CSR8510 Bluetooth 4.0 Adapter ZEXMTE Long Range USB Bluetooth (5.0) There are many more that work than these few. Please note that some hardware revisions may change the compatibility of even the adapters in this list, your results may vary. For the most part, most adapters seem to work fine. How to pair your Bluetooth controller or Keyboard This is the easy part. Simply press the F11 key on a keyboard that is already connected to the MiSTer and the pairing prompt will pop up. Alternatively, if you have a Digital IO or Analog IO addon board, then you can press and hold the OSD button to bring up the same bluetooth pairing prompt. Put your controller into pairing mode and wait. The MiSTer should find it momentarily and connect to it. You may need to define your inputs for this new controller, even if it's been plugged directly into the MiSTer before as it is seen as a different controller over bluetooth. Bluetooth connection to MiSTer unstable? If your bluetooth connection to the MiSTer is unstable (e.g. losing the connection to your controller randomly), try getting a usb extension / pigtail adapter to move the adapter away from the USB hub. For some people the USB hub can add interference and can interrupt some adapters (like the ASUS USB-BT500 in some cases). The root cause of this behavior is not currently known.","title":"Bluetooth"},{"location":"basics/bluetooth/#compatible-adapters","text":"Generally speaking, most bluetooth 4.0 adapters use one of two similar chips, the CSR8510 and the BCM20702, and these are compatible. Bluetooth 5.0 adapters are a little different, but many are compatible as well. Here is a list of a few known compatible adapters: ASUS USB-BT500 (5.0) Edimax BT-8500 (5.0) MiSTerAddons.com's Bluetooth 4.2 / WiFi AC600 Combo Adapter MiSTerFPGA.co.uk's CSR8510 Bluetooth 4.0 Adapter Ultimatemister.com's CSR8510 Bluetooth 4.0 Adapter MiSTerKits.com's CSR8510 Bluetooth 4.0 Adapter ZEXMTE Long Range USB Bluetooth (5.0) There are many more that work than these few. Please note that some hardware revisions may change the compatibility of even the adapters in this list, your results may vary. For the most part, most adapters seem to work fine.","title":"Compatible adapters"},{"location":"basics/bluetooth/#how-to-pair-your-bluetooth-controller-or-keyboard","text":"This is the easy part. Simply press the F11 key on a keyboard that is already connected to the MiSTer and the pairing prompt will pop up. Alternatively, if you have a Digital IO or Analog IO addon board, then you can press and hold the OSD button to bring up the same bluetooth pairing prompt. Put your controller into pairing mode and wait. The MiSTer should find it momentarily and connect to it. You may need to define your inputs for this new controller, even if it's been plugged directly into the MiSTer before as it is seen as a different controller over bluetooth.","title":"How to pair your Bluetooth controller or Keyboard"},{"location":"basics/bluetooth/#bluetooth-connection-to-mister-unstable","text":"If your bluetooth connection to the MiSTer is unstable (e.g. losing the connection to your controller randomly), try getting a usb extension / pigtail adapter to move the adapter away from the USB hub. For some people the USB hub can add interference and can interrupt some adapters (like the ASUS USB-BT500 in some cases). The root cause of this behavior is not currently known.","title":"Bluetooth connection to MiSTer unstable?"},{"location":"basics/case/","text":"There are multiple MiSTer FPGA cases available to you. From DIY cases made out of project boxes, to retro-fitting an old computer or console injection molded case, even 3d printing your own, and manufactured aluminum heatsink cases... There are plenty of choices. Remember, you can be creative and have fun with your case design of choice. Get some ideas If you are wanting to make your own case you might want some ideas. There is an excellent \"Show us your MiSTer\" thread up on the MiSTer FPGA official forums that you should take a look at if you are thinking of coming up with something creative. That thread has both store-bought and custom-build MiSTer's on display. 3d Printed Designs There are lots of 3d Printed cases on the internet. Here are some generic ones that may interest you if you have a 3d printer: jaddel's simple de10-nano case with a fan mount and user buttons misteraddons.com's early design hackerjack42's addendum to misteraddon.com's early design above pjtonge's Atari Computer styled case for the de10-nano + usb hub 2.1 onaluf's unique case design for the 3 board MiSTer FPGA sandwich Zemciko's Atari 800XE computer inspired case design Yurif74's AjSTer case that uses the A-JAZZ AK33 keyboard for a retro computer style leejsmith's unique computer wedge case As you can see, a 3d Printer can give you a lot of flexibility in designing your own case. Laser-cut designs There are both some open source and some for-sale laser cut case designs that may be of interest to you. Here are a few: zerohimself's top and bottom laser-cut plates design RnSKSkunkwerks laser cut RSK202/R plates RnSKSkunkwerks laser cut star wars inspired plates","title":"Cases"},{"location":"basics/case/#get-some-ideas","text":"If you are wanting to make your own case you might want some ideas. There is an excellent \"Show us your MiSTer\" thread up on the MiSTer FPGA official forums that you should take a look at if you are thinking of coming up with something creative. That thread has both store-bought and custom-build MiSTer's on display.","title":"Get some ideas"},{"location":"basics/case/#3d-printed-designs","text":"There are lots of 3d Printed cases on the internet. Here are some generic ones that may interest you if you have a 3d printer: jaddel's simple de10-nano case with a fan mount and user buttons misteraddons.com's early design hackerjack42's addendum to misteraddon.com's early design above pjtonge's Atari Computer styled case for the de10-nano + usb hub 2.1 onaluf's unique case design for the 3 board MiSTer FPGA sandwich Zemciko's Atari 800XE computer inspired case design Yurif74's AjSTer case that uses the A-JAZZ AK33 keyboard for a retro computer style leejsmith's unique computer wedge case As you can see, a 3d Printer can give you a lot of flexibility in designing your own case.","title":"3d Printed Designs"},{"location":"basics/case/#laser-cut-designs","text":"There are both some open source and some for-sale laser cut case designs that may be of interest to you. Here are a few: zerohimself's top and bottom laser-cut plates design RnSKSkunkwerks laser cut RSK202/R plates RnSKSkunkwerks laser cut star wars inspired plates","title":"Laser-cut designs"},{"location":"basics/cd/","text":"MiSTer supports Cue/Bin and CHD formats. The way the MiSTer handles CD-based ROMs and images is fairly simple. There are some specifics that need to be described about how the MiSTer handles CDs. Will MiSTer ever support USB CD Drives? The short answer is no . The long answer is that 1) there is too much hardware variation in CD drives and the drivers that go with them for it to be worth it and 2) everything added to the Linux image and Main binary for the MiSTer have to be very carefully considered as the goal is to keep it lightweight and not bloated. CD Drive support is not a priority, as properly dumped CD-ROM images are bit-perfect where it counts (excluding randomized subchannel data and garbage data fill-in). Cue/Bin Folders and CHD files If you are using cue/bin files, then you need to place them in their own folder separate from the other cue/bin ROMs. Currently every CD-based core supports cue/bin. CHD files are a compressed CD image format that is also supported by almost every CD-based core. CHD files don't need to be placed in their own folder separate from each other.","title":"CD-based ROMs"},{"location":"basics/cd/#will-mister-ever-support-usb-cd-drives","text":"The short answer is no . The long answer is that 1) there is too much hardware variation in CD drives and the drivers that go with them for it to be worth it and 2) everything added to the Linux image and Main binary for the MiSTer have to be very carefully considered as the goal is to keep it lightweight and not bloated. CD Drive support is not a priority, as properly dumped CD-ROM images are bit-perfect where it counts (excluding randomized subchannel data and garbage data fill-in).","title":"Will MiSTer ever support USB CD Drives?"},{"location":"basics/cd/#cuebin-folders-and-chd-files","text":"If you are using cue/bin files, then you need to place them in their own folder separate from the other cue/bin ROMs. Currently every CD-based core supports cue/bin. CHD files are a compressed CD image format that is also supported by almost every CD-based core. CHD files don't need to be placed in their own folder separate from each other.","title":"Cue/Bin Folders and CHD files"},{"location":"basics/faq/","text":"Here are some Frequently Asked Questions that you may have. If there is anything missing here, feel free to contribute by editing the page on github using the Edit pen icon in the top right. When will MiSTer support cartridges? MiSTer will never use physical cartridges. The project aims to replace the need for having original hardware for the same experience. It is also physically impractical/impossible given the number of GPIO pins available from the FPGA. Does MiSTer have lag? It depends on your setup, but it ranges from imperceptibly low to around one frame of lag. Zero latency is possible with certain equipment and tweaks. See here for a more detailed explanation. I've seen in the news, \"Update Framework\". What does that mean? The 'framework' is all the common elements between cores that handle things like IO, video scaling, etc. Can I use original console controllers? Yes, there are many USB adapters for original console controllers. They can also be connected directly via the IO board as detailed below. What about light guns? Light guns such as the NES Zapper are too timing sensitive to work over USB, but will work fine on supported cores via the IO board as detailed below. Any USB controller recommendations? Almost any controller that uses USB will work with MiSTer. You can also use a Bluetooth or 2.4ghz USB adapter for wireless. Good controllers that many users seem to like and have low input latency are: Sony DualSense (PS5 Controller) - Very low lag, fast pairing, and a touchpad that can be used as mouse input (for cores with mouse support, like SNES lightgun use or a mouse as a spinner control). 8BitDo M30 Bluetooth and 8BitDoM30 2.4G - Note these kinds of controllers do not have as many buttons as the Playstation style controllers, and they do not have joysticks, so you may be limited if you solely use them. 8bitDo SN30 Pro 2 - Versatile connectivity and confortable design that is similar to the Playstation DualShock form factor with an SNES aesthetic and button layout. 8bitDo Arcade Stick - Wired and wireless low lag functionality with somewhat low variable lag, DIY customizable pushbuttons and joystick is also supported. iBuffalo SNES Controller - A little overpriced now, but it is one of the lowest lag controllers tested. And many many more. Check MiSTerAddons' input latency tests to help you decide. Also to ensure you get the fastest response make sure to check the USB overclock instructions section out. There are also some excellent usb controller adapters which enable you to use original console controllers: Timville Triple Controller Daemonbite - A spinoff of MickGuyver's Daemonbite adapters that has support for NES, Genesis, and SNES original hardware. You can also make it yourself using instructions found here . There is an option to purchase a 3d printed housing that you can also print yourself using the 3d files from here . MickGuyver's Daemonbite adapters - Very low latency adapters, often low supply and sold out however. Can build them yourself using instructions found here and here . 2600-daptor D9 - Lowest latency \"controller\" in the MiSTerAddons input latency tests . Can I increase the polling rate of my USB controller to improve input latency? Yes, you can. See here . Do I need the official USB Hub Add-On Board? No, but you will probably want some sort of inexpensive OTG hub at least (or a regular hub with an adapter). Use a powered hub if you have many devices. Do I need to have a USB keyboard with me to use MiSTer? Yes, it's a good idea to always have a USB keyboard available. Cheap wireless keyboards exist that you can use to reduce clutter. How do I add a second controller to MiSTer? First setup the controller in the main menu after plugging it in with no core loaded. Then you can define it in the various cores' OSD menus. This is only necessary if the controller is a different make/model (or has a different VendorID/ProductID) than any other controllers you have already defined. If you have already setup a Dualshock 4 controller, the second Dualshock 4 controller shouldn't need it's inputs to be defined again. Because of this, shared VendorID's and ProductID's between devices that are different may require reconfiguration when switching between them. There isn't any way around this currently. This includes using 8BitDo and Mayflash controller adapters with multiple controllers, as the adapters contain the ID information which is referenced. Does MiSTer need an IO board? No. The IO board is optional, but offers features that could be important for some users (3.5mm and optical audio, CRT output, tape audio input, etc). What are the methods for connecting controllers to the serial port of the IO add-on board? SNAC (Serial Native Accessory Converter) is used for direct wiring. Supporting cores (SNES, Genesis, NES, and TG16) allow you to directly connect original controllers. See this page for details on SNAC. Do I need an IO board to get analog video output to my CRT? No. You can use an HDMI to VGA adapter to do it instead. See Direct Video . Is MiSTer hard to set up? Is it really only for technical people who like to tinker? No and no, but those who enjoy tinkering can get a lot extra out of their MiSTer if they wish. The minimum setup only requires attaching a memory board to a DE-10 Nano and making an SD card. See the Setup Guide for more information. Which cores require SDRAM? You can find the updated list at the Console Cores and Computer Cores sections. Many Arcade cores use SDRAM as well. Why does the NES core require an SDRAM add-on board when the Genesis core does not? The Genesis has graphics RAM and stores data that is copied from the cartridge ROM. The NES does not do this, and typically accesses the ROM directly for the data which requires much tighter timings. Using the SDRAM board on the NES core allows meeting these timing requirements. Does my MiSTer need cooling? Yes, you will want at least a heatsink (passive cooling). 22mm x 22mm is the ideal size. 20mm x 20mm is more than enough however and is more common. Active cooling with a fan helps but is not strictly required. Some faster cores like ao486 or PSX may generate a lot of heat. What power supply is compatible with MiSTer? The DE10-Nano board needs a 5V power supply with at least 2A. The connector is a coaxial \"barrel\" plug of 5.5 mm outer diameter and 2.1 mm inner diameter, center positive. If you are using a USB Hub addon board and have a lot of power hungry peripherals attached to it (wifi, bluetooth, multiple controllers, a mechanical hard drive), it might be a good idea to upgrade to a similar 5v power supply, but with more amps (4A-5A). Typically this is only needed if you have a mechanical hard drive, are heavily using the charging port, or have an MT32-Pi powered by the serial IO user port as these draw a good amount of amps. My MiSTer needs a case. What should I do? There are two routes you can take; either make it yourself or purchase a case from an online vendor. For DiY, you can find the necessary 3D print files online (e.g. thingiverse ). What kind of screws do I use with the DE-10 Nano's 14mm long brass standoffs? M3 screws, 8mm is a good length. How do I set up MiSTer for 1080p, shimmer free gameplay? Run the updater script and use one of the video presets + filters that come with it in the Video Processing menu on the secondary OSD. See Video Configuration for more specific information. How do I get the scanlines filters on my MiSTer to look good? You will need to set the device to integer scaling for best results. Either set vscale_mode=1 in mister.ini or use the vscale integer settings within the core itself (as well as 5x) if they are supported. Not all cores support the OSD options to do integer scaling. \"Integer scaling\" is when your source resolution (240p) is divided into your target resolution (1080p) using only whole numbers (e.g. 1, 2, 3, 4...). This means if you use integer scaling with the MiSTer set to a 1080p resolution in the MiSTer.ini, and the core you are using natively outputs 240p, then the image will be scaled 4x which 4 times 240 equals 960. This leaves a black border for the remaining 80 pixels distributed across the top and bottom the screen. You can play with other settings if you want the scaler to fill the screen, but scanlines won't be \"perfect\" unless the source resolution (e.g. 240p) divides evenly into the target resolution (e.g. 1200p at 5x scaling). I have a 4k or other higher than 1080p display, does MiSTer support that resolution? I'd like to enjoy better video scaling. MiSTer can't quite reach 4k. Edit mister.ini on your SD card to change resolutions, e.g. video_mode=12 for 1440p or video_mode=13 for 1536p (hardware maximum). Compatibility with these higher resolutions may depend upon your display and signal chain. How does the accuracy level of various MiSTer cores compare to other FPGA options? Most MiSTer cores are just as, if not more accurate, as any of the other major FPGA offerings available today. Most people would not able to tell the difference between these cores and the original hardware. Will any MiSTer core ever get save states? The Gameboy, GBA, Lynx, Wonderswan, NES, and PSX cores all support savestates. Cores need to be written from scratch to support them (as was done with the GBA and Lynx cores) or they need to be reworked significantly to support pause before save states can be added (as was done with the Gameboy and NES cores). At this time there are no specific plans to apply this to other cores, but it may happen one day. It is not as easy to add savestate functionality to an FPGA-based emulator than it is to add it to a software-based emulator. Why doesn\u2019t this core from another repo work? Why is MiSTer so hard to use? MiSTer repositories are self contained and the official updater script only fetches cores from the active official MiSTer repositories. Cores from other repos are not fully integrated so your results may vary. Some developers have their own discord servers or forums and you can seek support there. When is an N64 core coming? Probably never. There isn\u2019t really sufficient bandwidth. When is PlayStation core coming? It's almost here. It is currently in an open beta stage and nearing completion rapidly. To assist in testing please join the MiSTer FPGA discord server and read the pins in the #psx-core-testing channel before submitting a bug report. Other cores work but I get a black screen for this one. What do I do? Try setting vsync to 0 as your display may not support all refresh rates. (Note that this was the default setting.) My CD games don\u2019t work! Help! Unzip them. Do not zip CD games. Also put them in iso/wav/bin/img + cue format. What version of the CD card bios do I need for TG16 CD? Use Japanese version 3.0. You will commonly find it with filename: Super CD-ROM System (Japan) (v3.0).pce How do I make MiSTer boot into the NES core and a specific game? You need to use two different options: autobooting a core, and starting the core on a given ROM. Here is how: In the .INI file, set bootcore=NES_20201102.rbf (or the specific core version you have), and comment out ;bootcore_timeout . Then on your NES games folder (e.g. /media/fat/games/NES/ , copy the FDS bios as boot0.rom , and your .NES rom to boot as boot1.rom . For more options, please refer to the NES core documentation I heard the DE10-Nano board uses subsidized components. Is MiSTer doomed if that stops? De10-Nano is manufactured in very large scale for use by students and is widely available. When it reaches end of life, the open source cores and infrastructure will be ported to another widely available board. I see a defect that some other people aren\u2019t seeing. Should I get a different DE-10 Nano? No, you should report the defect and wait for a fix. There is no magical best DE-10 Nano. I found some other Cyclone based dev board on sale and it has built in WiFi. Can I use it for MiSTer? Generally, no. While it\u2019s always possible that someone will take time to port things to other boards, the different pins and memory will mean it won\u2019t be a straight use and unless it\u2019s a significant upgrade, it would never gain official support. The DE-10 is rated for up to 100\u00b0C operation and it doesn\u2019t get nearly that hot. Do I really need a fan or heatsink? A number of complex cores (like ao486) benefit from having the chip at cooler temperatures, since heat can affect the tight timings they require. A fan is recommended to avoid any possible glitches, but you won't damage your DE10-Nano if you choose not to use one. Can you take screenshots on the MiSTer? You can take screenshots on the MiSTer very easily. All you have to do is press Win + Print Screen on your keyboard and you will get an upscaled screenshot. For raw output from the core (which may be distorted or in a weird aspect ratio) prese Shift + Win + Print Screen . The screenshots are stored in ./screenshots in a folder named after the core you took the screenshot in. These screenshots do include the effects of any video processing options, they are very simple. To take screenshots of the full video processing (i.e. the image you see on your modern screen when using the MiSTer) you will need to use some kind of capture card that supports the desired resolution. Here is an example of a raw screenshot from the NES core Here is an example of an upscaled screenshot from the Neo Geo core Why use FPGA when other proven solutions exist, such as Raspberry Pi? The following was originally written by Sorgelig, founder of MiSTer FPGA There are debates about how to refer to the process of simulating real hardware using FPGA. Some people insist it's not emulation but rather true hardware replication, while any simulation using a traditional CPU should be referred to as emulation. I have my own opinion here. :) From my point of view, if the FPGA code is based on the circuitry of real hardware (along with the usual tweaks for FPGA compatibility), then it should be called replication . Anything else is emulation , since it uses different kinds of approximation to meet the same objectives. Currently, it's hard to find a core that can truly be called a replica \u2013 most cores are based on more-or-less functional recreations rather than true circuit recreation. The most widely used CPU cores \u2013 the Z80 (T80) and MC68000 (TG68K) \u2013 are pure functional emulations, not replications. So it's okay to call FPGA cores emulators, unless they are proven to be replicas. To go back to the original question, then, why FPGA, if it's also just emulation? Well, FPGA emulation is fundamentally different than emulation on a CPU. Traditional emulators on CPUs execute code sequentially. This is a tricky method of emulation because real hardware has many chips and all of them work in parallel. The CPU, video chip/logic, audio chip, memory arbiter \u2013 all of them are working at the same time. So a traditional emulator has to take care of all these parts and try to emulate the whole orchestra at the same time by quickly \"running\" from one chip to another. This requires a lot of CPU power to emulate even an old and slow retro computer. Sometimes even a modern CPU working at 100 times the speed of the retro computer is not enough, so the emulator has to use approximation, skip emulation of some less important parts, or assume some standard work of the emulated system without extraordinary usage. Let's take a well-known emulator, UAE, emulating an Amiga. On a Raspberry Pi 3, you can run some Amiga CPU benchmarks and get crazy numbers like 100 times the original 68000 processor. So you may assume you have an emulated Amiga that is 100 times faster than real one. No, you don't. If you run different kinds of demos or games, you will see the video stutters sometimes. For example, if you play the well-known \"State of The Art\" demo by Spaceballs, you will notice video stuttering at some points, while a real Amiga 600 with 1x CPU speed plays the whole demo very smoothly. This is how traditional emulators on Raspberry Pi work. FPGA emulation works very differently from traditional emulation on CPU. An FPGA is a large array of simple triggers and other logic \u2013 just like any other chip/CPU. The only difference is that specific chips/CPUs have these triggers and logic permanently connected, while FPGA allows you to connect them however you want. A special HDL (hardware description language) describes how to connect all these triggers/logic cells. Everything in FPGA works in parallel like in the original chips/devices. Thus, FPGA is pretty close to the original hardware. FPGA doesn't need high frequencies to emulate retro computers; it works at much lower frequencies than traditional emulators require. Since everything in FPGA works in parallel, it is no problem to handle any possible usage of the emulated system. Developers using FPGA usually concentrate on the specific part to make it work correctly \u2013 and it will work as it should in any possible scenario. In the same reference demo, \"State Of the Art,\" using FPGA emulation, you can see smooth video through the whole playback, as on the original hardware. You may want to ask, \"So why not make all emulators on FPGA then?\" The answer is: FPGA programming is not so trivial. Every bit in FPGA works in parallel, so the developer needs to think in parallel as well :). What is trivial on CPU is not trivial on FPGA \u2013 although some parts that are trivial on FPGA cost a lot in CPU code.","title":"FAQ"},{"location":"basics/faq/#when-will-mister-support-cartridges","text":"MiSTer will never use physical cartridges. The project aims to replace the need for having original hardware for the same experience. It is also physically impractical/impossible given the number of GPIO pins available from the FPGA.","title":"When will MiSTer support cartridges?"},{"location":"basics/faq/#does-mister-have-lag","text":"It depends on your setup, but it ranges from imperceptibly low to around one frame of lag. Zero latency is possible with certain equipment and tweaks. See here for a more detailed explanation.","title":"Does MiSTer have lag?"},{"location":"basics/faq/#ive-seen-in-the-news-update-framework-what-does-that-mean","text":"The 'framework' is all the common elements between cores that handle things like IO, video scaling, etc.","title":"I've seen in the news, \"Update Framework\".  What does that mean?"},{"location":"basics/faq/#can-i-use-original-console-controllers","text":"Yes, there are many USB adapters for original console controllers. They can also be connected directly via the IO board as detailed below.","title":"Can I use original console controllers?"},{"location":"basics/faq/#what-about-light-guns","text":"Light guns such as the NES Zapper are too timing sensitive to work over USB, but will work fine on supported cores via the IO board as detailed below.","title":"What about light guns?"},{"location":"basics/faq/#any-usb-controller-recommendations","text":"Almost any controller that uses USB will work with MiSTer. You can also use a Bluetooth or 2.4ghz USB adapter for wireless. Good controllers that many users seem to like and have low input latency are: Sony DualSense (PS5 Controller) - Very low lag, fast pairing, and a touchpad that can be used as mouse input (for cores with mouse support, like SNES lightgun use or a mouse as a spinner control). 8BitDo M30 Bluetooth and 8BitDoM30 2.4G - Note these kinds of controllers do not have as many buttons as the Playstation style controllers, and they do not have joysticks, so you may be limited if you solely use them. 8bitDo SN30 Pro 2 - Versatile connectivity and confortable design that is similar to the Playstation DualShock form factor with an SNES aesthetic and button layout. 8bitDo Arcade Stick - Wired and wireless low lag functionality with somewhat low variable lag, DIY customizable pushbuttons and joystick is also supported. iBuffalo SNES Controller - A little overpriced now, but it is one of the lowest lag controllers tested. And many many more. Check MiSTerAddons' input latency tests to help you decide. Also to ensure you get the fastest response make sure to check the USB overclock instructions section out. There are also some excellent usb controller adapters which enable you to use original console controllers: Timville Triple Controller Daemonbite - A spinoff of MickGuyver's Daemonbite adapters that has support for NES, Genesis, and SNES original hardware. You can also make it yourself using instructions found here . There is an option to purchase a 3d printed housing that you can also print yourself using the 3d files from here . MickGuyver's Daemonbite adapters - Very low latency adapters, often low supply and sold out however. Can build them yourself using instructions found here and here . 2600-daptor D9 - Lowest latency \"controller\" in the MiSTerAddons input latency tests .","title":"Any USB controller recommendations?"},{"location":"basics/faq/#can-i-increase-the-polling-rate-of-my-usb-controller-to-improve-input-latency","text":"Yes, you can. See here .","title":"Can I increase the polling rate of my USB controller to improve input latency?"},{"location":"basics/faq/#do-i-need-the-official-usb-hub-add-on-board","text":"No, but you will probably want some sort of inexpensive OTG hub at least (or a regular hub with an adapter). Use a powered hub if you have many devices.","title":"Do I need the official USB Hub Add-On Board?"},{"location":"basics/faq/#do-i-need-to-have-a-usb-keyboard-with-me-to-use-mister","text":"Yes, it's a good idea to always have a USB keyboard available. Cheap wireless keyboards exist that you can use to reduce clutter.","title":"Do I need to have a USB keyboard with me to use MiSTer?"},{"location":"basics/faq/#how-do-i-add-a-second-controller-to-mister","text":"First setup the controller in the main menu after plugging it in with no core loaded. Then you can define it in the various cores' OSD menus. This is only necessary if the controller is a different make/model (or has a different VendorID/ProductID) than any other controllers you have already defined. If you have already setup a Dualshock 4 controller, the second Dualshock 4 controller shouldn't need it's inputs to be defined again. Because of this, shared VendorID's and ProductID's between devices that are different may require reconfiguration when switching between them. There isn't any way around this currently. This includes using 8BitDo and Mayflash controller adapters with multiple controllers, as the adapters contain the ID information which is referenced.","title":"How do I add a second controller to MiSTer?"},{"location":"basics/faq/#does-mister-need-an-io-board","text":"No. The IO board is optional, but offers features that could be important for some users (3.5mm and optical audio, CRT output, tape audio input, etc).","title":"Does MiSTer need an IO board?"},{"location":"basics/faq/#what-are-the-methods-for-connecting-controllers-to-the-serial-port-of-the-io-add-on-board","text":"SNAC (Serial Native Accessory Converter) is used for direct wiring. Supporting cores (SNES, Genesis, NES, and TG16) allow you to directly connect original controllers. See this page for details on SNAC.","title":"What are the methods for connecting controllers to the serial port of the IO add-on board?"},{"location":"basics/faq/#do-i-need-an-io-board-to-get-analog-video-output-to-my-crt","text":"No. You can use an HDMI to VGA adapter to do it instead. See Direct Video .","title":"Do I need an IO board to get analog video output to my CRT?"},{"location":"basics/faq/#is-mister-hard-to-set-up-is-it-really-only-for-technical-people-who-like-to-tinker","text":"No and no, but those who enjoy tinkering can get a lot extra out of their MiSTer if they wish. The minimum setup only requires attaching a memory board to a DE-10 Nano and making an SD card. See the Setup Guide for more information.","title":"Is MiSTer hard to set up? Is it really only for technical people who like to tinker?"},{"location":"basics/faq/#which-cores-require-sdram","text":"You can find the updated list at the Console Cores and Computer Cores sections. Many Arcade cores use SDRAM as well.","title":"Which cores require SDRAM?"},{"location":"basics/faq/#why-does-the-nes-core-require-an-sdram-add-on-board-when-the-genesis-core-does-not","text":"The Genesis has graphics RAM and stores data that is copied from the cartridge ROM. The NES does not do this, and typically accesses the ROM directly for the data which requires much tighter timings. Using the SDRAM board on the NES core allows meeting these timing requirements.","title":"Why does the NES core require an SDRAM add-on board when the Genesis core does not?"},{"location":"basics/faq/#does-my-mister-need-cooling","text":"Yes, you will want at least a heatsink (passive cooling). 22mm x 22mm is the ideal size. 20mm x 20mm is more than enough however and is more common. Active cooling with a fan helps but is not strictly required. Some faster cores like ao486 or PSX may generate a lot of heat.","title":"Does my MiSTer need cooling?"},{"location":"basics/faq/#what-power-supply-is-compatible-with-mister","text":"The DE10-Nano board needs a 5V power supply with at least 2A. The connector is a coaxial \"barrel\" plug of 5.5 mm outer diameter and 2.1 mm inner diameter, center positive. If you are using a USB Hub addon board and have a lot of power hungry peripherals attached to it (wifi, bluetooth, multiple controllers, a mechanical hard drive), it might be a good idea to upgrade to a similar 5v power supply, but with more amps (4A-5A). Typically this is only needed if you have a mechanical hard drive, are heavily using the charging port, or have an MT32-Pi powered by the serial IO user port as these draw a good amount of amps.","title":"What power supply is compatible with MiSTer?"},{"location":"basics/faq/#my-mister-needs-a-case-what-should-i-do","text":"There are two routes you can take; either make it yourself or purchase a case from an online vendor. For DiY, you can find the necessary 3D print files online (e.g. thingiverse ).","title":"My MiSTer needs a case. What should I do?"},{"location":"basics/faq/#what-kind-of-screws-do-i-use-with-the-de-10-nanos-14mm-long-brass-standoffs","text":"M3 screws, 8mm is a good length.","title":"What kind of screws do I use with the DE-10 Nano's 14mm long brass standoffs?"},{"location":"basics/faq/#how-do-i-set-up-mister-for-1080p-shimmer-free-gameplay","text":"Run the updater script and use one of the video presets + filters that come with it in the Video Processing menu on the secondary OSD. See Video Configuration for more specific information.","title":"How do I set up MiSTer for 1080p, shimmer free gameplay?"},{"location":"basics/faq/#how-do-i-get-the-scanlines-filters-on-my-mister-to-look-good","text":"You will need to set the device to integer scaling for best results. Either set vscale_mode=1 in mister.ini or use the vscale integer settings within the core itself (as well as 5x) if they are supported. Not all cores support the OSD options to do integer scaling. \"Integer scaling\" is when your source resolution (240p) is divided into your target resolution (1080p) using only whole numbers (e.g. 1, 2, 3, 4...). This means if you use integer scaling with the MiSTer set to a 1080p resolution in the MiSTer.ini, and the core you are using natively outputs 240p, then the image will be scaled 4x which 4 times 240 equals 960. This leaves a black border for the remaining 80 pixels distributed across the top and bottom the screen. You can play with other settings if you want the scaler to fill the screen, but scanlines won't be \"perfect\" unless the source resolution (e.g. 240p) divides evenly into the target resolution (e.g. 1200p at 5x scaling).","title":"How do I get the scanlines filters on my MiSTer to look good?"},{"location":"basics/faq/#i-have-a-4k-or-other-higher-than-1080p-display-does-mister-support-that-resolution-id-like-to-enjoy-better-video-scaling","text":"MiSTer can't quite reach 4k. Edit mister.ini on your SD card to change resolutions, e.g. video_mode=12 for 1440p or video_mode=13 for 1536p (hardware maximum). Compatibility with these higher resolutions may depend upon your display and signal chain.","title":"I have a 4k or other higher than 1080p display, does MiSTer support that resolution?  I'd like to enjoy better video scaling."},{"location":"basics/faq/#how-does-the-accuracy-level-of-various-mister-cores-compare-to-other-fpga-options","text":"Most MiSTer cores are just as, if not more accurate, as any of the other major FPGA offerings available today. Most people would not able to tell the difference between these cores and the original hardware.","title":"How does the accuracy level of various MiSTer cores compare to other FPGA options?"},{"location":"basics/faq/#will-any-mister-core-ever-get-save-states","text":"The Gameboy, GBA, Lynx, Wonderswan, NES, and PSX cores all support savestates. Cores need to be written from scratch to support them (as was done with the GBA and Lynx cores) or they need to be reworked significantly to support pause before save states can be added (as was done with the Gameboy and NES cores). At this time there are no specific plans to apply this to other cores, but it may happen one day. It is not as easy to add savestate functionality to an FPGA-based emulator than it is to add it to a software-based emulator.","title":"Will any MiSTer core ever get save states?"},{"location":"basics/faq/#why-doesnt-this-core-from-another-repo-work-why-is-mister-so-hard-to-use","text":"MiSTer repositories are self contained and the official updater script only fetches cores from the active official MiSTer repositories. Cores from other repos are not fully integrated so your results may vary. Some developers have their own discord servers or forums and you can seek support there.","title":"Why doesn\u2019t this core from another repo work? Why is MiSTer so hard to use?"},{"location":"basics/faq/#when-is-an-n64-core-coming","text":"Probably never. There isn\u2019t really sufficient bandwidth.","title":"When is an N64 core coming?"},{"location":"basics/faq/#when-is-playstation-core-coming","text":"It's almost here. It is currently in an open beta stage and nearing completion rapidly. To assist in testing please join the MiSTer FPGA discord server and read the pins in the #psx-core-testing channel before submitting a bug report.","title":"When is PlayStation core coming?"},{"location":"basics/faq/#other-cores-work-but-i-get-a-black-screen-for-this-one-what-do-i-do","text":"Try setting vsync to 0 as your display may not support all refresh rates. (Note that this was the default setting.)","title":"Other cores work but I get a black screen for this one. What do I do?"},{"location":"basics/faq/#my-cd-games-dont-work-help","text":"Unzip them. Do not zip CD games. Also put them in iso/wav/bin/img + cue format.","title":"My CD games don\u2019t work! Help!"},{"location":"basics/faq/#what-version-of-the-cd-card-bios-do-i-need-for-tg16-cd","text":"Use Japanese version 3.0. You will commonly find it with filename: Super CD-ROM System (Japan) (v3.0).pce","title":"What version of the CD card bios do I need for TG16 CD?"},{"location":"basics/faq/#how-do-i-make-mister-boot-into-the-nes-core-and-a-specific-game","text":"You need to use two different options: autobooting a core, and starting the core on a given ROM. Here is how: In the .INI file, set bootcore=NES_20201102.rbf (or the specific core version you have), and comment out ;bootcore_timeout . Then on your NES games folder (e.g. /media/fat/games/NES/ , copy the FDS bios as boot0.rom , and your .NES rom to boot as boot1.rom . For more options, please refer to the NES core documentation","title":"How do I make MiSTer boot into the NES core and a specific game?"},{"location":"basics/faq/#i-heard-the-de10-nano-board-uses-subsidized-components-is-mister-doomed-if-that-stops","text":"De10-Nano is manufactured in very large scale for use by students and is widely available. When it reaches end of life, the open source cores and infrastructure will be ported to another widely available board.","title":"I heard the DE10-Nano board uses subsidized components. Is MiSTer doomed if that stops?"},{"location":"basics/faq/#i-see-a-defect-that-some-other-people-arent-seeing-should-i-get-a-different-de-10-nano","text":"No, you should report the defect and wait for a fix. There is no magical best DE-10 Nano.","title":"I see a defect that some other people aren\u2019t seeing. Should I get a different DE-10 Nano?"},{"location":"basics/faq/#i-found-some-other-cyclone-based-dev-board-on-sale-and-it-has-built-in-wifi-can-i-use-it-for-mister","text":"Generally, no. While it\u2019s always possible that someone will take time to port things to other boards, the different pins and memory will mean it won\u2019t be a straight use and unless it\u2019s a significant upgrade, it would never gain official support.","title":"I found some other Cyclone based dev board on sale and it has built in WiFi. Can I use it for MiSTer?"},{"location":"basics/faq/#the-de-10-is-rated-for-up-to-100c-operation-and-it-doesnt-get-nearly-that-hot-do-i-really-need-a-fan-or-heatsink","text":"A number of complex cores (like ao486) benefit from having the chip at cooler temperatures, since heat can affect the tight timings they require. A fan is recommended to avoid any possible glitches, but you won't damage your DE10-Nano if you choose not to use one.","title":"The DE-10 is rated for up to 100\u00b0C operation and it doesn\u2019t get nearly that hot.  Do I really need a fan or heatsink?"},{"location":"basics/faq/#can-you-take-screenshots-on-the-mister","text":"You can take screenshots on the MiSTer very easily. All you have to do is press Win + Print Screen on your keyboard and you will get an upscaled screenshot. For raw output from the core (which may be distorted or in a weird aspect ratio) prese Shift + Win + Print Screen . The screenshots are stored in ./screenshots in a folder named after the core you took the screenshot in. These screenshots do include the effects of any video processing options, they are very simple. To take screenshots of the full video processing (i.e. the image you see on your modern screen when using the MiSTer) you will need to use some kind of capture card that supports the desired resolution. Here is an example of a raw screenshot from the NES core Here is an example of an upscaled screenshot from the Neo Geo core","title":"Can you take screenshots on the MiSTer?"},{"location":"basics/faq/#why-use-fpga-when-other-proven-solutions-exist-such-as-raspberry-pi","text":"The following was originally written by Sorgelig, founder of MiSTer FPGA There are debates about how to refer to the process of simulating real hardware using FPGA. Some people insist it's not emulation but rather true hardware replication, while any simulation using a traditional CPU should be referred to as emulation. I have my own opinion here. :) From my point of view, if the FPGA code is based on the circuitry of real hardware (along with the usual tweaks for FPGA compatibility), then it should be called replication . Anything else is emulation , since it uses different kinds of approximation to meet the same objectives. Currently, it's hard to find a core that can truly be called a replica \u2013 most cores are based on more-or-less functional recreations rather than true circuit recreation. The most widely used CPU cores \u2013 the Z80 (T80) and MC68000 (TG68K) \u2013 are pure functional emulations, not replications. So it's okay to call FPGA cores emulators, unless they are proven to be replicas. To go back to the original question, then, why FPGA, if it's also just emulation? Well, FPGA emulation is fundamentally different than emulation on a CPU. Traditional emulators on CPUs execute code sequentially. This is a tricky method of emulation because real hardware has many chips and all of them work in parallel. The CPU, video chip/logic, audio chip, memory arbiter \u2013 all of them are working at the same time. So a traditional emulator has to take care of all these parts and try to emulate the whole orchestra at the same time by quickly \"running\" from one chip to another. This requires a lot of CPU power to emulate even an old and slow retro computer. Sometimes even a modern CPU working at 100 times the speed of the retro computer is not enough, so the emulator has to use approximation, skip emulation of some less important parts, or assume some standard work of the emulated system without extraordinary usage. Let's take a well-known emulator, UAE, emulating an Amiga. On a Raspberry Pi 3, you can run some Amiga CPU benchmarks and get crazy numbers like 100 times the original 68000 processor. So you may assume you have an emulated Amiga that is 100 times faster than real one. No, you don't. If you run different kinds of demos or games, you will see the video stutters sometimes. For example, if you play the well-known \"State of The Art\" demo by Spaceballs, you will notice video stuttering at some points, while a real Amiga 600 with 1x CPU speed plays the whole demo very smoothly. This is how traditional emulators on Raspberry Pi work. FPGA emulation works very differently from traditional emulation on CPU. An FPGA is a large array of simple triggers and other logic \u2013 just like any other chip/CPU. The only difference is that specific chips/CPUs have these triggers and logic permanently connected, while FPGA allows you to connect them however you want. A special HDL (hardware description language) describes how to connect all these triggers/logic cells. Everything in FPGA works in parallel like in the original chips/devices. Thus, FPGA is pretty close to the original hardware. FPGA doesn't need high frequencies to emulate retro computers; it works at much lower frequencies than traditional emulators require. Since everything in FPGA works in parallel, it is no problem to handle any possible usage of the emulated system. Developers using FPGA usually concentrate on the specific part to make it work correctly \u2013 and it will work as it should in any possible scenario. In the same reference demo, \"State Of the Art,\" using FPGA emulation, you can see smooth video through the whole playback, as on the original hardware. You may want to ask, \"So why not make all emulators on FPGA then?\" The answer is: FPGA programming is not so trivial. Every bit in FPGA works in parallel, so the developer needs to think in parallel as well :). What is trivial on CPU is not trivial on FPGA \u2013 although some parts that are trivial on FPGA cost a lot in CPU code.","title":"Why use FPGA when other proven solutions exist, such as Raspberry Pi?"},{"location":"basics/hotkey/","text":"Here's a reference of the hotkeys you can use with the MiSTer. Hotkeys are useful at saving time and there are some hotkeys which do things you can only do with a keyboard or gamepad. Some of these hotkeys only work in the Main Menu core, others will work inside emulators as part of the gameplay, and some will work in all instances. In any core, with OSD closed Hotkey Description F12 Open the Menu/On-Screen Display Alt + F12 Open core select menu Win + Print Screen Take a screenshot (upscaled) Shift + Win + Print Screen Take a screenshot (raw output) Left Ctrl + Left Alt + Right Alt Press \"User\" button, usually resets current core, same function as IO board button Left Shift + Left Ctrl + Left Alt + Right Alt Full Reboot/Reset, same as IO add-on board Reset button Controller: Button + Menu hotkey Turn on/off turbo/autofire for the pressed button Controller: Direction + Menu hotkey Set rate of turbo/autofire in milliseconds (ms) With the OSD open, in any core Hotkey Description F12 Close OSD F11 Pair Bluetooth controller Hold IO Board OSD Button Alternate method to Pair Bluetooth controller Left Go to information screen (shows currently selected INI file and volume) Right System screen (change core, set filters, gamma, etc...) Controller: Back + R/L/D/U Select Alternate INI file if defined (Default/Alt1/Alt2/Alt3) Controller: Select Expands submenus in the OSD when highlighted In the Main Menu core only Hotkey Description F1 Switch background type (static, wallpaper, color bars, black) F2 Hide / Show core dates F9 Open Linux terminal / command line interface, use F12 to go back to menu Controller: x / y Test the rumble motors on your controller Core-specific hotkeys Some computer cores Some computer cores make use of the Windows key ( Win ) on your keyboard. Hotkey Description Win + F12 Open the OSD Cores that support savestates Very few cores support savestates (NES, PSX, GameBoy, GBA, WonderSwan, AtariLynx). There are 4 savestate slots available. In those cores there is a standard savestate button you can assign on your controller (we'll call that SaveStateBtn here): Hotkey Description Alt + F1 - F4 Save the state in slots 1-4 respectively F1 - F4 Restore the state from slots 1-4 respectively Controller: SaveStateBtn + Left/Right Switches the savestate slot Controller: SaveStateBtn + Start + Down Saves to the selected slot Controller: SaveStateBtn + Start + Up Restores from the selected slot","title":"Hotkeys"},{"location":"basics/hotkey/#in-any-core-with-osd-closed","text":"Hotkey Description F12 Open the Menu/On-Screen Display Alt + F12 Open core select menu Win + Print Screen Take a screenshot (upscaled) Shift + Win + Print Screen Take a screenshot (raw output) Left Ctrl + Left Alt + Right Alt Press \"User\" button, usually resets current core, same function as IO board button Left Shift + Left Ctrl + Left Alt + Right Alt Full Reboot/Reset, same as IO add-on board Reset button Controller: Button + Menu hotkey Turn on/off turbo/autofire for the pressed button Controller: Direction + Menu hotkey Set rate of turbo/autofire in milliseconds (ms)","title":"In any core, with OSD closed"},{"location":"basics/hotkey/#with-the-osd-open-in-any-core","text":"Hotkey Description F12 Close OSD F11 Pair Bluetooth controller Hold IO Board OSD Button Alternate method to Pair Bluetooth controller Left Go to information screen (shows currently selected INI file and volume) Right System screen (change core, set filters, gamma, etc...) Controller: Back + R/L/D/U Select Alternate INI file if defined (Default/Alt1/Alt2/Alt3) Controller: Select Expands submenus in the OSD when highlighted","title":"With the OSD open, in any core"},{"location":"basics/hotkey/#in-the-main-menu-core-only","text":"Hotkey Description F1 Switch background type (static, wallpaper, color bars, black) F2 Hide / Show core dates F9 Open Linux terminal / command line interface, use F12 to go back to menu Controller: x / y Test the rumble motors on your controller","title":"In the Main Menu core only"},{"location":"basics/hotkey/#core-specific-hotkeys","text":"","title":"Core-specific hotkeys"},{"location":"basics/hotkey/#some-computer-cores","text":"Some computer cores make use of the Windows key ( Win ) on your keyboard. Hotkey Description Win + F12 Open the OSD","title":"Some computer cores"},{"location":"basics/hotkey/#cores-that-support-savestates","text":"Very few cores support savestates (NES, PSX, GameBoy, GBA, WonderSwan, AtariLynx). There are 4 savestate slots available. In those cores there is a standard savestate button you can assign on your controller (we'll call that SaveStateBtn here): Hotkey Description Alt + F1 - F4 Save the state in slots 1-4 respectively F1 - F4 Restore the state from slots 1-4 respectively Controller: SaveStateBtn + Left/Right Switches the savestate slot Controller: SaveStateBtn + Start + Down Saves to the selected slot Controller: SaveStateBtn + Start + Up Restores from the selected slot","title":"Cores that support savestates"},{"location":"basics/input/","text":"MiSTer has support for a wide variety of input devices. It also has options to configure these devices to fit your needs in addition to several quality of life features across most, sometimes all, cores. Here is a breakdown of some special configurations for various input devices like spinners, gamepads, joysticks, and keyboards. MiSTer has a set of standard features for USB gaming controllers: * Up to 6 player support * Auto Fire * Mouse emulation from your joystick Joystick player assignment Up to 6 player controllers are supported (depending on core): After a core starts, press a button on any connected controller to make it the Player 1 gamepad/joystick Press a button on a second controller to make it the Player 2 joystick (if supported by the core) Keep going for assigning Player 3, Player 4, etc... If you assigned the players in the wrong order, it's easy to start over, just go to the On-Screen Display's secondary menu (press Right after going into the OSD) and select \"Reset player assignment\" to start all over again. If you reset the core, it also resets the player assignments. Please note; if a controller doesn't seem to work, it's possible you will need to reboot the MiSTer into the Menu core, and define the inputs for that controller if it hasn't been done already. Also, if the controller attached has the same Product ID and Vendor ID as seen by the linux system, you may not be able to use two of them at the same time. It depends upon how the controller is made to work. Auto Fire Any defined button (except the d-pad) supports the auto fire feature. To activate auto fire, press and hold the desired button and then quickly press and release the button defined as BUTTON OSD (for joystick) or KBD TOGGLE (for keyboard). To deactivate auto fire, repeat the the same procedure for that same button you set before. Auto fire rates can be modified by increments of 32ms all the way up to 1024ms (repeating the button once every second). To change the speed, press and hold a direction on the d-pad and then quickly press the button defined as BUTTON OSD (for joystick) or KBD TOGGLE (for keyboard). Up or right increases the delay of the auto fire while down and left decrease the delay. Some games will not function properly if the auto fire rate is too fast, so this is a useful feature to keep in mind if you run into problems. Mouse emulation Your joystick can emulate mouse if the required button \"Mouse Emu\" has been defined when you defined your inputs in the Menu core. Hold the Mouse Emu button and Alt + M , Mouse Left/Right/Middle Btn will emulate the mouse functions. When Mouse emulation is activated, the left analog stick (if defined earlier) will be switched to pointer functions for the mouse. Press BUTTON OSD while holding Mouse Emu to toggle mouse emulation permanently. In permanent mouse emulation the Mouse Emu button becomes a sniper button with smaller pointer movements. Only the buttons defined for mouse emulation will be switched. Other joystick buttons will continue to act as regular joystick buttons. Thus, if your game pad has many buttons, you can have both mouse and joystick in one game pad at the same time (useful for some games, like Walker on Amiga). What devices are supported? Generally speaking, any normal USB HID compatible input device should work. Keyboards, arcade spinners, usb adapters for original controllers such as the Raphnet and Daemonbite retro adapters, and even modern console controllers like the DualSense PS5 controller. There is even the Serial Native Accessory Connector, if you have one of the Analog or Digital IO add-on boards, which on supported cores allows you to use original hardware controllers, such as lightguns, which would normally only work with the original system and require zero lag to function. Serial Native Accessory Convertor (SNAC) SNAC adaptors allow you to connect original hardware controllers and peripherals to the MiSTer cores. The cores which support SNAC connections have been specially built to have serial connections exposed to specific pins on the DE10-Nano. That means when you pull the trigger on the NES Zapper while aiming at your CRT, the signals travel almost instantly, similar to how they would on original hardware. Using A Mouse You can also use a mouse for various purposes on the MiSTer. The main purpose for mouse support is for use with some computer cores which had mice. One of the cool things you can do is use the mouse as an emulated lightgun. The same principles behind doing this applies to a wiimote with a powered sensor bar. You can do this by pairing your wiimote to the MiSTer and it will be used as a Mouse when paired. You can also use a mouse for a paddle style controller if you'd like. Are gaming keyboards worth it? High performance and expensive keyboards and mice aren't advantageous to use for MiSTer. They won't give any major or even minor significant benefits. Additionally, these devices often have too many functions and many virtual devices cluttering the input subsystem which may introduce input lag or be complete unresponsive. They may also prevent other devices, such as gamepads, from working. So if you experience problems with your gaming keyboard, try a simpler keyboard instead to see if that resolves the issue. General advice is not to go out and buy a specialty gaming keyboard for MiSTer specifically, it may end up being a waste of money. What about rumble support? Rumble / controller vibration has recently been added to the Game Boy core, the Game Boy Advance core, and, of course, the Playstation core. With regards to the Playstation core you will need to make sure your controller's rumble is upported. You can test rumble support on your controller at the menu core by holding the \"L\" button and pressing the \"X\" or \"Y\" face buttons (assuming an SNES-style layout) to test each of the two motors. Controllers have to be in X-Input mode in order to work with rumble reliably. What about PS3/PS4/PS5, XBoxOne/360, Switch, and 8bitdo receivers/gamepads? The ideal solution today for these types gamepads is to use 3rd-party receivers, such as 8bitdo retro receivers, specifically the 8Bitdo Wireless Bluetooth Adapter, or any number of name-brand Bluetooth 4.x/5.0 receivers. The 8bitdo receiver easily supports Xbox One S/X, PS3, PS4, Wii, Switch, and 8Bitdo's own gamepads and it can pair easily without using the bluetooth setup menu. One 8bitdo bluetooth receiver will pair with one controller at one time. If multiple controllers are required for multiplayer games, then multiple receivers will need to be purchased if you are using the 8bitdo receiver, however a regular Bluetooth usb receiver does not suffer from this limitation. The 8bitdo receivers have been reported as having some lag introduced, limited range, and bad line of sight, when compared to Bluetooth 5.0 adapters (like the TP-Link and Asus ones). The main appeal of the 8bitdo receivers is the ease of use and quick pairing. The 8bitdo receivers act as a controller themselves and are a compatibility layer between your paired controller and whatever they are attached to via USB, for easy compatibility. Bluetooth adapters by comparison pair your controller itself directly as a device to the MiSTer. No matter what controller you connect, the 8bitdo receiver will see it as the same controller, the 8bitdo receiver's controller. This means that some features like the DualSense (PS5) controller's added mute button and touchpad will not be available, whereas using bluetooth 5.0 may run a very minor risk of limited compatibility (until device support is added into the framework and linux by the development team), but will come with every feature. The Grey/Orange (brick decorated) USB Adapters are functionally the same, after using the latest firmware. Gamepads may switch to different input modes using hotkeys for different functionality (depends upon the model of controller, some have a switch on the back like the 8bitdo SN30 Pro 2). Note that documentation on 8Bitdo's site doesn't specify this, but the update logs for the firmware updates does. X-Input mode: Hold SELECT+UP for 3 seconds. PSC (Playstation Classic) mode: Hold SELECT+DOWN for 3 seconds. This is useful for gamepads which are limited in buttons (12 total; DPAD counts as 4) and need to access the MiSTer OSD menu. Note that the OSD menu should not be assigned when configuring buttons in the main MiSTer menu core, as the L+R+START combination will bring up the OSD while in the cores. The combination is hard-coded in MiSTer specifically for 8Bitdo adapters. You may also lose auto-fire/mouse functionality in this mode. Alternative 8Bitdo adapters, such as the 8Bitdo Console Retro Receiver (SNES, NES, Genesis) are always in X-Input mode when connected via microUSB. JammaSD support MiSTer supports the use of a JammaSD by detecting if the pressed buttons are from player 1 or 2. You first have to configure player 1 in main menu (as a joypad) (and also remap it in cores if needed). Player 2 inputs will be auto defined, like if it was a second identical joypad. JammaSD support was added with a VID/PID that should be the same across all devices, but if your device has a different VID/PID, you can adjust it in the MiSTer.ini file.","title":"Controllers"},{"location":"basics/input/#joystick-player-assignment","text":"Up to 6 player controllers are supported (depending on core): After a core starts, press a button on any connected controller to make it the Player 1 gamepad/joystick Press a button on a second controller to make it the Player 2 joystick (if supported by the core) Keep going for assigning Player 3, Player 4, etc... If you assigned the players in the wrong order, it's easy to start over, just go to the On-Screen Display's secondary menu (press Right after going into the OSD) and select \"Reset player assignment\" to start all over again. If you reset the core, it also resets the player assignments. Please note; if a controller doesn't seem to work, it's possible you will need to reboot the MiSTer into the Menu core, and define the inputs for that controller if it hasn't been done already. Also, if the controller attached has the same Product ID and Vendor ID as seen by the linux system, you may not be able to use two of them at the same time. It depends upon how the controller is made to work.","title":"Joystick player assignment"},{"location":"basics/input/#auto-fire","text":"Any defined button (except the d-pad) supports the auto fire feature. To activate auto fire, press and hold the desired button and then quickly press and release the button defined as BUTTON OSD (for joystick) or KBD TOGGLE (for keyboard). To deactivate auto fire, repeat the the same procedure for that same button you set before. Auto fire rates can be modified by increments of 32ms all the way up to 1024ms (repeating the button once every second). To change the speed, press and hold a direction on the d-pad and then quickly press the button defined as BUTTON OSD (for joystick) or KBD TOGGLE (for keyboard). Up or right increases the delay of the auto fire while down and left decrease the delay. Some games will not function properly if the auto fire rate is too fast, so this is a useful feature to keep in mind if you run into problems.","title":"Auto Fire"},{"location":"basics/input/#mouse-emulation","text":"Your joystick can emulate mouse if the required button \"Mouse Emu\" has been defined when you defined your inputs in the Menu core. Hold the Mouse Emu button and Alt + M , Mouse Left/Right/Middle Btn will emulate the mouse functions. When Mouse emulation is activated, the left analog stick (if defined earlier) will be switched to pointer functions for the mouse. Press BUTTON OSD while holding Mouse Emu to toggle mouse emulation permanently. In permanent mouse emulation the Mouse Emu button becomes a sniper button with smaller pointer movements. Only the buttons defined for mouse emulation will be switched. Other joystick buttons will continue to act as regular joystick buttons. Thus, if your game pad has many buttons, you can have both mouse and joystick in one game pad at the same time (useful for some games, like Walker on Amiga).","title":"Mouse emulation"},{"location":"basics/input/#what-devices-are-supported","text":"Generally speaking, any normal USB HID compatible input device should work. Keyboards, arcade spinners, usb adapters for original controllers such as the Raphnet and Daemonbite retro adapters, and even modern console controllers like the DualSense PS5 controller. There is even the Serial Native Accessory Connector, if you have one of the Analog or Digital IO add-on boards, which on supported cores allows you to use original hardware controllers, such as lightguns, which would normally only work with the original system and require zero lag to function.","title":"What devices are supported?"},{"location":"basics/input/#serial-native-accessory-convertor-snac","text":"SNAC adaptors allow you to connect original hardware controllers and peripherals to the MiSTer cores. The cores which support SNAC connections have been specially built to have serial connections exposed to specific pins on the DE10-Nano. That means when you pull the trigger on the NES Zapper while aiming at your CRT, the signals travel almost instantly, similar to how they would on original hardware.","title":"Serial Native Accessory Convertor (SNAC)"},{"location":"basics/input/#using-a-mouse","text":"You can also use a mouse for various purposes on the MiSTer. The main purpose for mouse support is for use with some computer cores which had mice. One of the cool things you can do is use the mouse as an emulated lightgun. The same principles behind doing this applies to a wiimote with a powered sensor bar. You can do this by pairing your wiimote to the MiSTer and it will be used as a Mouse when paired. You can also use a mouse for a paddle style controller if you'd like.","title":"Using A Mouse"},{"location":"basics/input/#are-gaming-keyboards-worth-it","text":"High performance and expensive keyboards and mice aren't advantageous to use for MiSTer. They won't give any major or even minor significant benefits. Additionally, these devices often have too many functions and many virtual devices cluttering the input subsystem which may introduce input lag or be complete unresponsive. They may also prevent other devices, such as gamepads, from working. So if you experience problems with your gaming keyboard, try a simpler keyboard instead to see if that resolves the issue. General advice is not to go out and buy a specialty gaming keyboard for MiSTer specifically, it may end up being a waste of money.","title":"Are gaming keyboards worth it?"},{"location":"basics/input/#what-about-rumble-support","text":"Rumble / controller vibration has recently been added to the Game Boy core, the Game Boy Advance core, and, of course, the Playstation core. With regards to the Playstation core you will need to make sure your controller's rumble is upported. You can test rumble support on your controller at the menu core by holding the \"L\" button and pressing the \"X\" or \"Y\" face buttons (assuming an SNES-style layout) to test each of the two motors. Controllers have to be in X-Input mode in order to work with rumble reliably.","title":"What about rumble support?"},{"location":"basics/input/#what-about-ps3ps4ps5-xboxone360-switch-and-8bitdo-receiversgamepads","text":"The ideal solution today for these types gamepads is to use 3rd-party receivers, such as 8bitdo retro receivers, specifically the 8Bitdo Wireless Bluetooth Adapter, or any number of name-brand Bluetooth 4.x/5.0 receivers. The 8bitdo receiver easily supports Xbox One S/X, PS3, PS4, Wii, Switch, and 8Bitdo's own gamepads and it can pair easily without using the bluetooth setup menu. One 8bitdo bluetooth receiver will pair with one controller at one time. If multiple controllers are required for multiplayer games, then multiple receivers will need to be purchased if you are using the 8bitdo receiver, however a regular Bluetooth usb receiver does not suffer from this limitation. The 8bitdo receivers have been reported as having some lag introduced, limited range, and bad line of sight, when compared to Bluetooth 5.0 adapters (like the TP-Link and Asus ones). The main appeal of the 8bitdo receivers is the ease of use and quick pairing. The 8bitdo receivers act as a controller themselves and are a compatibility layer between your paired controller and whatever they are attached to via USB, for easy compatibility. Bluetooth adapters by comparison pair your controller itself directly as a device to the MiSTer. No matter what controller you connect, the 8bitdo receiver will see it as the same controller, the 8bitdo receiver's controller. This means that some features like the DualSense (PS5) controller's added mute button and touchpad will not be available, whereas using bluetooth 5.0 may run a very minor risk of limited compatibility (until device support is added into the framework and linux by the development team), but will come with every feature. The Grey/Orange (brick decorated) USB Adapters are functionally the same, after using the latest firmware. Gamepads may switch to different input modes using hotkeys for different functionality (depends upon the model of controller, some have a switch on the back like the 8bitdo SN30 Pro 2). Note that documentation on 8Bitdo's site doesn't specify this, but the update logs for the firmware updates does. X-Input mode: Hold SELECT+UP for 3 seconds. PSC (Playstation Classic) mode: Hold SELECT+DOWN for 3 seconds. This is useful for gamepads which are limited in buttons (12 total; DPAD counts as 4) and need to access the MiSTer OSD menu. Note that the OSD menu should not be assigned when configuring buttons in the main MiSTer menu core, as the L+R+START combination will bring up the OSD while in the cores. The combination is hard-coded in MiSTer specifically for 8Bitdo adapters. You may also lose auto-fire/mouse functionality in this mode. Alternative 8Bitdo adapters, such as the 8Bitdo Console Retro Receiver (SNES, NES, Genesis) are always in X-Input mode when connected via microUSB.","title":"What about PS3/PS4/PS5, XBoxOne/360, Switch, and 8bitdo receivers/gamepads?"},{"location":"basics/input/#jammasd-support","text":"MiSTer supports the use of a JammaSD by detecting if the pressed buttons are from player 1 or 2. You first have to configure player 1 in main menu (as a joypad) (and also remap it in cores if needed). Player 2 inputs will be auto defined, like if it was a second identical joypad. JammaSD support was added with a VID/PID that should be the same across all devices, but if your device has a different VID/PID, you can adjust it in the MiSTer.ini file.","title":"JammaSD support"},{"location":"basics/keyboard/","text":"MiSTer supports keyboard re-mapping which is useful for reduced size or localized keyboards. Key remapping is system wide, so every core will have same key mapping. Keep in mind there is no macro key functionality, so single keys are remapped to another single key. Some multimedia keys generate several key codes - these keys cannot be remapped. Each keyboard model has its own key map stored in /media/fat/config/kbd_[VID]_[PID].map file. To reset all keys to their default state, simply delete the appropriate map file which has the matching VenderID and ProductID in the filename. Key remapping is available through the Menu core only. Joystick emulation Keyboards can be switched to joystick emulation. You need to define keys used for joystick emulation the same way you did for joysticks. Auto fire is also supported the same way as they are for joysticks (Menu+button). The button defined for \"KBD TOGGLE\" provides a quick switch between keyboard and joystick use for defined keys. Mouse emulation Keyboards can be switched to mouse emulation. You need to define mouse emulation buttons in the Menu core the same way as for joystick, in the Define Gamepad menu option. Emulation switch To switch between emulation modes press Num Lock or Scroll Lock until the desired mode is selected. The switching sequence is Mouse >> Joy1 >> Joy2 >> None The LEDs on your keyboard will display the emulation modes: * Mouse emulation: NumLock LED + ScrLock LED * Joystick 1 emulation: NumLock LED. * Joystick 2 emulation: ScrLock LED. Common functional keys/combos used in cores F12 - open/close OSD menu/submenu Alt + F12 - quick core selection (like in Menu core). Left Ctrl + Left Alt + Right Alt - presses the \"USER\" button which usually is reset in emulated system. Left Shift + Left Ctrl + Left Alt + Right Alt - MiSTer reset (load Menu core). Notes: Some systems provide writing support which requires additional attention to how you reset/shutdown the MiSTer. MiSTer tries not to keep any pending writes and writes physically to the disk as soon as possible. Still, safer way to reset the MiSTer from core which probably was writing to disk recently is using combo Left Shift + Left Ctrl + Left Alt + Right Alt - this will flush all caches to disk before restart. Cores without write can be restarted by hard reset button or powered down without special attention. Left Ctrl + Left Alt + Right Alt sequence can be replaced by some other well known combos through INI file.","title":"Keyboards"},{"location":"basics/keyboard/#joystick-emulation","text":"Keyboards can be switched to joystick emulation. You need to define keys used for joystick emulation the same way you did for joysticks. Auto fire is also supported the same way as they are for joysticks (Menu+button). The button defined for \"KBD TOGGLE\" provides a quick switch between keyboard and joystick use for defined keys.","title":"Joystick emulation"},{"location":"basics/keyboard/#mouse-emulation","text":"Keyboards can be switched to mouse emulation. You need to define mouse emulation buttons in the Menu core the same way as for joystick, in the Define Gamepad menu option.","title":"Mouse emulation"},{"location":"basics/keyboard/#emulation-switch","text":"To switch between emulation modes press Num Lock or Scroll Lock until the desired mode is selected. The switching sequence is Mouse >> Joy1 >> Joy2 >> None The LEDs on your keyboard will display the emulation modes: * Mouse emulation: NumLock LED + ScrLock LED * Joystick 1 emulation: NumLock LED. * Joystick 2 emulation: ScrLock LED.","title":"Emulation switch"},{"location":"basics/keyboard/#common-functional-keyscombos-used-in-cores","text":"F12 - open/close OSD menu/submenu Alt + F12 - quick core selection (like in Menu core). Left Ctrl + Left Alt + Right Alt - presses the \"USER\" button which usually is reset in emulated system. Left Shift + Left Ctrl + Left Alt + Right Alt - MiSTer reset (load Menu core).","title":"Common functional keys/combos used in cores"},{"location":"basics/keyboard/#notes","text":"Some systems provide writing support which requires additional attention to how you reset/shutdown the MiSTer. MiSTer tries not to keep any pending writes and writes physically to the disk as soon as possible. Still, safer way to reset the MiSTer from core which probably was writing to disk recently is using combo Left Shift + Left Ctrl + Left Alt + Right Alt - this will flush all caches to disk before restart. Cores without write can be restarted by hard reset button or powered down without special attention. Left Ctrl + Left Alt + Right Alt sequence can be replaced by some other well known combos through INI file.","title":"Notes:"},{"location":"basics/links/","text":"Here's a collection of links to various information, videos, and articles about the MiSTer. MiSTer is an evolving platform, so these videos can only represent what was available at the time of them being made, some information and representations may be outdated. If you just want a comprehensive full review of almost everything MiSTer has to offer that is up to date, watch the My Life In Gaming video here: MiSTer FPGA in 2022: A Primer Guide to Retro Gaming's Hardware Emulator / MY LIFE IN GAMING - March 31, 2022 Otherwise there are some older videos listed below. MiSTer FPGA Articles Polygon - MiSTer 101: A classic gaming device to rule them all by Christopher Grant - August 8, 2021 Kotaku - And Now, The Ultimate Retro Gaming Device by Mike Fahey - September 02, 2021 Edge Magazine Australia - Hard Core: How MiSTer emulation is redefining the art of resurrecting gaming's past by Alex Wiltshire - April 22, 2021 The Verge - The DIY Issue: Building The Ultimate Retro Computer by Sam Byford - March 11, 2021 Nintendo Life - Hardware Review: MiSTer FPGA - A Tantalizing Glimpse Into The Future of Retro Gaming by Damien McFerran - February 11, 2021 Dream Machine: MiSTer FPGA by F\u00e9lix L\u00e9ger (@felleg) - October 18, 2020 Tutorials/Guides MiSTer Manual by adreeve MiSTer FPGA Videos Jan 2021 - Digital Foundry - DF Retro Hardware: MiSTer FPGA - A Brilliant Mini Emulation System Explored! Jan 2021 - Scarlet Sprites - MiSTer FPGA Review 2021: Arcade & Console Accuracy! Dec 2020 - Retro Bits - MiSTer FPGA - how to build, demo, costs, and pro/cons Mar 2020 - Briar Rabbit - What is a MiSTer FPGA? Nov 2019 - SmokeMonster - MiSTer Cores without add-ons (no SDRAM) Jul 2019 - RetroManCave - Exploring MiSTer May 2019 - GameSack - MiSTer Review Oct 2018 - ETA Prime - FPGA Emulation MisTer Project on the Terasic DE10-Nano Oct 2018 - SmokeMonster - Introducing the MiSTer FPGA Tutorials MiSTer assembly and config (Ownlonymous) Creating a MiSTer SD card (NML32) Mounting a VHD from Windows over the network (NML32) MiSTer FPGA How To Setup Tutorial (MadLittlePixel) MiSTer FPGA Input Mapping (rsn8887) MiSTer FPGA Getting Started and Setting up with Mr. Fusion (Master Hacks) AO486 Core - Setting up DOS Games with pre-built Total DOS Launcher (FlynssBit) FPGA Discussion Oct 2019 - Lon.TV - Lon & RetroRGB discuss FPGA Sep 2019 - SmokeMonster - FPGA Revolution Other / Demonstrations Jul 2020 - RetroManCave - My Ultimate FPGA Desktop","title":"Links"},{"location":"basics/links/#mister-fpga-articles","text":"Polygon - MiSTer 101: A classic gaming device to rule them all by Christopher Grant - August 8, 2021 Kotaku - And Now, The Ultimate Retro Gaming Device by Mike Fahey - September 02, 2021 Edge Magazine Australia - Hard Core: How MiSTer emulation is redefining the art of resurrecting gaming's past by Alex Wiltshire - April 22, 2021 The Verge - The DIY Issue: Building The Ultimate Retro Computer by Sam Byford - March 11, 2021 Nintendo Life - Hardware Review: MiSTer FPGA - A Tantalizing Glimpse Into The Future of Retro Gaming by Damien McFerran - February 11, 2021 Dream Machine: MiSTer FPGA by F\u00e9lix L\u00e9ger (@felleg) - October 18, 2020","title":"MiSTer FPGA Articles"},{"location":"basics/links/#tutorialsguides","text":"MiSTer Manual by adreeve","title":"Tutorials/Guides"},{"location":"basics/links/#mister-fpga-videos","text":"Jan 2021 - Digital Foundry - DF Retro Hardware: MiSTer FPGA - A Brilliant Mini Emulation System Explored! Jan 2021 - Scarlet Sprites - MiSTer FPGA Review 2021: Arcade & Console Accuracy! Dec 2020 - Retro Bits - MiSTer FPGA - how to build, demo, costs, and pro/cons Mar 2020 - Briar Rabbit - What is a MiSTer FPGA? Nov 2019 - SmokeMonster - MiSTer Cores without add-ons (no SDRAM) Jul 2019 - RetroManCave - Exploring MiSTer May 2019 - GameSack - MiSTer Review Oct 2018 - ETA Prime - FPGA Emulation MisTer Project on the Terasic DE10-Nano Oct 2018 - SmokeMonster - Introducing the MiSTer FPGA","title":"MiSTer FPGA Videos"},{"location":"basics/links/#tutorials","text":"MiSTer assembly and config (Ownlonymous) Creating a MiSTer SD card (NML32) Mounting a VHD from Windows over the network (NML32) MiSTer FPGA How To Setup Tutorial (MadLittlePixel) MiSTer FPGA Input Mapping (rsn8887) MiSTer FPGA Getting Started and Setting up with Mr. Fusion (Master Hacks) AO486 Core - Setting up DOS Games with pre-built Total DOS Launcher (FlynssBit)","title":"Tutorials"},{"location":"basics/links/#fpga-discussion","text":"Oct 2019 - Lon.TV - Lon & RetroRGB discuss FPGA Sep 2019 - SmokeMonster - FPGA Revolution","title":"FPGA Discussion"},{"location":"basics/links/#other-demonstrations","text":"Jul 2020 - RetroManCave - My Ultimate FPGA Desktop","title":"Other / Demonstrations"},{"location":"basics/saves/","text":"Many MiSTer cores have the capability to let you save your game, whether it be with traditional simulation of the original save features from the hardware, or with savestates. Most cores don't have savestates but a steadily increasing number do. Here's some basic information regarding how saves work on the MiSTer. Normal game saves MiSTer will only update your normal game saves when you open the On-Screen Display (OSD). You will need to save inside the game, then open the OSD, and select \"Save Backup RAM\". In most cores, after you select this, you will need to open the OSD again and you should see a \"Saving...\" pop up on the screen. If you don't see this, then your game save likely didn't get updated. When a save is happening with the OSD open the yellow light on your Digital IO or Analog IO add-on board will be lit and will turn off when the save is completed. Opening the OSD to save can be a bit of an adjustment at first, but it is necessary. It is intended behavior as MicroSD cards have a limited number of writes until they begin to fail. Also, since these cores are in FPGA, some cores may write to your MicroSD constantly multiple times a second if there wasn't a signal to tell the core to backup the save to a file. Autosave option It's best to utilize the autosave option in any core. First open the OSD. Next, go to the Autosave option if it is available, and turn it on. Finally, go to the secondary OSD menu by pressing Right on your controller (or keyboard) and go to \"Save Settings\" to save the settings you changed in the OSD for that core. This will only save it for that one core, it won't save it for all the other cores, so keep that in mind. Almost every core does not autosave by default. Autosave being on would generate too many writes to the MicroSD card and could lead to earlier hardware failure, so this decision is deliberate. Save file conversion The save file formats in most MiSTer cores are compatible with many popular emulators. However, some are different, so you may need to convert them. Thankfully Euan Forrester has made a save file converter that you can use to convert your saves into a MiSTer-compatible file. MiSTer Save File Converter Euan's tool also lets you convert many other save file formats from various emulators, and you can convert your MiSTer saves back into ones that are compatible with emulators. Backup your saves Make sure to backup your saves off of the MicroSD regularly if you'd like to keep them safe. When MicroSD storage fails, it's usually swift and catastrophic. There are various tools to accomplish this with. One tool like this is FreeFileSync . With FreeFileSync you can setup a scheduled batch job to backup specific folders from your MiSTer regularly. Read the documentation on FreeFileSync's website for more information.","title":"Game Saves"},{"location":"basics/saves/#normal-game-saves","text":"MiSTer will only update your normal game saves when you open the On-Screen Display (OSD). You will need to save inside the game, then open the OSD, and select \"Save Backup RAM\". In most cores, after you select this, you will need to open the OSD again and you should see a \"Saving...\" pop up on the screen. If you don't see this, then your game save likely didn't get updated. When a save is happening with the OSD open the yellow light on your Digital IO or Analog IO add-on board will be lit and will turn off when the save is completed. Opening the OSD to save can be a bit of an adjustment at first, but it is necessary. It is intended behavior as MicroSD cards have a limited number of writes until they begin to fail. Also, since these cores are in FPGA, some cores may write to your MicroSD constantly multiple times a second if there wasn't a signal to tell the core to backup the save to a file.","title":"Normal game saves"},{"location":"basics/saves/#autosave-option","text":"It's best to utilize the autosave option in any core. First open the OSD. Next, go to the Autosave option if it is available, and turn it on. Finally, go to the secondary OSD menu by pressing Right on your controller (or keyboard) and go to \"Save Settings\" to save the settings you changed in the OSD for that core. This will only save it for that one core, it won't save it for all the other cores, so keep that in mind. Almost every core does not autosave by default. Autosave being on would generate too many writes to the MicroSD card and could lead to earlier hardware failure, so this decision is deliberate.","title":"Autosave option"},{"location":"basics/saves/#save-file-conversion","text":"The save file formats in most MiSTer cores are compatible with many popular emulators. However, some are different, so you may need to convert them. Thankfully Euan Forrester has made a save file converter that you can use to convert your saves into a MiSTer-compatible file. MiSTer Save File Converter Euan's tool also lets you convert many other save file formats from various emulators, and you can convert your MiSTer saves back into ones that are compatible with emulators.","title":"Save file conversion"},{"location":"basics/saves/#backup-your-saves","text":"Make sure to backup your saves off of the MicroSD regularly if you'd like to keep them safe. When MicroSD storage fails, it's usually swift and catastrophic. There are various tools to accomplish this with. One tool like this is FreeFileSync . With FreeFileSync you can setup a scheduled batch job to backup specific folders from your MiSTer regularly. Read the documentation on FreeFileSync's website for more information.","title":"Backup your saves"},{"location":"basics/troubleshooting/","text":"The MiSTer FPGA's correct DIP switch configuration on the DE10-Nano If your keyboard doesn't work or something else low-level hardware related doesn't work, it's possible that one or more of the DIP switches on your DE10-Nano are misconfigured. Make sure the DIPS are configured like the following pictures: Side Note: If you have a Digital IO board then your first of the large dips in the 2nd picture above needs to be turned On (up) and the rest should be turned off (down) in order to use the 2nd SDRAM module, if you have one. Here's a demonstration with a picture again: Credit for 2nd and 3rd pictures goes to Nat from MiSTerFPGA.co.uk My gamepad doesn't work If your gamepad doesn't work in the menu, you need to make sure you have defined your inputs for that gamepad . If your gamepad doesn't work in the core, but it does work in the menu, then you need to define the gamepad in that core in the secondary OSD menu. If neither of these work, make sure you your DIP switches are correct as shown above. My Keyboard doesn't work right If you have a fancy gamer keyboard with lots of macros and RGB lights, it's possible that the stock power supply is not providing enough power. You may want to consider purchasing an upgraded power supply with more amps as a way to fix this, like the Mean Well GST18A05-P1J or take a look at this DigiKey search result to get a better idea of what is required. Generally speaking you need a 5v power supply with more than the stock 2amps, with a 2.1mm x 5.5mm x 11.0mm barrel plug that has positive center polarization. Mean Well and Triad are often recommended brands, but they are not the only option if you cannot find them at your desired retailer. Fixing missing certs If you are unable to use wget, this might be because you are missing security certificate files. The default system comes with no security certificate files so you need to add --no-check-certificate on wget to download anything HTTPS: Open the linux terminal/command prompt with F9, use root as your username and 1 as your password. Type cd /etc/ssl/certs and press enter. Type cp cacert.pem cacert.pem.bak to make a backup of your existing cert. Type wget --no-check-certificate https://curl.se/ca/cacert.pem -O cacert.pem and press enter. Assuming it downloaded correctly, you can now use wget as nature intended. WiFi shows two ip addresses and no internet connection If you have no Internet connection to the MiSTer (you can't update the MiSTer, for instance), and you run ip addr and your wlan0 device shows two IP addresses, that might be the root of your problem. Some WiFi adapters seem to show this behavior, even on regular linux computers, the actual root cause is not fixable. You will not have internet access in many cases if one of the two addresses is an \"APIPA\" address (e.g. 168.254.xxx.xxx). To temporarily clear this problem run the following command from the terminal: ip addr flush wlan0 It may come back again when your local DHCP server's lease is up and new IP addresses are received. In most home networks your dhcp server is your Router/Modem combo unit. Fixing a corrupted linux image on the MiSTer Sometimes MicroSD cards may corrupt data over time, this is normal. Rarely this can result in the linux files on the MiSTer becoming corrupted. If you notice any low-level hardware related problems like the following (but not limited to): HDMI video output not working anymore USB controllers and even keyboards not working Internet no longer working anymore Sound not working over HDMI anymore WiFi not working anymore And many more potential hardware failures... Then it is best to try and redownload the linux files and overwrite them. The best way to do this is by following these instructions: Remove the MicroSD card from your MiSTer and insert it into your PC. Download the latest sd-installer release archive (usually in .7z format at the bottom of the list) from here --> https://github.com/MiSTer-devel/SD-Installer-Win64_MiSTer and unzip it on your PC. Copy and overwrite the contents of the linux folder from the archive you just downloaded over the linux folder on your MiSTer MicroSD. This is essentially what a \"Linux Update\" does when you run the update script. This should get everything back to normal defaults. You may need to do the WiFi setup steps again if you are using WiFi.","title":"Troubleshooting"},{"location":"basics/troubleshooting/#the-mister-fpgas-correct-dip-switch-configuration-on-the-de10-nano","text":"If your keyboard doesn't work or something else low-level hardware related doesn't work, it's possible that one or more of the DIP switches on your DE10-Nano are misconfigured. Make sure the DIPS are configured like the following pictures: Side Note: If you have a Digital IO board then your first of the large dips in the 2nd picture above needs to be turned On (up) and the rest should be turned off (down) in order to use the 2nd SDRAM module, if you have one. Here's a demonstration with a picture again: Credit for 2nd and 3rd pictures goes to Nat from MiSTerFPGA.co.uk","title":"The MiSTer FPGA's correct DIP switch configuration on the DE10-Nano"},{"location":"basics/troubleshooting/#my-gamepad-doesnt-work","text":"If your gamepad doesn't work in the menu, you need to make sure you have defined your inputs for that gamepad . If your gamepad doesn't work in the core, but it does work in the menu, then you need to define the gamepad in that core in the secondary OSD menu. If neither of these work, make sure you your DIP switches are correct as shown above.","title":"My gamepad doesn't work"},{"location":"basics/troubleshooting/#my-keyboard-doesnt-work-right","text":"If you have a fancy gamer keyboard with lots of macros and RGB lights, it's possible that the stock power supply is not providing enough power. You may want to consider purchasing an upgraded power supply with more amps as a way to fix this, like the Mean Well GST18A05-P1J or take a look at this DigiKey search result to get a better idea of what is required. Generally speaking you need a 5v power supply with more than the stock 2amps, with a 2.1mm x 5.5mm x 11.0mm barrel plug that has positive center polarization. Mean Well and Triad are often recommended brands, but they are not the only option if you cannot find them at your desired retailer.","title":"My Keyboard doesn't work right"},{"location":"basics/troubleshooting/#fixing-missing-certs","text":"If you are unable to use wget, this might be because you are missing security certificate files. The default system comes with no security certificate files so you need to add --no-check-certificate on wget to download anything HTTPS: Open the linux terminal/command prompt with F9, use root as your username and 1 as your password. Type cd /etc/ssl/certs and press enter. Type cp cacert.pem cacert.pem.bak to make a backup of your existing cert. Type wget --no-check-certificate https://curl.se/ca/cacert.pem -O cacert.pem and press enter. Assuming it downloaded correctly, you can now use wget as nature intended.","title":"Fixing missing certs"},{"location":"basics/troubleshooting/#wifi-shows-two-ip-addresses-and-no-internet-connection","text":"If you have no Internet connection to the MiSTer (you can't update the MiSTer, for instance), and you run ip addr and your wlan0 device shows two IP addresses, that might be the root of your problem. Some WiFi adapters seem to show this behavior, even on regular linux computers, the actual root cause is not fixable. You will not have internet access in many cases if one of the two addresses is an \"APIPA\" address (e.g. 168.254.xxx.xxx). To temporarily clear this problem run the following command from the terminal: ip addr flush wlan0 It may come back again when your local DHCP server's lease is up and new IP addresses are received. In most home networks your dhcp server is your Router/Modem combo unit.","title":"WiFi shows two ip addresses and no internet connection"},{"location":"basics/troubleshooting/#fixing-a-corrupted-linux-image-on-the-mister","text":"Sometimes MicroSD cards may corrupt data over time, this is normal. Rarely this can result in the linux files on the MiSTer becoming corrupted. If you notice any low-level hardware related problems like the following (but not limited to): HDMI video output not working anymore USB controllers and even keyboards not working Internet no longer working anymore Sound not working over HDMI anymore WiFi not working anymore And many more potential hardware failures... Then it is best to try and redownload the linux files and overwrite them. The best way to do this is by following these instructions: Remove the MicroSD card from your MiSTer and insert it into your PC. Download the latest sd-installer release archive (usually in .7z format at the bottom of the list) from here --> https://github.com/MiSTer-devel/SD-Installer-Win64_MiSTer and unzip it on your PC. Copy and overwrite the contents of the linux folder from the archive you just downloaded over the linux folder on your MiSTer MicroSD. This is essentially what a \"Linux Update\" does when you run the update script. This should get everything back to normal defaults. You may need to do the WiFi setup steps again if you are using WiFi.","title":"Fixing a corrupted linux image on the MiSTer"},{"location":"basics/video/","text":"Here's a description of some basic video customization features on the MiSTer. You can change your resolution, modify the framebuffer to reduce input latency and video stuttering, add some video filters, use shadowmasks, and even gamma correction. Also, you can use 5x overscan mode to push a 1200p image into 1080p for square pixels and nearly the original overscan of a CRT, depending on the game's resolution. There are lots of options to play with, here's some basic ones. MiSTer Ini Video Settings In the MiSTer.ini file there are many video setttings to try. We'll just focus on a couple here for now and you can dive deeper into things like CRT usage in the Advanced - CRT section. First, you can edit the settings in the MiSTer.ini file with windows Notepad, Visual Studio Code, Notepad++. Pretty much any text editor will be fine. Alternatively you can run the ini-settings.sh script in the scripts folder, this has a simple interface to change options. video_mode A bit of a ways down the .ini file there is a video_mode option. Above it the resolutions are commented: ; 0 - 1280x720@60 ; 1 - 1024x768@60 ; 2 - 720x480@60 ; 3 - 720x576@50 ; 4 - 1280x1024@60 ; 5 - 800x600@60 ; 6 - 640x480@60 ; 7 - 1280x720@50 ; 8 - 1920x1080@60 ; 9 - 1920x1080@50 ;10 - 1366x768@60 ;11 - 1024x600@60 ;12 - 1920x1440@60 ;13 - 2048x1536@60 ;14 - 2560x1440@60 This tells you that video_mode=0 will set you to 1280x720 resolution at 60hz. For most people they will probably want to use 1920x1080 resolutiono at 60hz, so my advice would be to change this to video_mode=8 . You can also use the ini-settings.sh script, it will tell you what option selects which resolution, so just select the right one for your display. There is a detailed explanation of video modes available in Advanced - Video Modes thanks to Wickerwaka. vsync_adjust Another important option is vsync_adjust . Most modern displays work fine at 60hz, but some games run at 60.6 hz (like Donkey Kong for the arcades) which is a \"non-standard refresh rate\". Therefore, MiSTer has what is called a \"framebuffer\". The game is still running at 60.6hz but the frames are sent at 60hz. So occasionally there is a little \"stutter\" on the screen to make up for the frames going too fast and being adjusted. To use a framebuffer adds a minimal amount of lag. Here's a list of the options and what they do. vsync_adjust = 0 This matches the refresh rate of your monitor (e.g. 60hz) and has about 1-2 frames of lag. Video output can be a little jittery as the core is still running at it's native rate, which isn't exactly 60hz. vsync_adjust = 1 This makes the video output at exactly the frame rate of the game (e.g. 60.6hz). It has 1 frame of lag, but it is less compatible with modern televisions. Video output is very smooth. vsync_adjust = 2 This makes the video output draw to the screen as fast as possible, and can result in sub-frame lag consistently (independent of your controller and display's built-in lag). However this is the least compatible mode and it may result in unplayable behavior on some televisions using certain cores. The video output is the very smooth. Additionally, because of the way this special mode works there is a mismatch in the refresh rate of the scaled output and the core's original video output. Generally speaking, the rule of thumb is that if you want the smoothest video output and lowest lag then start at vsync_adjust=2 and if a core doesn't work that you want to play on reduce it to 1 or 0 to see if the compatibility is resolved. Your results may vary depending on the display you are connected to and what core you are using. Variable Refresh Rate (VRR) MiSTer FPGA now supports Variable Refresh Rate (VRR). The advantage of using Variable Refresh Rate is a reduction in sync loss on your display when the core is outputting non-standard refresh rates and you are using a low-lag vsync_adjust setting such as 1 or 2 . You will need a recent build of the Main MiSTer binary which supports VRR (a new release is currently pending, see the #unstable-nightlies channel in the MiSTer FPGA discord for early builds. You will also need either an updated version of the MiSTer.ini or if you prefer to use your old MiSTer.ini file you can add the following lines to your current ini: ; Variable Refresh Rate control ; 0 - Do not enable VRR (send no VRR control frames) ; 1 - Auto Detect VRR from display EDID. ; 2 - Force Enable Freesync ; 3 - Force Enable Vesa HDMI Forum VRR vrr_mode = 0 ; Freesync min/max framerate parameter defaults to the min/max capability reported by the display ; Freesync minimum framerate. vrr_freesync_min_framerate = 0 ; Freesync maximum framerate vrr_freesync_max_framerate = 0 ; VESA VRR base framerate. Normally set to the current video mode's output framerate vrr_vesa_framerate = 0 By default VRR is turned off for broad compatibility purposes in order to keep the MiSTer easy to use. Set vrr_mode= to 1 if you wish to auto-detect what your display supports. This has shown varying results, some displays can't achieve sync with this setting. If your display doesn't sync with vrr_mode= set to 1 (auto) then you can force enable it to either Freesync or VESA HDMI Forum VRR with 2 (Freesync) or 3 (VESA VRR) respectively. On some monitors/tv's Freesync is called \"AMD Freesync\" but it is open source and not exclusive to AMD products. Likewise on some monitors/tv's VESA VRR is called \"GSync\" even though it is not necessarily exactly the same as the proprietary standard from NVIDIA. With VRR your results may vary, make sure you can edit your MiSTer.ini easily before you change this setting as it may render display output useless until you revert the settings. You also may notice that the MiSTer's reported refresh rates and your TV's reported refresh rate isn't matching one another. This is expected, the way these refresh rates are calculated on TV's is proprietary so we have no way of knowing how accurate it is without using expensive testers. It has been reported that VRR enabled might get measurably smoother video output (Ace noticed that the repeated and skipped frames he saw on his display went away with it enabled). There is no guarantee that the same behavior will occur on your display. It was also observed by multiple testers that it did improve sync stability with some non-standard refresh rates when enabled. Your results may vary. Core exceptions There are also ways to add exceptions. My monitor doesn't play nice with the low lag setting on the Genesis core. So in my MiSter.ini, I added the following override/exception to the end of the file for just the MiSTer core: [Genesis] vsync_adjust = 0 This makes it so no matter what my vsync_adjust setting is in the upper section, when I use the Genesis core, it will force it to use vsync_adjust=0 (the most compatible mode) every time. You can also add a wildcard to these exceptions so one exception could be applied to multiple cores: [dkong*] vsync_adjust = 1 This will make it so every core that starts with dkong will have the same rule applied to it. You can also make an exception for every single arcade core like so: [arcade] vsync_adjust = 1 For a list of the internal core names to use in your exceptions see Developer Reference - Core Names for a complete list. NOTE - Arcade cores's internal core names are NOT used for the .ini core exceptions, the <setname> value in the MRA file is what is used. e.g. for Arkanoid (Japan).mra: <setname> arkanoidj </setname> means [arkanoidj] is the ini core exception you would use for this one game. For a lest of the setnames please refer to Developer Reference - MRA Setnames for a complete list. Video Processing Options Tutorial Here's a tutorial that you can follow along to get you started using the powerful video processing options on MiSTer FPGA. Video Presets There are now Video Presets that you can choose which will set your filters and everything else to simple desirable settings. They are very easy to use, just open the OSD, press right, then go to video processing, and then \"Load Preset\". Select the one you want and see if it looks good to you. Here's an example video showing you how easy it is: Filters (and scanlines) MiSTer has the capability to use upscaling filters and scanlines to help enhance the video output or even make it feel similar to a retro CRT television. If you opened the NES core for the first time after setting the MiSter's video output to 1920x1080p and loaded up Duck Tales, then you should see something like this: This can be tweaked a little to make it look a lot nicer to our eyes. First let's go into \"Video Processing\" in the secondary OSD/Menu (press F12 or the menu button you assigned earlier, and then right to see the secondary menu): When you select this it will show you a screen with a bunch of options. Don't get overwhelmed, it's fairly simple when you follow this guide, and you will understand how they work. I'll give you some recommended settings for most of the cores at the end of this tutorial which should be your go-to for now while you get used to things. By default \"Video Filter:\" is set to \"NearNeighbour\". This is a nearest neighbour filter. Basically, to turn 240p video into 1080p video requires these pixels to be made larger. Since 240 doesn't divide evenly into 1080 (1080 / 240 = 4.5), then some of these pixels won't be perfectly square. Nearest neighbour helps fool your eyes into making them seem more square than they actually are. It's filtering the video before it reaches your eyes to make it look better! Select Video filter to change it so you can select a filters file. You will notice the text changes from Video Filter: to Horz filter: . Don't worry about this too much, for any normal rotation games, Horz is for your upscaling filters that soften or sharpen the image. Select the <none> below to browse. It should show you quite a few options. For now select Interpolation (Medium).txt . This is a filter which gives you some softer edges while still maintaining an illusion of square pixels. There we go, those pixels are a bit smoother now: Another added benefit to interpolation is the scrolling looks smoother to the eye when compared to sharper filters like the default Nearest Neighbour setting. Now let's say you want some scanlines, sorta like what CRT's had and some emulators have an option for. Well to do that, we just need to setup the Vert Filter: option like we did the horz filter. You see, we will be filtering horizontal lines from top to bottom (vertically) on the video output. Inside Vert Filter 's From File option, select Scanlines - Brighter.txt . You should see something like this as your options: 5x Vertical Crop (1080p only) Note: this feature only works if your output resolution in your MiSTer.ini is set to a 1080p option!! If you have been following along on your MiSTer, you might notice that the scanlines look darker occasionally. This is because 240p (this game's resolution) doesn't divide equally into 1080p (your resolution on your MiSTer). But 240 does divide into 1200 equally, 5 times 240 equals 1200. So to fix these scanlines looking uneven, we can stretch the image vertically to make all the pixels perfectly square. Go back into the regular core menu and select Video & Audio . There is an option called Vertical Crop . Not all cores have this, but the NES core does happen to, so it's a good example. Go ahead and select the Vertical Crop option to change Disabled to (216p)5X . You will see just a few lines off the top and bottom get cut off. This is okay, original CRT's cut off about the same amount from the top and bottom anyways. Most games don't have information missing at the edge of the top and bottom. Now your vert filter: scanlines - brighter.txt option should have evenly spaced scanlines vertically, and the image will look a lot better. Shadowmasks MiSTer FPGA also has another layer options available to use called Shadowmasks . Shadow Masks are able to modify the red, green, blue color channels to create advanced effects, such as simulating the appearance of the grille or mask on an old CRT screen or the pixel layouts of old LCD handheld consoles. There are lots of options, but we are just going to use personally one of the most versatile color shadowmasks for this tutorial, Squished VGA Bright v2.txt . This shadowmask attempts to resemble consumer computer monitors and some tv's which had red, green, and blue phosphors in a particular pattern. Here is a picture of the options after I've added this Shadowmask to the same game's video processing menu: Gamma Curves Gamma is a bit of a tricky thing to explain. Basically, gamma on an old CRT is the relationship between voltage and brightness. Think of a graph, the x-axis is voltage and the y-axis is the \"brightness\" (more accurately called luminance). Modern televisions are (ideally) a totally straight line. Old CRT's have a curve. At medium voltage and brightness it is a lot less brightness than you'd expect. Sorta like this: Image Source Now given that the MiSTer is outputting the linear example, the Gamma filters can restore a similar Gamma curve as you may have been used to with your old television. This is especially helpful because we have just applied a \"brighter\" scanline and a shadowmask (which added a mask of colors across the screen imitating a CRT's phosphors). If you've been following along with this tutorial so far, we're gonna play with Gamma just to see how it looks to your eyes. This is all personal preference. If it looks good to you, great. If someone else doesn't like it, well... tough! :) I will apply a very mild \"Gamma Curve\" called gamma_113.txt which is located in the Pure_Gamma folder when you select the gamma options. This gamma curve is allegedly supposed to get you close to a typical consumer CRT's gamma curve. Video demonstrations Some people like a good video to see how it's done: 5x mode video gamma controls video","title":"Video Configuration"},{"location":"basics/video/#mister-ini-video-settings","text":"In the MiSTer.ini file there are many video setttings to try. We'll just focus on a couple here for now and you can dive deeper into things like CRT usage in the Advanced - CRT section. First, you can edit the settings in the MiSTer.ini file with windows Notepad, Visual Studio Code, Notepad++. Pretty much any text editor will be fine. Alternatively you can run the ini-settings.sh script in the scripts folder, this has a simple interface to change options.","title":"MiSTer Ini Video Settings"},{"location":"basics/video/#video_mode","text":"A bit of a ways down the .ini file there is a video_mode option. Above it the resolutions are commented: ; 0 - 1280x720@60 ; 1 - 1024x768@60 ; 2 - 720x480@60 ; 3 - 720x576@50 ; 4 - 1280x1024@60 ; 5 - 800x600@60 ; 6 - 640x480@60 ; 7 - 1280x720@50 ; 8 - 1920x1080@60 ; 9 - 1920x1080@50 ;10 - 1366x768@60 ;11 - 1024x600@60 ;12 - 1920x1440@60 ;13 - 2048x1536@60 ;14 - 2560x1440@60 This tells you that video_mode=0 will set you to 1280x720 resolution at 60hz. For most people they will probably want to use 1920x1080 resolutiono at 60hz, so my advice would be to change this to video_mode=8 . You can also use the ini-settings.sh script, it will tell you what option selects which resolution, so just select the right one for your display. There is a detailed explanation of video modes available in Advanced - Video Modes thanks to Wickerwaka.","title":"video_mode"},{"location":"basics/video/#vsync_adjust","text":"Another important option is vsync_adjust . Most modern displays work fine at 60hz, but some games run at 60.6 hz (like Donkey Kong for the arcades) which is a \"non-standard refresh rate\". Therefore, MiSTer has what is called a \"framebuffer\". The game is still running at 60.6hz but the frames are sent at 60hz. So occasionally there is a little \"stutter\" on the screen to make up for the frames going too fast and being adjusted. To use a framebuffer adds a minimal amount of lag. Here's a list of the options and what they do. vsync_adjust = 0 This matches the refresh rate of your monitor (e.g. 60hz) and has about 1-2 frames of lag. Video output can be a little jittery as the core is still running at it's native rate, which isn't exactly 60hz. vsync_adjust = 1 This makes the video output at exactly the frame rate of the game (e.g. 60.6hz). It has 1 frame of lag, but it is less compatible with modern televisions. Video output is very smooth. vsync_adjust = 2 This makes the video output draw to the screen as fast as possible, and can result in sub-frame lag consistently (independent of your controller and display's built-in lag). However this is the least compatible mode and it may result in unplayable behavior on some televisions using certain cores. The video output is the very smooth. Additionally, because of the way this special mode works there is a mismatch in the refresh rate of the scaled output and the core's original video output. Generally speaking, the rule of thumb is that if you want the smoothest video output and lowest lag then start at vsync_adjust=2 and if a core doesn't work that you want to play on reduce it to 1 or 0 to see if the compatibility is resolved. Your results may vary depending on the display you are connected to and what core you are using.","title":"vsync_adjust"},{"location":"basics/video/#variable-refresh-rate-vrr","text":"MiSTer FPGA now supports Variable Refresh Rate (VRR). The advantage of using Variable Refresh Rate is a reduction in sync loss on your display when the core is outputting non-standard refresh rates and you are using a low-lag vsync_adjust setting such as 1 or 2 . You will need a recent build of the Main MiSTer binary which supports VRR (a new release is currently pending, see the #unstable-nightlies channel in the MiSTer FPGA discord for early builds. You will also need either an updated version of the MiSTer.ini or if you prefer to use your old MiSTer.ini file you can add the following lines to your current ini: ; Variable Refresh Rate control ; 0 - Do not enable VRR (send no VRR control frames) ; 1 - Auto Detect VRR from display EDID. ; 2 - Force Enable Freesync ; 3 - Force Enable Vesa HDMI Forum VRR vrr_mode = 0 ; Freesync min/max framerate parameter defaults to the min/max capability reported by the display ; Freesync minimum framerate. vrr_freesync_min_framerate = 0 ; Freesync maximum framerate vrr_freesync_max_framerate = 0 ; VESA VRR base framerate. Normally set to the current video mode's output framerate vrr_vesa_framerate = 0 By default VRR is turned off for broad compatibility purposes in order to keep the MiSTer easy to use. Set vrr_mode= to 1 if you wish to auto-detect what your display supports. This has shown varying results, some displays can't achieve sync with this setting. If your display doesn't sync with vrr_mode= set to 1 (auto) then you can force enable it to either Freesync or VESA HDMI Forum VRR with 2 (Freesync) or 3 (VESA VRR) respectively. On some monitors/tv's Freesync is called \"AMD Freesync\" but it is open source and not exclusive to AMD products. Likewise on some monitors/tv's VESA VRR is called \"GSync\" even though it is not necessarily exactly the same as the proprietary standard from NVIDIA. With VRR your results may vary, make sure you can edit your MiSTer.ini easily before you change this setting as it may render display output useless until you revert the settings. You also may notice that the MiSTer's reported refresh rates and your TV's reported refresh rate isn't matching one another. This is expected, the way these refresh rates are calculated on TV's is proprietary so we have no way of knowing how accurate it is without using expensive testers. It has been reported that VRR enabled might get measurably smoother video output (Ace noticed that the repeated and skipped frames he saw on his display went away with it enabled). There is no guarantee that the same behavior will occur on your display. It was also observed by multiple testers that it did improve sync stability with some non-standard refresh rates when enabled. Your results may vary.","title":"Variable Refresh Rate (VRR)"},{"location":"basics/video/#core-exceptions","text":"There are also ways to add exceptions. My monitor doesn't play nice with the low lag setting on the Genesis core. So in my MiSter.ini, I added the following override/exception to the end of the file for just the MiSTer core: [Genesis] vsync_adjust = 0 This makes it so no matter what my vsync_adjust setting is in the upper section, when I use the Genesis core, it will force it to use vsync_adjust=0 (the most compatible mode) every time. You can also add a wildcard to these exceptions so one exception could be applied to multiple cores: [dkong*] vsync_adjust = 1 This will make it so every core that starts with dkong will have the same rule applied to it. You can also make an exception for every single arcade core like so: [arcade] vsync_adjust = 1 For a list of the internal core names to use in your exceptions see Developer Reference - Core Names for a complete list. NOTE - Arcade cores's internal core names are NOT used for the .ini core exceptions, the <setname> value in the MRA file is what is used. e.g. for Arkanoid (Japan).mra: <setname> arkanoidj </setname> means [arkanoidj] is the ini core exception you would use for this one game. For a lest of the setnames please refer to Developer Reference - MRA Setnames for a complete list.","title":"Core exceptions"},{"location":"basics/video/#video-processing-options-tutorial","text":"Here's a tutorial that you can follow along to get you started using the powerful video processing options on MiSTer FPGA.","title":"Video Processing Options Tutorial"},{"location":"basics/video/#video-presets","text":"There are now Video Presets that you can choose which will set your filters and everything else to simple desirable settings. They are very easy to use, just open the OSD, press right, then go to video processing, and then \"Load Preset\". Select the one you want and see if it looks good to you. Here's an example video showing you how easy it is:","title":"Video Presets"},{"location":"basics/video/#filters-and-scanlines","text":"MiSTer has the capability to use upscaling filters and scanlines to help enhance the video output or even make it feel similar to a retro CRT television. If you opened the NES core for the first time after setting the MiSter's video output to 1920x1080p and loaded up Duck Tales, then you should see something like this: This can be tweaked a little to make it look a lot nicer to our eyes. First let's go into \"Video Processing\" in the secondary OSD/Menu (press F12 or the menu button you assigned earlier, and then right to see the secondary menu): When you select this it will show you a screen with a bunch of options. Don't get overwhelmed, it's fairly simple when you follow this guide, and you will understand how they work. I'll give you some recommended settings for most of the cores at the end of this tutorial which should be your go-to for now while you get used to things. By default \"Video Filter:\" is set to \"NearNeighbour\". This is a nearest neighbour filter. Basically, to turn 240p video into 1080p video requires these pixels to be made larger. Since 240 doesn't divide evenly into 1080 (1080 / 240 = 4.5), then some of these pixels won't be perfectly square. Nearest neighbour helps fool your eyes into making them seem more square than they actually are. It's filtering the video before it reaches your eyes to make it look better! Select Video filter to change it so you can select a filters file. You will notice the text changes from Video Filter: to Horz filter: . Don't worry about this too much, for any normal rotation games, Horz is for your upscaling filters that soften or sharpen the image. Select the <none> below to browse. It should show you quite a few options. For now select Interpolation (Medium).txt . This is a filter which gives you some softer edges while still maintaining an illusion of square pixels. There we go, those pixels are a bit smoother now: Another added benefit to interpolation is the scrolling looks smoother to the eye when compared to sharper filters like the default Nearest Neighbour setting. Now let's say you want some scanlines, sorta like what CRT's had and some emulators have an option for. Well to do that, we just need to setup the Vert Filter: option like we did the horz filter. You see, we will be filtering horizontal lines from top to bottom (vertically) on the video output. Inside Vert Filter 's From File option, select Scanlines - Brighter.txt . You should see something like this as your options:","title":"Filters (and scanlines)"},{"location":"basics/video/#5x-vertical-crop-1080p-only","text":"Note: this feature only works if your output resolution in your MiSTer.ini is set to a 1080p option!! If you have been following along on your MiSTer, you might notice that the scanlines look darker occasionally. This is because 240p (this game's resolution) doesn't divide equally into 1080p (your resolution on your MiSTer). But 240 does divide into 1200 equally, 5 times 240 equals 1200. So to fix these scanlines looking uneven, we can stretch the image vertically to make all the pixels perfectly square. Go back into the regular core menu and select Video & Audio . There is an option called Vertical Crop . Not all cores have this, but the NES core does happen to, so it's a good example. Go ahead and select the Vertical Crop option to change Disabled to (216p)5X . You will see just a few lines off the top and bottom get cut off. This is okay, original CRT's cut off about the same amount from the top and bottom anyways. Most games don't have information missing at the edge of the top and bottom. Now your vert filter: scanlines - brighter.txt option should have evenly spaced scanlines vertically, and the image will look a lot better.","title":"5x Vertical Crop (1080p only)"},{"location":"basics/video/#shadowmasks","text":"MiSTer FPGA also has another layer options available to use called Shadowmasks . Shadow Masks are able to modify the red, green, blue color channels to create advanced effects, such as simulating the appearance of the grille or mask on an old CRT screen or the pixel layouts of old LCD handheld consoles. There are lots of options, but we are just going to use personally one of the most versatile color shadowmasks for this tutorial, Squished VGA Bright v2.txt . This shadowmask attempts to resemble consumer computer monitors and some tv's which had red, green, and blue phosphors in a particular pattern. Here is a picture of the options after I've added this Shadowmask to the same game's video processing menu:","title":"Shadowmasks"},{"location":"basics/video/#gamma-curves","text":"Gamma is a bit of a tricky thing to explain. Basically, gamma on an old CRT is the relationship between voltage and brightness. Think of a graph, the x-axis is voltage and the y-axis is the \"brightness\" (more accurately called luminance). Modern televisions are (ideally) a totally straight line. Old CRT's have a curve. At medium voltage and brightness it is a lot less brightness than you'd expect. Sorta like this: Image Source Now given that the MiSTer is outputting the linear example, the Gamma filters can restore a similar Gamma curve as you may have been used to with your old television. This is especially helpful because we have just applied a \"brighter\" scanline and a shadowmask (which added a mask of colors across the screen imitating a CRT's phosphors). If you've been following along with this tutorial so far, we're gonna play with Gamma just to see how it looks to your eyes. This is all personal preference. If it looks good to you, great. If someone else doesn't like it, well... tough! :) I will apply a very mild \"Gamma Curve\" called gamma_113.txt which is located in the Pure_Gamma folder when you select the gamma options. This gamma curve is allegedly supposed to get you close to a typical consumer CRT's gamma curve.","title":"Gamma Curves"},{"location":"basics/video/#video-demonstrations","text":"Some people like a good video to see how it's done:","title":"Video demonstrations"},{"location":"basics/video/#5x-mode-video","text":"","title":"5x mode video"},{"location":"basics/video/#gamma-controls-video","text":"","title":"gamma controls video"},{"location":"basics/wifi/","text":"Wifi is totally optional and it's setup is fairly simple with the MiSTer. You will need a compatible dongle, the wifi script (which is provided with the Mr. Fusion image), and a keyboard attached to your MiSTer to type in your WiFi password. Suggested WiFi Adapters You will require a compatible USB WiFi Adapter to use this feature as there is no integrated WiFi on the DE10-Nano or the MiSTer Add-on boards. Not all models of wifi adapters are compatible, so try to stick with decent name brands. Many users have found that most small ASUS, TP-Link, CanaKit, and Edimax wifi USB adapters work out of the box. Here's a few that have been reported to work: ASUS USB AC53 nano rev A1 TP-Link AC1300 Archer T3U or Nano AC600 Archer T2U CanaKit Raspberry Pi WiFi dongle Edimax EW-7612UAn v2 or EW-7811UN or EW-7822ULC Netgear A6100 or A6150 Your results may vary as there may be new hardware revisions of these adapters which are not currently supported. There are ways to compile your own drivers for your device but that is for advanced users. Setup wifi with a script It's easy to connect to WiFi using the wifi.sh script provided with the Mr. Fusion image: Navigate to the scripts menu using the on screen display (OSD). Select the \"wifi\" script and run it. Select your WiFi network's SSID (the name of your WiFi). Type your WiFi password in and press enter. It should connect and ask you to press any key to continue. At the top of the main menu you will see a little wifi icon which indicates you have connected. This setting should be saved and it will automatically connect so long as the adapter is plugged in and your MiSTer is within range of your WiFi network. The manual way to setup wifi In case the script isn't working for you, you can try to manually setup Wifi. This is a slightly more advanced user method so feel free to ask for help from the community before attempting this method. To manually setup WiFi without the script: Edit the file /media/fat/linux/_wpa_supplicant.conf with a text editor that supports Unix/Linux line endings. Replace put_your_SSID_here with your Wifi Network's SSID, and replace put_your_password_here with your WiFi password. Change the country code to the one that matches your country . Rename _wpa_supplicant.conf to wpa_supplicant.conf Reboot the MiSTer. After the MiSTer reboots you should see the wifi icon at the top of the Main Menu's OSD. This may take quite awhile so be patient, the MiSTer is not very fast at connecting to your WiFi network, it's a simple device with simple capabilities.","title":"WiFi"},{"location":"basics/wifi/#suggested-wifi-adapters","text":"You will require a compatible USB WiFi Adapter to use this feature as there is no integrated WiFi on the DE10-Nano or the MiSTer Add-on boards. Not all models of wifi adapters are compatible, so try to stick with decent name brands. Many users have found that most small ASUS, TP-Link, CanaKit, and Edimax wifi USB adapters work out of the box. Here's a few that have been reported to work: ASUS USB AC53 nano rev A1 TP-Link AC1300 Archer T3U or Nano AC600 Archer T2U CanaKit Raspberry Pi WiFi dongle Edimax EW-7612UAn v2 or EW-7811UN or EW-7822ULC Netgear A6100 or A6150 Your results may vary as there may be new hardware revisions of these adapters which are not currently supported. There are ways to compile your own drivers for your device but that is for advanced users.","title":"Suggested WiFi Adapters"},{"location":"basics/wifi/#setup-wifi-with-a-script","text":"It's easy to connect to WiFi using the wifi.sh script provided with the Mr. Fusion image: Navigate to the scripts menu using the on screen display (OSD). Select the \"wifi\" script and run it. Select your WiFi network's SSID (the name of your WiFi). Type your WiFi password in and press enter. It should connect and ask you to press any key to continue. At the top of the main menu you will see a little wifi icon which indicates you have connected. This setting should be saved and it will automatically connect so long as the adapter is plugged in and your MiSTer is within range of your WiFi network.","title":"Setup wifi with a script"},{"location":"basics/wifi/#the-manual-way-to-setup-wifi","text":"In case the script isn't working for you, you can try to manually setup Wifi. This is a slightly more advanced user method so feel free to ask for help from the community before attempting this method. To manually setup WiFi without the script: Edit the file /media/fat/linux/_wpa_supplicant.conf with a text editor that supports Unix/Linux line endings. Replace put_your_SSID_here with your Wifi Network's SSID, and replace put_your_password_here with your WiFi password. Change the country code to the one that matches your country . Rename _wpa_supplicant.conf to wpa_supplicant.conf Reboot the MiSTer. After the MiSTer reboots you should see the wifi icon at the top of the Main Menu's OSD. This may take quite awhile so be patient, the MiSTer is not very fast at connecting to your WiFi network, it's a simple device with simple capabilities.","title":"The manual way to setup wifi"},{"location":"cores/arcade/","text":"Here is a list of the arcade cores that are in the MiSTer Github Repository. (SDRAM section is not filled in completely yet, you should assume the cores require SDRAM) Core Name SDRAM Arkanoid Asteroids AsteroidsDeluxe Astrocade \u2714\ufe0f ATetris Athena Bagman Berzerk BlackWidow BombJack Breakout BurgerTime BurningRubber CanyonBomber Cave \u2714\ufe0f Centipede ComputerSpace Cosmic \u2714\ufe0f CrazyBalloon CrazyClimber CrazyKong Defender DigDug Dominos DonkeyKong3 DonkeyKongJunior DonkeyKong DottoriKun Druaga Finalizer FoodFight Frenzy Galaga Galaxian Gaplus Gauntlet Gyruss IremM62 IronHorse Jackal \u2714\ufe0f Jailbreak Ladybug LunarLander MarioBros MCR1 MCR2 MCR3Mono MCR3Scroll MCR3 MoonPatrol \u2714\ufe0f MrDo NinjaKun Pacman Pengo Phoenix Pleiads PolyPlay Pong Pooyan Popeye QBert Rallyx RiverPatrol Robotron RushnAttack ScooterShooter Scramble \u2714\ufe0f SEGASYS1 SilverLand SkySkipper SolomonsKey SpaceInvaders \u2714\ufe0f SpaceRace Sprint1 Sprint2 Subs SuperBreakout Tecmo \u2714\ufe0f TIAMC1 TimePilot84 TimePilot TraverseUSA Ultratank VBall \u2714\ufe0f Xevious Zaxxon \u2714\ufe0f ZigZag","title":"Arcade Cores"},{"location":"cores/computer/","text":"Here is a list of the computer cores that are in the MiSTer Github Repository. Core Name System /games/ Folder SDRAM AcornAtom Acorn Atom ./AcornAtom AliceMC10 Matra & Hachette Ordinateur Alice (TRS-80 MC-10 Clone) ./AliceMC10 Altair8800 MITS Altair 8800 ./Altair8800 AmstradPCW Amstrad PCW ./AmstradPCW \u2714\ufe0f Amstrad Amstrad CPC 6128 ./Amstrad \u2714\ufe0f ao486 486DX33 (No FPU) compatible ./AO486 Apogee Apogee BK-01 / Radio-86RK ./APOGEE Apple-II Apple IIe ./Apple-II Apple-I Apple I ./Apple-I Aquarius Mattel Aquarius ./AQUARIUS Archie Acorn Archimedes ./ARCHIE \u2714\ufe0f Atari800 Atari 800 / 800XL / 65XE / 130XE ./Atari800 Optional AtariST Atari ST / STe ./AtariST \u2714\ufe0f BBCMicro BBC Micro B / Master 128K ./BBCMicro BK0011M Elektronika BK (BK-0011M CPU) ./BK0011M \u2714\ufe0f C16 Commodore C16 / Plus/4 ./C16 C64 Commodore 64 / Games System / 128 ./C64 \u2714\ufe0f Chip8 CHIP-8 by Joseph Weisbecker ./Chip8 CoCo2 Tandy Color Computer 2 / Dragon 32 ./CoCo2 CoCo3 Tandy Color Computer 3 ./CoCo3 EDSAC EDSAC ./EDSAC Galaksija Galaksija by Voja Antoni\u0107 ./Galaksija Interac Interact Home Computer ./Interac Jupiter Jupiter Ace ./Jupiter Laser310 Vtech Laser 310 ./Laser MacPlus Macintosh Plus ./MacPlus \u2714\ufe0f Minimig-AGA Commodore Amiga 500 / 600 / 1200 / 4000 / CD32 ./Amiga \u2714\ufe0f MSX Microsoft MSX / MSX2 / Plus / MSX3 / TurboR ./MSX \u2714\ufe0f MultiComp Grant Searle's MultiComp ./MultiComp OndraSPO186 Tesla Ondra SPO-186 ./Ondra_SPO186 Orao PEL Vara\u017edin Orao / Eagle ./ORAO Oric Tangerine Oric / Oric-1 ./Oric PC88 NEC PC8801 MKII SR ./PC8801 PDP1 DEC PDP-1 ./PDP1 PET2001 Commodore PET 2001 ./PET2001 PMD85 Tesla PMD 85 ./PMD85 QL Sinclair QL ./QL \u2714\ufe0f RX-78 Bandai RX-78 ./RX78 SAM-Coupe Miles Gordon Technology SAM Coup\u00e9 ./SAMCOUPE \u2714\ufe0f SharpMZ Sharp MZ ./SharpMZ SordM5 Sord M5 ./Sord M5 Specialist Specialist / \u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442 SVI328 Spectravideo SV-328 ./SVI328 TI-99_4A Texas Instruments TI-99/4A ./TI-99_4A TRS-80 Radio Shack / Tandy TRS-80 Micro Computer System / Model I ./TRS-80 TSConf TSConf (ZX-Evolution Improvement) ./TSConf \u2714\ufe0f UK101 Compukit UK101 ./UK101 Vector-06C Vector-06C / \u0412\u0435\u043a\u0442\u043e\u0440-06\u0426 ./VECTOR06 VIC20 Commodore VIC-20 ./VIC20 X68000 Sharp X68000 ./X68000 \u2714\ufe0f ZX-Spectrum Sinclair ZX Spectrum ./Spectrum \u2714\ufe0f ZX81 Sinclair ZX80 / ZX81 ./ZX81 ZXNext ZX Spectrum Next ./ZXNext","title":"Computer Cores"},{"location":"cores/console/","text":"Here is a list of the console cores that are in the MiSTer Github Repository. boot.rom is synonymous with boot0.rom . Core Name Systems /games/ Folder BIOS SDRAM AY-3-8500 \"Pong-on-a-chip\" ./AY-3-8500 AVision Entex Adventure Vision ./AVision Arcadia Emerson Arcadia 2001 ./Arcadia Astrocade Bally Astrocade ./Astrocade boot0.rom Atari5200 Atari 5200 SuperSystem ./Atari5200 Atari7800 Atari 7800 ProSystem Atari 2600 Support ./Atari7800 boot0.rom (optional) \u2714\ufe0f AtariLynx Atari Lynx ./AtariLynx boot0.rom = bootrom (lynxboot.img) ChannelF Fairchild Channel F ./ChannelF ColecoVision ColecoVision Sega SG-1000 ./Coleco ./SG1000 \u2714\ufe0f GBA Nintendo Game Boy Advance ./GBA boot0.rom (recommended) Optional GBA2P 2x Game Boy Advance (2-Player) ./GBA2P boot0.rom (recommended) \u2714\ufe0f Gamate Bit Corporation Gamate ./Gamate boot0.rom \u2714\ufe0f GameBoy Nintendo Game Boy ./Gameboy boot1.rom = Gameboy Color BIOS boot2.rom = autoload a game \u2714\ufe0f Gameboy2P 2x Game Boy (2-Player) ./Gameboy2P boot1.rom = Gameboy Color BIOS boot2.rom = autoload a game \u2714\ufe0f GameNWatch Nintendo Game & Watch Handheld Devices ./GameNWatch \u2714\ufe0f Genesis Sega Genesis Sega Mega Drive ./Genesis Optional Intv Mattel Intellivision ./Intellivision boot0.rom = exec.bin boot1.rom = grom.bin boot2.rom = sp0256-012.bin boot3.rom = ecs.bin MegaCD Sega CD Sega Mega-CD ./MegaCD boot0.rom cd_bios.rom = separate folder BIOS \u2714\ufe0f NES Nintendo Entertainment System Famicom Disk System NSF Music Player ./NES boot0.rom = FDS BIOS boot1.rom = NES Cart (optional) boot2.rom = blank FDS image (optional) boot3.rom = .PAL Palette File (optional) \u2714\ufe0f NeoGeo SNK Neo Geo AES & MVS ./NeoGeo 000-lo.lo sfix.sfix sp-s2.sp1 (MVS) neo-epo.sp1 (AES) uni-bios.rom \u2714\ufe0f Odyssey2 Magnavox Odyssey 2 Philips Odyssey 2 Philips Videopac G7000 ./Odyssey2 PSX Sony Playstation ./PSX boot0.rom = Japanese BIOS boot1.rom = English BIOS boot2.rom = Europe BIOS \u2714\ufe0f SMS Sega Master System Sega Game Gear Sega SG-1000 ./SMS ./SG1000 \u2714\ufe0f SNES Super Nintendo Entertainment System Nintendo Satellaview SPC Music Player ./SNES bsx_bios.rom = Satellaview ROM \u2714\ufe0f TurboGrafx16 NEC TurboGrafx-16 / PC Engine CD-ROM\u00b2 / Super CD-ROM\u00b2 Duo / TurboDuo SuperGrafx Arcade Card ./TGFX16 ./TGFX16-CD cd_bios.rom = BIOS Place in tgfx16-cd Optional VC4000 Interton VC4000 Acetronic MPU-1000 Occitane OC2000 ./VC4000 Vectrex Vectrex ./Vectrex WonderSwan Bandai WonderSwan WonderSwan Color SwanCrystal ./WonderSwan boot0.rom = WonderSwan boot1.rom = WonderSwan Color \u2714\ufe0f","title":"Console Cores"},{"location":"cores/paths/","text":"The standard paths are of the form /media/fat/games/<CORE> , where <CORE> is the internal core name of the given system. Please check the respective README file for each core to determine the appropriate full path. Standard USB Core Paths They are of the form /media/usb<0..5>/games/<CORE> . Where <0..5> indicates the number of USB drives mounted by the operating system. Standard CIFS Core Paths They are of the form /media/fat/cifs/games/<CORE> . Other Paths There are other valid paths, that are available for backwards-compatibility reasons, and also to ease testing. You should use the standard paths instead whenever possible. Path Priority There is a priority order of core paths. When you plug in a USB drive and it has a folder /games/PSX on it (mounted locally as /media/usb<0..5>/games/PSX when plugged in), then the MiSTer PSX core will look to that folder on the USB drive instead of the local one on the MicroSD at /media/fat/games/PSX . Here is the priority list from Main_MiSTer's file_io.cpp in order of highest priority to lowest: /media/fat /media/usb<0..5> /media/usb<0..5>/games /media/fat/cifs /media/fat/cifs/games /media/fat/games If the core's folder isn't found in any of these it should create the folder.","title":"Core Paths"},{"location":"cores/paths/#standard-usb-core-paths","text":"They are of the form /media/usb<0..5>/games/<CORE> . Where <0..5> indicates the number of USB drives mounted by the operating system.","title":"Standard USB Core Paths"},{"location":"cores/paths/#standard-cifs-core-paths","text":"They are of the form /media/fat/cifs/games/<CORE> .","title":"Standard CIFS Core Paths"},{"location":"cores/paths/#other-paths","text":"There are other valid paths, that are available for backwards-compatibility reasons, and also to ease testing. You should use the standard paths instead whenever possible.","title":"Other Paths"},{"location":"cores/paths/#path-priority","text":"There is a priority order of core paths. When you plug in a USB drive and it has a folder /games/PSX on it (mounted locally as /media/usb<0..5>/games/PSX when plugged in), then the MiSTer PSX core will look to that folder on the USB drive instead of the local one on the MicroSD at /media/fat/games/PSX . Here is the priority list from Main_MiSTer's file_io.cpp in order of highest priority to lowest: /media/fat /media/usb<0..5> /media/usb<0..5>/games /media/fat/cifs /media/fat/cifs/games /media/fat/games If the core's folder isn't found in any of these it should create the folder.","title":"Path Priority"},{"location":"cores/what/","text":"In MiSTer terminology, a \"core\" is the current system that the FPGA is configured to simulate. It is configured as the \"Menu\" core when you power on the MiSTer for the first time. Then, if you use the OSD and go to _Console and then select NES , it will configure the FPGA to be the \"NES\" core. The term \"core\" has been used by Hardware Description Language (HDL) developers in a way which refers to the things that are programmed onto the FPGA. So for instance, the MiSTer FPGA framework uses Intel's \"Altera PLL Core\". This is a chunk of logic that is portable which allows developers to hook up to the clock on the chip. There are HDMI cores, ethernet cores, serial data cores, and so on... However, for MiSTer, a core refers to the system being emulated. So you have the PSX (Playstation) core , the Minimig (Amiga) core , the SNES core , and so many more to explore. What happens when I load a core? Imagine every time you load a core you are connecting a different console, computer, or arcade system to your television. You select the Genesis core in the menu and load it, you have now essentially plugged a Genesis into your television without all the hassle of wrestling with cables. That's the concept. What actually is happening is that .rbf file is reprogramming the FPGA chip to take on a different form. It used to contain the digital logic required to be an NES combined with the MiSTer FPGA core components, and it turned into a chip with the digital logic for the Genesis combined with the the MiSTer FPGA core components. Now, you may be worried that all of this rewriting of the FPGA could reduce it's lifespan. This isn't something to worry about, these kinds of FPGA's (SRAM-based) are considered to have an indefinite number of writes. Many millions of rewrites to the same sector are normal and nothing to worry about. Core updates and issues Cores on MiSTer are the result of the collaboration between many people and extensive testing, sometimes over many years and prior open-source projects. Most console and computer cores have now been compared to original hardware to a high level of precision (e.g. audio capture comparison), with the few issues remaining documented on their respective github repository pages. Please refer to these pages, per core, before submitting any issues. For a list of core repositories, head on over to the MiSTer FPGA GitHub Organization Repositories list for more information. The core links there will bring you to the release folder on github, which will also allow you to find the Issues page and the readme files, ideally listing all available features and limitations in detail per core. There are other unofficial MiSTer FPGA cores out there, but these are not listed here as they may or may not work correctly and that list is always changing.","title":"What Is a Core"},{"location":"cores/what/#what-happens-when-i-load-a-core","text":"Imagine every time you load a core you are connecting a different console, computer, or arcade system to your television. You select the Genesis core in the menu and load it, you have now essentially plugged a Genesis into your television without all the hassle of wrestling with cables. That's the concept. What actually is happening is that .rbf file is reprogramming the FPGA chip to take on a different form. It used to contain the digital logic required to be an NES combined with the MiSTer FPGA core components, and it turned into a chip with the digital logic for the Genesis combined with the the MiSTer FPGA core components. Now, you may be worried that all of this rewriting of the FPGA could reduce it's lifespan. This isn't something to worry about, these kinds of FPGA's (SRAM-based) are considered to have an indefinite number of writes. Many millions of rewrites to the same sector are normal and nothing to worry about.","title":"What happens when I load a core?"},{"location":"cores/what/#core-updates-and-issues","text":"Cores on MiSTer are the result of the collaboration between many people and extensive testing, sometimes over many years and prior open-source projects. Most console and computer cores have now been compared to original hardware to a high level of precision (e.g. audio capture comparison), with the few issues remaining documented on their respective github repository pages. Please refer to these pages, per core, before submitting any issues. For a list of core repositories, head on over to the MiSTer FPGA GitHub Organization Repositories list for more information. The core links there will bring you to the release folder on github, which will also allow you to find the Issues page and the readme files, ideally listing all available features and limitations in detail per core. There are other unofficial MiSTer FPGA cores out there, but these are not listed here as they may or may not work correctly and that list is always changing.","title":"Core updates and issues"},{"location":"cores/features/cheats/","text":"Some of MiSTer's cores have the capability to apply cheats in-game. The cheats are in a specific format and are automatically pulled from gamehacking.org's website when you run the downloader script. These cheat files have specific rules that govern how they can be used. Setup Cheats should be stored in: cheats/system/rom_filename.zip where system is name of the core like NES, SNES, Genesis, etc... So, for example: cheats/NES/Taboo (USA).zip for the NES ROM Taboo (USA).nes The filename of the zip must match the ROM name exactly. Cheats will be loaded automatically when you load a ROM, and can be enabled and disabled from the menu in supported cores. If the .zip cheat file does not match the ROM name, the cheat engine will automatically check the ROM CRC32 and select the appropriate .zip cheat file with matching CRC32 accordingly. ROM name matching has priority over CRC32 checking. Individual cheats are in .gg format and should be stored in zip files. How to use Cheats with CD-ROM images Since CD-ROM images are large, the MiSTer purposefully doesn't do CRC32 hash checks for CD images. You will need to place the cheats you want into the same folder as your cue/bin or CHD file, in order to use cheats with it. Typically the cheat-matching with your CD-ROM image is done by matching the filename of your CUE/BIN, CHD, or ISO with the filename of the cheat zip file. The Playstation core uniquely allows for this method and has an additional method to load the cheat based upon the internal Game ID (e.g. SCUS-94163). Please note, if the cheats do not load, then check the following: The cheat zip file is in the same subfolder as the desired CUE/BIN, CHD, or ISO. The filename of the zip file is identical to the filename of the CUE/BIN, CHD, or ISO. (for the PSX core only) The Game ID of the desired game matches the target Game ID of the zip file. If cheats for the CD game do not work when everything else looks correct, it is possible your version of the game is wrong. Making your own codes All types of cheat codes for 16 bit systems and earlier can be decoded into four pieces of information: An address, a compare value, a replace value, and usually a flag to say if the compare value is used or not. The format for a gg file is in binary as 4 32 bit integers in little-endian byte order. For example, if the Address is 0xFF1CA0 and the compare value is 0xB5 and the replace value is 0xFF , the file would look like this: 01 00 00 00 A0 1C FF 00 B5 00 00 00 FF 00 00 00 The first four bytes are little-endian 0x00000001 for \"compare enabled\", the second four are little-endian address, third set are compare value, and fourth is replace value. Note that not all codes use a compare value. For cheats with multiple codes, simply add another 16 bytes at the end of the file in the same format as the first. You can decode game genie codes into these values with tools like this: https://gamehacking.org/system/nes","title":"Cheats"},{"location":"cores/features/cheats/#setup","text":"Cheats should be stored in: cheats/system/rom_filename.zip where system is name of the core like NES, SNES, Genesis, etc... So, for example: cheats/NES/Taboo (USA).zip for the NES ROM Taboo (USA).nes The filename of the zip must match the ROM name exactly. Cheats will be loaded automatically when you load a ROM, and can be enabled and disabled from the menu in supported cores. If the .zip cheat file does not match the ROM name, the cheat engine will automatically check the ROM CRC32 and select the appropriate .zip cheat file with matching CRC32 accordingly. ROM name matching has priority over CRC32 checking. Individual cheats are in .gg format and should be stored in zip files.","title":"Setup"},{"location":"cores/features/cheats/#how-to-use-cheats-with-cd-rom-images","text":"Since CD-ROM images are large, the MiSTer purposefully doesn't do CRC32 hash checks for CD images. You will need to place the cheats you want into the same folder as your cue/bin or CHD file, in order to use cheats with it. Typically the cheat-matching with your CD-ROM image is done by matching the filename of your CUE/BIN, CHD, or ISO with the filename of the cheat zip file. The Playstation core uniquely allows for this method and has an additional method to load the cheat based upon the internal Game ID (e.g. SCUS-94163). Please note, if the cheats do not load, then check the following: The cheat zip file is in the same subfolder as the desired CUE/BIN, CHD, or ISO. The filename of the zip file is identical to the filename of the CUE/BIN, CHD, or ISO. (for the PSX core only) The Game ID of the desired game matches the target Game ID of the zip file. If cheats for the CD game do not work when everything else looks correct, it is possible your version of the game is wrong.","title":"How to use Cheats with CD-ROM images"},{"location":"cores/features/cheats/#making-your-own-codes","text":"All types of cheat codes for 16 bit systems and earlier can be decoded into four pieces of information: An address, a compare value, a replace value, and usually a flag to say if the compare value is used or not. The format for a gg file is in binary as 4 32 bit integers in little-endian byte order. For example, if the Address is 0xFF1CA0 and the compare value is 0xB5 and the replace value is 0xFF , the file would look like this: 01 00 00 00 A0 1C FF 00 B5 00 00 00 FF 00 00 00 The first four bytes are little-endian 0x00000001 for \"compare enabled\", the second four are little-endian address, third set are compare value, and fourth is replace value. Note that not all codes use a compare value. For cheats with multiple codes, simply add another 16 bytes at the end of the file in the same format as the first. You can decode game genie codes into these values with tools like this: https://gamehacking.org/system/nes","title":"Making your own codes"},{"location":"cores/features/rtcsupport/","text":"MiSTer has Real-Time Clock support in many of it's cores. If you have an internet connection or the RTC board installed, these cores will show the correct date and time or be utilised by the core. RTC is supported in following cores and how to test: ao486 (PC) (DATE on MS-DOS prompt) Archie (Acorn Archimedes) (Apps > Alarm) GBA (checked with Pok\u00e9mon Sapphire, wall clock in first room) Gameboy (GB and GBC) (Pok\u00e9mon Gold: set clock, go one room right, set day of week, save, restart; clock is in the menu screen) MSX (\"MSX3\") (DATE on MSX-DOS prompt) BBCMicro (BBC Micro Master 128K) (PRINT TIME$ in BBC Master mode) Menu (on top of the panels) Minimig (Amiga) (Utilities > Clock) NeoGeo (DIP Settings: ON > BOOK KEEPING > CABINET/COIN, check date of log entries) PC8801mk2SR (PC-88) (PRINT DATE$, shows year 85 but month and day are OK, and PRINT TIME$ shows correct time) QL (Sinclair QL) (PRINT DATE$) SNES (Daikaijuu Monogatari II, Tengai Makyou Zero - once set up, you need to reload the core for the clock to take the real time) TSConf (top of Wild Commander screen, also MaxiClock plugin) X68000 (DATE on HUMAN68K prompt) Zet98 (PC-98) (DATE on MS-DOS prompt) ZXNext (ZX Spectrum Next) (main menu in Next mode)","title":"RTC Support"},{"location":"cores/features/rtcsupport/#rtc-is-supported-in-following-cores-and-how-to-test","text":"ao486 (PC) (DATE on MS-DOS prompt) Archie (Acorn Archimedes) (Apps > Alarm) GBA (checked with Pok\u00e9mon Sapphire, wall clock in first room) Gameboy (GB and GBC) (Pok\u00e9mon Gold: set clock, go one room right, set day of week, save, restart; clock is in the menu screen) MSX (\"MSX3\") (DATE on MSX-DOS prompt) BBCMicro (BBC Micro Master 128K) (PRINT TIME$ in BBC Master mode) Menu (on top of the panels) Minimig (Amiga) (Utilities > Clock) NeoGeo (DIP Settings: ON > BOOK KEEPING > CABINET/COIN, check date of log entries) PC8801mk2SR (PC-88) (PRINT DATE$, shows year 85 but month and day are OK, and PRINT TIME$ shows correct time) QL (Sinclair QL) (PRINT DATE$) SNES (Daikaijuu Monogatari II, Tengai Makyou Zero - once set up, you need to reload the core for the clock to take the real time) TSConf (top of Wild Commander screen, also MaxiClock plugin) X68000 (DATE on HUMAN68K prompt) Zet98 (PC-98) (DATE on MS-DOS prompt) ZXNext (ZX Spectrum Next) (main menu in Next mode)","title":"RTC is supported in following cores and how to test:"},{"location":"cores/highlights/atari7800/","text":"","title":"Atari7800"},{"location":"cores/highlights/gb2p/","text":"Game Boy 2-Player Demonstration","title":"Game Boy 2 Player"},{"location":"cores/highlights/gb2p/#game-boy-2-player-demonstration","text":"","title":"Game Boy 2-Player Demonstration"},{"location":"cores/highlights/genesis/","text":"The Genesis core is a port of the fpgagen core to MiSTer, with significant enhancements and additions. The audio filtering options have been adjusted according to real hardware using MDFourier . Features Composite Blending effect (e.g. Sonic Waterfall transparency) CPU Turbo option (e.g. Road Rash gameplay speed) Increase sprite limit. Audio Filtering options for Model 1, Model 2, Minimal, and No Filter Switch between YM2612 (Model 1) or YM3438 (Model 2/3) FM Synth Multitap: 4-way, Team Player, J-Cart SVP Chip (Virtua Racing for Genesis supported) Auto-Region header detection using the new style and the old style combined . Corrected Aspect Ratio option for 320x224 game resolutions (e.g. Castlevania Moon). Region detection There are two methods of region detection. Header: This method detects a character in the header to determine if the game was intended to be played on a Japanese, European, or American version of the console. This method is default and preferred as it is compatible with the entire commercial lineup. This option uses a region priority setting for multi-region games which had \"JUE\" in the header. Whatever the first region is, will be the region set on load of a multi-region game. File Ext: This method changes the region according to the filename extension of the rom. BIN = Japanese GEN = America MD = Europe There is also a region priority list for multi-region games that had multiple region codes in the header. This is useful if you want to specify a certain region to default to in order of first priority to last (e.g. US>JP>EU will try to load multi-region games in US first, then it will load as JP if no US region code is present, then EU if neither is present). YM2612/YM3438 and Genesis Model 1/2 Audio Filtering Corrected Aspect Ratio Example Video Composite Effect Example Video Turbo CPU Example Video","title":"Genesis"},{"location":"cores/highlights/genesis/#features","text":"Composite Blending effect (e.g. Sonic Waterfall transparency) CPU Turbo option (e.g. Road Rash gameplay speed) Increase sprite limit. Audio Filtering options for Model 1, Model 2, Minimal, and No Filter Switch between YM2612 (Model 1) or YM3438 (Model 2/3) FM Synth Multitap: 4-way, Team Player, J-Cart SVP Chip (Virtua Racing for Genesis supported) Auto-Region header detection using the new style and the old style combined . Corrected Aspect Ratio option for 320x224 game resolutions (e.g. Castlevania Moon).","title":"Features"},{"location":"cores/highlights/genesis/#region-detection","text":"There are two methods of region detection. Header: This method detects a character in the header to determine if the game was intended to be played on a Japanese, European, or American version of the console. This method is default and preferred as it is compatible with the entire commercial lineup. This option uses a region priority setting for multi-region games which had \"JUE\" in the header. Whatever the first region is, will be the region set on load of a multi-region game. File Ext: This method changes the region according to the filename extension of the rom. BIN = Japanese GEN = America MD = Europe There is also a region priority list for multi-region games that had multiple region codes in the header. This is useful if you want to specify a certain region to default to in order of first priority to last (e.g. US>JP>EU will try to load multi-region games in US first, then it will load as JP if no US region code is present, then EU if neither is present).","title":"Region detection"},{"location":"cores/highlights/genesis/#ym2612ym3438-and-genesis-model-12-audio-filtering","text":"","title":"YM2612/YM3438 and Genesis Model 1/2 Audio Filtering"},{"location":"cores/highlights/genesis/#corrected-aspect-ratio-example-video","text":"","title":"Corrected Aspect Ratio Example Video"},{"location":"cores/highlights/genesis/#composite-effect-example-video","text":"","title":"Composite Effect Example Video"},{"location":"cores/highlights/genesis/#turbo-cpu-example-video","text":"","title":"Turbo CPU Example Video"},{"location":"cores/highlights/megacd/","text":"The MegaCD core is a MiSTer project original core developed by srg320 (Sergey Dvodnenko) which aims to simulate the Sega CD / Mega CD add-on for the Sega Genesis. It uses the same fpgagen logic and many of the improvements to it made in the MiSTer Genesis core, but adds on a significant chunk of logic that handles the powerful CD addon hardware. Features Almost all features from the Genesis core CUE/BIN support. CHD support. Automatic region detection. Multiple bios capability. Pier Solar support. MSU-MD support. Sega CD Mode 1 Audio - MSU-MD and Pier Solar Support In order to use MSU-MD or to play the Sega CD version of Pier Solar on the MiSTer core the following conditions need to be met: The MegaDrive/Genesis cartridge ROM and the CUE/BIN (or CHD) of the whole game must be placed in the same folder. The MegaDrive/Genesis cartridge ROM must be renamed to cart.rom in order to load it into SDRAM when the CUE/CHD is loaded. In the case of MSU-MD, the ROM must be patched with the correct MSU-MD patch in order for it to tell the core what tracks to play and when. If you meet all of these conditions and the game still doesn't work, then there are a few likely explanations: Your ROM patch is actually an MD+ patch. MD+ is not supported at this time as a format. Your ROM is not patched at all. You didn't rename the cartridge's ROM to cart.rom. Your cue file is incorrect. If a set you have downloaded of MSU-MD ROMs doesn't work, then troubleshoot by applying the patch yourself to a fresh ROM to see if that works instead.","title":"MegaCD"},{"location":"cores/highlights/megacd/#features","text":"Almost all features from the Genesis core CUE/BIN support. CHD support. Automatic region detection. Multiple bios capability. Pier Solar support. MSU-MD support.","title":"Features"},{"location":"cores/highlights/megacd/#sega-cd-mode-1-audio-msu-md-and-pier-solar-support","text":"In order to use MSU-MD or to play the Sega CD version of Pier Solar on the MiSTer core the following conditions need to be met: The MegaDrive/Genesis cartridge ROM and the CUE/BIN (or CHD) of the whole game must be placed in the same folder. The MegaDrive/Genesis cartridge ROM must be renamed to cart.rom in order to load it into SDRAM when the CUE/CHD is loaded. In the case of MSU-MD, the ROM must be patched with the correct MSU-MD patch in order for it to tell the core what tracks to play and when. If you meet all of these conditions and the game still doesn't work, then there are a few likely explanations: Your ROM patch is actually an MD+ patch. MD+ is not supported at this time as a format. Your ROM is not patched at all. You didn't rename the cartridge's ROM to cart.rom. Your cue file is incorrect. If a set you have downloaded of MSU-MD ROMs doesn't work, then troubleshoot by applying the patch yourself to a fresh ROM to see if that works instead.","title":"Sega CD Mode 1 Audio - MSU-MD and Pier Solar Support"},{"location":"cores/highlights/nes/","text":"The Nintendo Entertainment System (NES) MiSTer core is packed full of many features to be explored. There are options like automatic Famicom Disk System (FDS) disk swapping, custom palette loading, overscan and screen edge masking, extra sprites hack, and SNAC (so you could use an original Zapper lightgun on a CRT with analog video output). Extra Sprites mode Some NES games would allow more sprites on the screen than the system was typically designed to allow at one time and the sprites would flicker to keep them on the screen. There was a limit to how many sprites could be on the screen at one time. The NES MiSTer core lets you somewhat remove this limit, reducing the amount of flicker that occurs when many sprites are on the screen in games like Rygar. This does not work with all games that have flicker, some flicker was added intentionally by the original developers for other reasons. Extra Sprites (deflicker) Example Video Palettes The NES core has both built-in palettes and the ability to load custom palettes. You may be wondering why the NES core needs palettes. It's just colors, right? Without going into it here, if you want to learn about NES Palettes, watch this YouTube video by NesHacker , and read the pinned comment there as a couple details were technically inaccurate. Basically, the NES does not have a native palette of colors to work with as the colors were not output in the typical red, green, and blue values like other game consoles. So emulators need to come up with palettes that most closely approximate the original viewing experience. This viewing experience would sometimes vary depending on the tv you were watching on, so multiple palette options are made available. This also makes it possible to do fun and ridiculous palettes just for the sake of it, like the virtual boy palette made by RetroSho. Palettes Example Video Famicom Disk System BIOS boot. Download Blank FDS boot2.rom and then place this in ./games/NES/ . Then when you start the core (assuming you already have the FDS bios placed there and renamed to boot0.rom ) it will boot to the FDS BIOS as if you had a blank disk inserted. Famicom Disk System Blank Disk Boot Example Video","title":"NES"},{"location":"cores/highlights/nes/#extra-sprites-mode","text":"Some NES games would allow more sprites on the screen than the system was typically designed to allow at one time and the sprites would flicker to keep them on the screen. There was a limit to how many sprites could be on the screen at one time. The NES MiSTer core lets you somewhat remove this limit, reducing the amount of flicker that occurs when many sprites are on the screen in games like Rygar. This does not work with all games that have flicker, some flicker was added intentionally by the original developers for other reasons.","title":"Extra Sprites mode"},{"location":"cores/highlights/nes/#extra-sprites-deflicker-example-video","text":"","title":"Extra Sprites (deflicker) Example Video"},{"location":"cores/highlights/nes/#palettes","text":"The NES core has both built-in palettes and the ability to load custom palettes. You may be wondering why the NES core needs palettes. It's just colors, right? Without going into it here, if you want to learn about NES Palettes, watch this YouTube video by NesHacker , and read the pinned comment there as a couple details were technically inaccurate. Basically, the NES does not have a native palette of colors to work with as the colors were not output in the typical red, green, and blue values like other game consoles. So emulators need to come up with palettes that most closely approximate the original viewing experience. This viewing experience would sometimes vary depending on the tv you were watching on, so multiple palette options are made available. This also makes it possible to do fun and ridiculous palettes just for the sake of it, like the virtual boy palette made by RetroSho.","title":"Palettes"},{"location":"cores/highlights/nes/#palettes-example-video","text":"","title":"Palettes Example Video"},{"location":"cores/highlights/nes/#famicom-disk-system-bios-boot","text":"Download Blank FDS boot2.rom and then place this in ./games/NES/ . Then when you start the core (assuming you already have the FDS bios placed there and renamed to boot0.rom ) it will boot to the FDS BIOS as if you had a blank disk inserted.","title":"Famicom Disk System BIOS boot."},{"location":"cores/highlights/nes/#famicom-disk-system-blank-disk-boot-example-video","text":"","title":"Famicom Disk System Blank Disk Boot Example Video"},{"location":"cores/highlights/psx/","text":"The Sony Playstation (PSX) MiSTer core is the most feature-filled and heavily developed core thus far. Multiple controller options, automatic bios region swapping, both memory card slots with manual memory card file loading, modes to increase the speed, and even modes to modify the textures in-game. This core by Robert Peip ( FPGAzumSpass ) took a huge amount of work and is still being worked on actively due to the large task that is writing a PSX emulator in general. Here we will highlight some of the features of the PSX core. Controller Support The MiSTer PSX core supports a very large list of control options that original hardware had available to it. DualShock (Later controller with analog sticks and rumble/vibration capability) Digital Pad (original PSX controller without analog sticks) Analog Pad mode (dual analog sticks mode enabled) GunCon NeGcon (Can also be used as a Steering Wheel using the \"Wheel-NegCon) option in the OSD.) Racing Wheels (some analog racing wheels can be used if you switch to \"Wheel-Analog\" in the OSD.) Mouse Justifier SNAC (there is a special adapter required to use real PSX controller accessories. Memory cards and even the pocketstation can be used in this mode technically) DualShock Support More specifically, the DualShock controller mode is a catch-all solution. Ideally, it will identify what the game requires and it ought to put itself into the correct mode (either Digital or Analog) for compatibility with that game. Some games, when they are on the wrong mode, will not register inputs from your controller. If this happens, switch manually to a different mode (Digital or Analog) and see if the problem goes away. Additionally, just like the original DualShock controller, there is a way to change between digital and analog modes on the controller at the press of a button (or multiple buttons depending on the controller you have). If you have a DualShock 4 or DualSense (5) controller, then you can just press in the touchpad in the center once. That will switch between Analog and Digital modes each time. If you do not have a controller with a PS4/PS5 touchpad on it to click, then you can use either L3+R3+Up/Down or L1+L2+R1+R2+Up/Down to changes modes, depending on the \"DS mode\" setting you have in the OSD. Manual Memory Card Loading You can load Playstation memory card files (.mcd or .sav) manually in the OSD in this core. It is probably best to use the 2nd slot because the default behavior is to occupy the first slot automatically with a blank memory card file. You can also opt out of auto-mounting a blank memory card file to slot 1 by turning off the Automount Memory Card 1 option in the OSD. Finally, if you have a SNAC adapter with a memory card slot connected to it somehow, the core does support real Playstation 1 memory card loading over SNAC. This is supported because the memory cards used the same SPI protocol as the controllers. Libcrypt Support Some games used a kind of copy protection with what was called \"Libcrypt\" and they will not work if it's not circumvented. You can provide an .sbi file to do that. If there is an .sbi file (the whole collection can be downloaded from redump.org) next to a .cue with the same name, it will then be loaded automatically when mounting the CD image. The MiSTer updater automatically downloads these .sbi files so it should not be necessary to download and place them manually. Audio and Video Options Fixed blanks Due to the original playstation having a wide variety of resolution options available to software developers, and due to the fact that some of these software developers made the screen shake in their games by moving the image outside of the bounds of the screen, a solution was necessary to resolve sync loss and get appropriate scaling and stability through resolution changes. Fixed Horizontal blanks (Hblanks) and fixed Vertical blanks (vblanks) were added as options to stabilize the video output to make it more pleasant. If you experience problems with sync or the resolution changes don't look right to you, give these options a try and see if that remedies the problem. It should also be noted that Fixed Horizontal blanks makes everything fit within the original 4:3 aspect ratio of the PSX video output, so it should be turned on in pretty much all situations if you want the original resolution. The Vertical crop options, which are made available when Fixed VBlank is turned on, is similar to the 5x scaling in other cores, but due to the nature of many PSX games using either 224p or 216p, then there have been two options made available for your convenience. A good example of a game that benefits from the Fixed Horizontal Blanks option is Metal Gear Solid. The shaking of the screen in some scenes would cause your modern display to lose sync without the Fixed VBlank option turned on. A good example of a game that benefits from the Fixed Vertical Blanks option is Final Fantasy VII. Horizontal blanks gives you the proper 4:3 aspect ratio first of all, but then will give you a \"jump\" in the resolution when it changes from world map to the battle screen. However, when used in conjunction with Vertical Crop -> On(224/270), you will notice that the transition from the world map to a battle will no longer make a jarring resolution change where the screen position seems to change. Here's an example video that shows the benefits: There are more examples like this out there, you will have to test for yourself to see what works best. Widescreen Modes The MiSTer PSX core has a Widescreen hack mode. There are many games which are 3d only with very little 2d, so you could potentially stretch the visible landscape and not stretch the 3d models. Some games work well with this, while others do not. Your results may vary. There are multiple Aspect Ratios for this hack to leave some options open for various displays and games, 3:2, 5:3, and 16:9 (what most modern displays are). Here's an example using R4 - Ridge Racer Type 4: Dithering On/Off Toggle You can optionally toggle Dithering On and Off. In some games this can cause color banding which can look undesirable, in others it can clean up the checkerboard look without much loss. You will have to find out what is most appropriate. Deinterlacing Methods The MiSTer PSX core supports two methods of deinterlacing the occasional interlaced video on the Playstation. Weave is the default and is often preferred, this gives you the most stable image. Bob is very jittery, but may look better on real CRT's in some situations. Texture Filtering The Playstation didn't have any built-in texture filtering like some other consoles did (Nintendo 64 is a popular example). This means many of the textures had rough edges. In some cases this is fine, but in some games it can be very displeasing. This little trick in the MiSTer PSX core allows you to smooth out the textures on 3d objects if you wish. A good example where this could be used is in Tony Hawk's Pro Skater 2, like in the video below: Screen Rotation If for whatever reason you need to rotate your screen 180\u00b0 you can just go to the Audio and Video options in the OSD and toggle \"Rotate\" to On or Off. Dual SDRAM for the SPU The MiSTer PSX core is the first released core which supports the optional Dual SDRAM modules. This was necessary early in it's development as there wasn't enough bandwidth on one SDRAM module to contain both the test roms and small games and to store other components that were needed to be placed in SDRAM at the same time. You are not required to have Dual SDRAM on the PSX core for quite some time now, and the official release is a Single SDRAM build that is compatible with the Analog IO board. Enabling this option while a game is running will most likely crash the game. If you have a Dual SDRAM build of the core and you enable this option, you will likely have to reset the game to get it to work. There is only one humanly imperceptible difference in using the Dual SDRAM build of the MiSTer PSX core known. The audio samples are measurably more accurate to a tiny fraction of a millisecond. The human ear can't tell that 1 or 2 out of 44,100 samples per second were dropped. This option to use Dual SDRAM for the SPU is disabled by default in the releases of the core. To get a special release with Dual SDRAM support currently you can either open the Quartus Project File (.qpf) with the name \"PSX_DualSDRAM.qpf\" using Quartus 17.0.2 and compile the core, or you can get the latest Test Build from the MiSTer FPGA Discord in the #test-builds channel. Miscellaneous Options These are the speedhacks in the MiSTer PSX core which will allow you to improve the performance of Playstation games, while potentially sacrificing some compatibility. Fastboot Fast boot bypasses the BIOS boot logo and screen when starting a game. This can make it a lot quicker to get into the game, however there are a small number of games where it may lead to bugs and other compatibility issues. If you notice bugs in a game, try to turn off fastboot before submitting a bug report about the core first. CD Fast Seek The CD drive in a real Playstation had a delay when the motor had to move the laser to the correct position. This speedhack removes that simulated delay from the MiSTer PSX core. This can potentially cause some compatibility issues, so if you notice any bugs in a game, try to turn off the CD Fast Seek option before submitting a bug report about the core first. Data Cache The Data Cache option is a very powerful speedhack which can dramatically improve the stability and speed of the framerate of some 3d games (and a few 2d games) on the MiSTer PSX core. The original playstation did not have a data cache. Data cache are ways for CPU to store more frequently accessed data in a much faster type of memory than what is available on the motherboard. This is more of a \"what if\" type of speedhack. When you enable the Data Cache option, you will need to keep it turned on in order to keep playing the game. If you turn it off it may freeze the game until you turn it back on, or it might crash the game on the spot. If you notice bugs in a game, try to turn off Data Cache before submitting a bug report about the core first. Using cheats on the MiSTer PSX core Cheats on the PSX are a little bit different than other MiSTer cores' cheats implementation in how they are detected. With other cores, the cheat file has a CRC32 hash in the filename, and this is checked against the crc32 hash of the ROM that is loaded. This is not the case with PSX (or other CD-based cores with Cheats support either). Because CD images are so large, doing a crc32 check on them would take too long, so the internal Game ID is scanned for instead and the cheats file with the same internal Game ID is loaded. So Final Fantasy VII Disc 1 gets loaded, MiSTer detects that it is Game ID SCUS-94163, and MiSTer loads the cheats file named SCUS-94163.zip from ./cheats/PSX/ . Note that when the Data Cache enhancement is enabled in the OSD, cheats are disabled and will not function. This is by design. Error Messages If there is a problem recognized by the MiSTer PSX core, an error overlay is displayed, showing which error has occured. You can hide these messages with the \"Error Overlay\" OSD option, by default they are on. List of Errors: E2 - CPU exception(only relevant if game shows issues) E3 thru E6 - GPU hangs (e.g. corrupt display list) E7 - CPU2VRAM with mask-AND enabled E8 - DMA chopping enabled E9 - GPU FIFO overflow EA - SPU timeout EB - DMA and CPU interlock error EC - DMA FIFO overflow ED - CPU Data/Bus request timeout -> will also appear if the BIOS is not found or corrupt or no SDRAM module is installed EE - Dotclock used as timer report(only relevant if game shows issues)","title":"PSX"},{"location":"cores/highlights/psx/#controller-support","text":"The MiSTer PSX core supports a very large list of control options that original hardware had available to it. DualShock (Later controller with analog sticks and rumble/vibration capability) Digital Pad (original PSX controller without analog sticks) Analog Pad mode (dual analog sticks mode enabled) GunCon NeGcon (Can also be used as a Steering Wheel using the \"Wheel-NegCon) option in the OSD.) Racing Wheels (some analog racing wheels can be used if you switch to \"Wheel-Analog\" in the OSD.) Mouse Justifier SNAC (there is a special adapter required to use real PSX controller accessories. Memory cards and even the pocketstation can be used in this mode technically)","title":"Controller Support"},{"location":"cores/highlights/psx/#dualshock-support","text":"More specifically, the DualShock controller mode is a catch-all solution. Ideally, it will identify what the game requires and it ought to put itself into the correct mode (either Digital or Analog) for compatibility with that game. Some games, when they are on the wrong mode, will not register inputs from your controller. If this happens, switch manually to a different mode (Digital or Analog) and see if the problem goes away. Additionally, just like the original DualShock controller, there is a way to change between digital and analog modes on the controller at the press of a button (or multiple buttons depending on the controller you have). If you have a DualShock 4 or DualSense (5) controller, then you can just press in the touchpad in the center once. That will switch between Analog and Digital modes each time. If you do not have a controller with a PS4/PS5 touchpad on it to click, then you can use either L3+R3+Up/Down or L1+L2+R1+R2+Up/Down to changes modes, depending on the \"DS mode\" setting you have in the OSD.","title":"DualShock Support"},{"location":"cores/highlights/psx/#manual-memory-card-loading","text":"You can load Playstation memory card files (.mcd or .sav) manually in the OSD in this core. It is probably best to use the 2nd slot because the default behavior is to occupy the first slot automatically with a blank memory card file. You can also opt out of auto-mounting a blank memory card file to slot 1 by turning off the Automount Memory Card 1 option in the OSD. Finally, if you have a SNAC adapter with a memory card slot connected to it somehow, the core does support real Playstation 1 memory card loading over SNAC. This is supported because the memory cards used the same SPI protocol as the controllers.","title":"Manual Memory Card Loading"},{"location":"cores/highlights/psx/#libcrypt-support","text":"Some games used a kind of copy protection with what was called \"Libcrypt\" and they will not work if it's not circumvented. You can provide an .sbi file to do that. If there is an .sbi file (the whole collection can be downloaded from redump.org) next to a .cue with the same name, it will then be loaded automatically when mounting the CD image. The MiSTer updater automatically downloads these .sbi files so it should not be necessary to download and place them manually.","title":"Libcrypt Support"},{"location":"cores/highlights/psx/#audio-and-video-options","text":"","title":"Audio and Video Options"},{"location":"cores/highlights/psx/#fixed-blanks","text":"Due to the original playstation having a wide variety of resolution options available to software developers, and due to the fact that some of these software developers made the screen shake in their games by moving the image outside of the bounds of the screen, a solution was necessary to resolve sync loss and get appropriate scaling and stability through resolution changes. Fixed Horizontal blanks (Hblanks) and fixed Vertical blanks (vblanks) were added as options to stabilize the video output to make it more pleasant. If you experience problems with sync or the resolution changes don't look right to you, give these options a try and see if that remedies the problem. It should also be noted that Fixed Horizontal blanks makes everything fit within the original 4:3 aspect ratio of the PSX video output, so it should be turned on in pretty much all situations if you want the original resolution. The Vertical crop options, which are made available when Fixed VBlank is turned on, is similar to the 5x scaling in other cores, but due to the nature of many PSX games using either 224p or 216p, then there have been two options made available for your convenience. A good example of a game that benefits from the Fixed Horizontal Blanks option is Metal Gear Solid. The shaking of the screen in some scenes would cause your modern display to lose sync without the Fixed VBlank option turned on. A good example of a game that benefits from the Fixed Vertical Blanks option is Final Fantasy VII. Horizontal blanks gives you the proper 4:3 aspect ratio first of all, but then will give you a \"jump\" in the resolution when it changes from world map to the battle screen. However, when used in conjunction with Vertical Crop -> On(224/270), you will notice that the transition from the world map to a battle will no longer make a jarring resolution change where the screen position seems to change. Here's an example video that shows the benefits: There are more examples like this out there, you will have to test for yourself to see what works best.","title":"Fixed blanks"},{"location":"cores/highlights/psx/#widescreen-modes","text":"The MiSTer PSX core has a Widescreen hack mode. There are many games which are 3d only with very little 2d, so you could potentially stretch the visible landscape and not stretch the 3d models. Some games work well with this, while others do not. Your results may vary. There are multiple Aspect Ratios for this hack to leave some options open for various displays and games, 3:2, 5:3, and 16:9 (what most modern displays are). Here's an example using R4 - Ridge Racer Type 4:","title":"Widescreen Modes"},{"location":"cores/highlights/psx/#dithering-onoff-toggle","text":"You can optionally toggle Dithering On and Off. In some games this can cause color banding which can look undesirable, in others it can clean up the checkerboard look without much loss. You will have to find out what is most appropriate.","title":"Dithering On/Off Toggle"},{"location":"cores/highlights/psx/#deinterlacing-methods","text":"The MiSTer PSX core supports two methods of deinterlacing the occasional interlaced video on the Playstation. Weave is the default and is often preferred, this gives you the most stable image. Bob is very jittery, but may look better on real CRT's in some situations.","title":"Deinterlacing Methods"},{"location":"cores/highlights/psx/#texture-filtering","text":"The Playstation didn't have any built-in texture filtering like some other consoles did (Nintendo 64 is a popular example). This means many of the textures had rough edges. In some cases this is fine, but in some games it can be very displeasing. This little trick in the MiSTer PSX core allows you to smooth out the textures on 3d objects if you wish. A good example where this could be used is in Tony Hawk's Pro Skater 2, like in the video below:","title":"Texture Filtering"},{"location":"cores/highlights/psx/#screen-rotation","text":"If for whatever reason you need to rotate your screen 180\u00b0 you can just go to the Audio and Video options in the OSD and toggle \"Rotate\" to On or Off.","title":"Screen Rotation"},{"location":"cores/highlights/psx/#dual-sdram-for-the-spu","text":"The MiSTer PSX core is the first released core which supports the optional Dual SDRAM modules. This was necessary early in it's development as there wasn't enough bandwidth on one SDRAM module to contain both the test roms and small games and to store other components that were needed to be placed in SDRAM at the same time. You are not required to have Dual SDRAM on the PSX core for quite some time now, and the official release is a Single SDRAM build that is compatible with the Analog IO board. Enabling this option while a game is running will most likely crash the game. If you have a Dual SDRAM build of the core and you enable this option, you will likely have to reset the game to get it to work. There is only one humanly imperceptible difference in using the Dual SDRAM build of the MiSTer PSX core known. The audio samples are measurably more accurate to a tiny fraction of a millisecond. The human ear can't tell that 1 or 2 out of 44,100 samples per second were dropped. This option to use Dual SDRAM for the SPU is disabled by default in the releases of the core. To get a special release with Dual SDRAM support currently you can either open the Quartus Project File (.qpf) with the name \"PSX_DualSDRAM.qpf\" using Quartus 17.0.2 and compile the core, or you can get the latest Test Build from the MiSTer FPGA Discord in the #test-builds channel.","title":"Dual SDRAM for the SPU"},{"location":"cores/highlights/psx/#miscellaneous-options","text":"These are the speedhacks in the MiSTer PSX core which will allow you to improve the performance of Playstation games, while potentially sacrificing some compatibility.","title":"Miscellaneous Options"},{"location":"cores/highlights/psx/#fastboot","text":"Fast boot bypasses the BIOS boot logo and screen when starting a game. This can make it a lot quicker to get into the game, however there are a small number of games where it may lead to bugs and other compatibility issues. If you notice bugs in a game, try to turn off fastboot before submitting a bug report about the core first.","title":"Fastboot"},{"location":"cores/highlights/psx/#cd-fast-seek","text":"The CD drive in a real Playstation had a delay when the motor had to move the laser to the correct position. This speedhack removes that simulated delay from the MiSTer PSX core. This can potentially cause some compatibility issues, so if you notice any bugs in a game, try to turn off the CD Fast Seek option before submitting a bug report about the core first.","title":"CD Fast Seek"},{"location":"cores/highlights/psx/#data-cache","text":"The Data Cache option is a very powerful speedhack which can dramatically improve the stability and speed of the framerate of some 3d games (and a few 2d games) on the MiSTer PSX core. The original playstation did not have a data cache. Data cache are ways for CPU to store more frequently accessed data in a much faster type of memory than what is available on the motherboard. This is more of a \"what if\" type of speedhack. When you enable the Data Cache option, you will need to keep it turned on in order to keep playing the game. If you turn it off it may freeze the game until you turn it back on, or it might crash the game on the spot. If you notice bugs in a game, try to turn off Data Cache before submitting a bug report about the core first.","title":"Data Cache"},{"location":"cores/highlights/psx/#using-cheats-on-the-mister-psx-core","text":"Cheats on the PSX are a little bit different than other MiSTer cores' cheats implementation in how they are detected. With other cores, the cheat file has a CRC32 hash in the filename, and this is checked against the crc32 hash of the ROM that is loaded. This is not the case with PSX (or other CD-based cores with Cheats support either). Because CD images are so large, doing a crc32 check on them would take too long, so the internal Game ID is scanned for instead and the cheats file with the same internal Game ID is loaded. So Final Fantasy VII Disc 1 gets loaded, MiSTer detects that it is Game ID SCUS-94163, and MiSTer loads the cheats file named SCUS-94163.zip from ./cheats/PSX/ . Note that when the Data Cache enhancement is enabled in the OSD, cheats are disabled and will not function. This is by design.","title":"Using cheats on the MiSTer PSX core"},{"location":"cores/highlights/psx/#error-messages","text":"If there is a problem recognized by the MiSTer PSX core, an error overlay is displayed, showing which error has occured. You can hide these messages with the \"Error Overlay\" OSD option, by default they are on. List of Errors: E2 - CPU exception(only relevant if game shows issues) E3 thru E6 - GPU hangs (e.g. corrupt display list) E7 - CPU2VRAM with mask-AND enabled E8 - DMA chopping enabled E9 - GPU FIFO overflow EA - SPU timeout EB - DMA and CPU interlock error EC - DMA FIFO overflow ED - CPU Data/Bus request timeout -> will also appear if the BIOS is not found or corrupt or no SDRAM module is installed EE - Dotclock used as timer report(only relevant if game shows issues)","title":"Error Messages"},{"location":"cores/highlights/snes/","text":"The Super Nintendo Entertainment System (or SNES) MiSTer core has multiple features like CPU and Super FX chip turbo mode, lightgun support, mouse support, and even changing the WRAM initialization value. In addition to this, it also has support for nearly every single enhancement chip released. It is a very powerful core that was primarily developed by srg320 when he didn't even have original hardware. Enhancement Chip Support Here are the SNES enhancement chips currently supported with some example games they were used in: Super FX AKA GSU-1 (Star Fox, Star Fox 2, Stunt Race FX) Super FX 2 AKA GSU-2 (Super Mario World 2: Yoshi's Island, Doom) CX4 (Only in Mega Man X 2 and Mega Man X 3) DSP-1 (Super Mario Kart and Pilotwings) DSP-2 (Only in Dungeon Master) DSP-3 (Only in SD Gundam GX) DSP-4 (Only in Top Gear 3000) OBC-1 (Only used in Metal Combat: Falcon's Revenge) S-DD1 (Only used in Star Ocean and Street Fighter Alpha 2) SA-1 (Kirby Series, Super Mario RPG) SPC7110 (Far East of Eden Zero, Large Shell beast Story 2) ST1010 (F1 Roc 2 - Race of Champions) S-RTC (Daikaiju Monogatari II) Currently the only enhancement chips not supported are GB-Z80 (Super Game Boy), MX15001TFC (Nintendo Power Flash Cartridges), ST011 (Hayazashi Nidan Morita Shougi), and ST018 (Hayazashi Nidan Morita Shougi 2). This is mostly because the core is already near the limit of what the DE10-Nano's Cyclone V is capable of fitting into it's design. SNES Enancement Chip Example Video Satellaview Support This core also supports Satellaview. You just need the BSX/BS-X rom placed into the ./games/SNES/ folder and renamed to bsx_bios.rom . The core used to require patched versions of the rom to run, but every original Satellaview ROM that didn't require an internet connection, extra peripherals, or something like that will run now without patches. BS-X Satellaview Example Video Super FX Turbo The MiSTer SNES core has a Super FX Turbo option which overclocks the Super FX chip so games run a little faster. Combined with the Turbo CPU option games like Star Fox will have a higher framerate. However, the game will run faster than intended so your results may vary. It is also important to note that the use of such hacks may increase the likelihood of bugs occurring, so please do not report bugs when using Turbo options. Super FX Turbo Example Video","title":"SNES"},{"location":"cores/highlights/snes/#enhancement-chip-support","text":"Here are the SNES enhancement chips currently supported with some example games they were used in: Super FX AKA GSU-1 (Star Fox, Star Fox 2, Stunt Race FX) Super FX 2 AKA GSU-2 (Super Mario World 2: Yoshi's Island, Doom) CX4 (Only in Mega Man X 2 and Mega Man X 3) DSP-1 (Super Mario Kart and Pilotwings) DSP-2 (Only in Dungeon Master) DSP-3 (Only in SD Gundam GX) DSP-4 (Only in Top Gear 3000) OBC-1 (Only used in Metal Combat: Falcon's Revenge) S-DD1 (Only used in Star Ocean and Street Fighter Alpha 2) SA-1 (Kirby Series, Super Mario RPG) SPC7110 (Far East of Eden Zero, Large Shell beast Story 2) ST1010 (F1 Roc 2 - Race of Champions) S-RTC (Daikaiju Monogatari II) Currently the only enhancement chips not supported are GB-Z80 (Super Game Boy), MX15001TFC (Nintendo Power Flash Cartridges), ST011 (Hayazashi Nidan Morita Shougi), and ST018 (Hayazashi Nidan Morita Shougi 2). This is mostly because the core is already near the limit of what the DE10-Nano's Cyclone V is capable of fitting into it's design.","title":"Enhancement Chip Support"},{"location":"cores/highlights/snes/#snes-enancement-chip-example-video","text":"","title":"SNES Enancement Chip Example Video"},{"location":"cores/highlights/snes/#satellaview-support","text":"This core also supports Satellaview. You just need the BSX/BS-X rom placed into the ./games/SNES/ folder and renamed to bsx_bios.rom . The core used to require patched versions of the rom to run, but every original Satellaview ROM that didn't require an internet connection, extra peripherals, or something like that will run now without patches.","title":"Satellaview Support"},{"location":"cores/highlights/snes/#bs-x-satellaview-example-video","text":"","title":"BS-X Satellaview Example Video"},{"location":"cores/highlights/snes/#super-fx-turbo","text":"The MiSTer SNES core has a Super FX Turbo option which overclocks the Super FX chip so games run a little faster. Combined with the Turbo CPU option games like Star Fox will have a higher framerate. However, the game will run faster than intended so your results may vary. It is also important to note that the use of such hacks may increase the likelihood of bugs occurring, so please do not report bugs when using Turbo options.","title":"Super FX Turbo"},{"location":"cores/highlights/snes/#super-fx-turbo-example-video","text":"","title":"Super FX Turbo Example Video"},{"location":"cores/highlights/tgfx16/","text":"The MiSTer TurboGrafx16 core is an extremely accurate TurboGrafx 16 / PC-Engine hardware based emulator. Originally based upon Gregory \"Torlus\" Estrade's FPGAPCE , it has been pushed even further to a high degree of accuracy by the best MiSTer devs and PC-Engine experts. The MiSTer TurboGrafx16 core has support for SuperGrafx, CD-ROM, and Arcade Cards. Controller Options In the OSD you are able to change the intended simulation of the controller you are using in various ways. For Pachio-Kun there was a pachinko style controller which had an angled slider to adjust the angle of the pachinko balls in-game. You can use a mouse for this movement instead. The Turbo Tap controller is also supported. This is distinct from the MiSTer's built-in Turbo feature. The Turbo Tap had a specific turbo frequency that is more suitable for some games. Enablingt his option will make the buttons use turbo at the original rate of that controller. There is also a toggle so you can change to the rarely used PC-Engine 6-button controller. There was a controller called the \"HORI Fighting Commander PC\" and a couple other controllers with this I - VI button scheme and turbo tap functionality on each of them. This 6-button controller was only supported on a select few games. Here's a list of these 6-button supported games: Advanced Variable Geo Art of Fighting Asuka 120% Maxima Burning Fest Fatal Fury 2 Fatal Fury Special Flash Hiders Flash Hiders Taikenban (Demo) Kabuki Klash World Heroes II Ys IV - Dawn of Ys Arcade card There are a few TurboGrafx16 games which required the Arcade card add-on. The MiSTer core supports running these, all you have to do is toggle the \"Arcade Card\" option to \"Enabled\" in the \"Hardware\" sub-menu, then it should work. Color palette options The composite video encoder of the original TurboGrafx-16 modified the colors from their raw RGB values. What this means is, how you saw the colors on real hardware on an old CRT years ago, is not how it looked in emulators today or even RGB-modded original hardware! Thankfully Kitrinx and Artemio Urbina worked to develop a mathematically derived color corrected palette that represents the composite video output instead. The games were likely developed with these composite colors in mind, so this option is kept as the default. If you want a more vibrant color with a lot of pop, then you can switch to the Raw RGB setting instead by toggling the Audio & Video --> Colors option. Here's a video demonstrating how to change this option and the big difference it makes: Overscan / Border and Border Color The original TurboGrafx-16 had a border that was mostly not visible to the original player due to the bezel of their CRT covering this empty space. In the MiSTer TGFX16 core we leave this overscan area hidden to make it more pleasant on modern displays. If you wish to restore this overscan and if you wish to use the original system's color (instead of just Black) for it, you can just change the Overscan and Border Color options. Extra Sprites per Line The original TurboGrafx-16 hardware had a hard limit to how many sprites could be rendered per line at a time, so when a game went over this limit they would flicker and disappear to compensate. The MiSTer core isn't forced to adhere to these limitations. While the default behavior is the same as the hardware you can turn this option to \"Extra\" in the OSD's Audio & Video sub-menu and see if it makes the game more pleasant. Here's a video example: Audio Boost options Some games had varying levels of audio when compared to each other, and even to their own separate audio channels. The MiSTer TurboGrafx16 core allows you to Boost the CD Audio, ADPCM, and all Audio by varying degrees. This can help when the vocals are quieter than the music, or when some sound effects feel like they should be louder, or even if a game is randomly just a lot quieter on the whole than the other games you were just playing.","title":"TurboGrafx-16"},{"location":"cores/highlights/tgfx16/#controller-options","text":"In the OSD you are able to change the intended simulation of the controller you are using in various ways. For Pachio-Kun there was a pachinko style controller which had an angled slider to adjust the angle of the pachinko balls in-game. You can use a mouse for this movement instead. The Turbo Tap controller is also supported. This is distinct from the MiSTer's built-in Turbo feature. The Turbo Tap had a specific turbo frequency that is more suitable for some games. Enablingt his option will make the buttons use turbo at the original rate of that controller. There is also a toggle so you can change to the rarely used PC-Engine 6-button controller. There was a controller called the \"HORI Fighting Commander PC\" and a couple other controllers with this I - VI button scheme and turbo tap functionality on each of them. This 6-button controller was only supported on a select few games. Here's a list of these 6-button supported games: Advanced Variable Geo Art of Fighting Asuka 120% Maxima Burning Fest Fatal Fury 2 Fatal Fury Special Flash Hiders Flash Hiders Taikenban (Demo) Kabuki Klash World Heroes II Ys IV - Dawn of Ys","title":"Controller Options"},{"location":"cores/highlights/tgfx16/#arcade-card","text":"There are a few TurboGrafx16 games which required the Arcade card add-on. The MiSTer core supports running these, all you have to do is toggle the \"Arcade Card\" option to \"Enabled\" in the \"Hardware\" sub-menu, then it should work.","title":"Arcade card"},{"location":"cores/highlights/tgfx16/#color-palette-options","text":"The composite video encoder of the original TurboGrafx-16 modified the colors from their raw RGB values. What this means is, how you saw the colors on real hardware on an old CRT years ago, is not how it looked in emulators today or even RGB-modded original hardware! Thankfully Kitrinx and Artemio Urbina worked to develop a mathematically derived color corrected palette that represents the composite video output instead. The games were likely developed with these composite colors in mind, so this option is kept as the default. If you want a more vibrant color with a lot of pop, then you can switch to the Raw RGB setting instead by toggling the Audio & Video --> Colors option. Here's a video demonstrating how to change this option and the big difference it makes:","title":"Color palette options"},{"location":"cores/highlights/tgfx16/#overscan-border-and-border-color","text":"The original TurboGrafx-16 had a border that was mostly not visible to the original player due to the bezel of their CRT covering this empty space. In the MiSTer TGFX16 core we leave this overscan area hidden to make it more pleasant on modern displays. If you wish to restore this overscan and if you wish to use the original system's color (instead of just Black) for it, you can just change the Overscan and Border Color options.","title":"Overscan / Border and Border Color"},{"location":"cores/highlights/tgfx16/#extra-sprites-per-line","text":"The original TurboGrafx-16 hardware had a hard limit to how many sprites could be rendered per line at a time, so when a game went over this limit they would flicker and disappear to compensate. The MiSTer core isn't forced to adhere to these limitations. While the default behavior is the same as the hardware you can turn this option to \"Extra\" in the OSD's Audio & Video sub-menu and see if it makes the game more pleasant. Here's a video example:","title":"Extra Sprites per Line"},{"location":"cores/highlights/tgfx16/#audio-boost-options","text":"Some games had varying levels of audio when compared to each other, and even to their own separate audio channels. The MiSTer TurboGrafx16 core allows you to Boost the CD Audio, ADPCM, and all Audio by varying degrees. This can help when the vocals are quieter than the music, or when some sound effects feel like they should be louder, or even if a game is randomly just a lot quieter on the whole than the other games you were just playing.","title":"Audio Boost options"},{"location":"developer/analogsim/","text":"Article by MiSTer core developer Jegor van Opdorp (SupraDeus/jopdorp) Many old computers have analog parts, for example audio boards that have partly analog synthesis and old desktop computers with tape input. Currently there is no convenient way to directly simulate electronic circuits, for example based in their spice netlists, in real time on the MiSTer. So to implement these type of circuits in fpga, you will have to come up with some kind of simulation of the behavior of the electronic circuit. The Arcade-Battlezone core is an example of a core with analog sound synthesis. A way to approach the problem: Find youtube video's of people playing the actual game, to get some idea of the sounds it has. Play the game in an emulator, paying extra attention to sounds that do not sound the same in the emulator as in the video of the actual machine. Identify the digital and analog parts of the schematic. One thing to keep in mind is that the digital parts run at the system clock speed, or sometimes a separate clock source that is closer to the audible frequency spectrum, in Arcade Battlezone there is a 12khz input to a digital noise circuit, of which the output goes into and analog integrator circuit. This creates an axplosion sound. The implementation of this sound is listed at \"inverting amplifier\" below. The analog parts will be outputting at audio sample rate, i.e. 48khz Implement all the digital parts, common digital components in sound systems are: linear feedback shift register: An implementation of a similar circuit in arcade battlezone can be found here : flipflops, like the jk flipflop, implemented here : Identify analog circuits with isolated behavior, i.e. 1 input, 1 output. These can be individually implemented and tested. Identify common, easily recognisable and implementable parts, such as: low pass filters This can be implemented using an iir low pass filter, you can find the parameters using this spreadsheet Some implementations of iir filters: Blockade Low Pass Filter Blockade Infinite Impulse Response (IIR) 1st Order Filter A simpler type: Blockade Infinite Impulse Response (IIR) Filter high pass filters inverting amplifiers This is essentially a sign inversion of the sample, followed by a (fixed sign) multiplication. non inverting amplifiers This is just a (fixed sign) multiplication of the sample differential amplifiers inverting integrators or This is essentially a sign inversion of the sample, followed by a multiplication, with the result being stored in a reg. The multiplication is run repeatedly, each audio clock cycle, Resulting in a \"release/decay\" type amplifier envelope. An example of an implementation of this can be found here other common opamp circuits additive mixers An additive mixer just adds up/averages two signals. If the resistance is higher for one signal than the other, this will result in a volume difference between them. All the parts that are going to need more attention, make note of what these parts are an try to guess what they are for. Differentiators and integrators combined with 555 timers and noise inputs can be tricky. Implement the mixers Implement the filters Implement the difficult parts of the circuit: Implement the circuit in a simlator. Figure out what input goes into the circuit when the game gets played. Run the simulation with the correct input and save the output as a wav file Analyse the output by looking at it in a wave editor like audacity and listening to it. Is the input always the same? (not noise as input) Does the circuit always response in the same way? (not generating noise) Sample the output of the simulation Convert the sample into an array literal and trigger it as needed, usually the sample will just be triggered by a pulse in this case. If the analog circuit has noise as input or has variable inputs such as a number controlled frequency or speed you will need to: make a mathematical model of the analog circuit. implement the model in an easy to use programming language such as python compare the output of the mathematical model with the output of the circuit simulation using the same inputs. They have to be close, but not identical, but they should be identical to the hearing. rework your mathematical model to not have to use any dividers in real time, this is done in two steps by algebra by precalculating any left-over divisions into division lookup-tables you can also create other kind of lookup tables, for example a sine wave. implement the mathematical model in HDL verify the outputs of the HDL with a tesbench hook up the chip to the rest of our core! Handy links: Developer journeys of analog circuit implementations MiSTer - Head On Informational resources For finding the right values of a filter: https://www.micromodeler.com/dsp/ Common operational amplifier uses, such as differentiators and integrators: https://en.wikipedia.org/wiki/Operational_amplifier_applications Explanation of how 555 timers work: https://www.electronics-tutorials.ws/waveforms/555_oscillator.html Spice programming https://www.allaboutcircuits.com/textbook/reference/chpt-7/fundamentals-spice-programming/ Code examples example of a noise-based sound python implementation in a notebook example of a piece of python code that generates a lookup table example of a common digital noise generator example of a sine-based sound that takes noise as input example of a script that can take the output of a spice simulation and generate a wav file from it example of a spice netlist for a noise based sound Tooling https://www.falstad.com/circuit/ http://ngspice.sourceforge.net/ https://www.audacityteam.org/","title":"Analog Simulation"},{"location":"developer/analogsim/#a-way-to-approach-the-problem","text":"Find youtube video's of people playing the actual game, to get some idea of the sounds it has. Play the game in an emulator, paying extra attention to sounds that do not sound the same in the emulator as in the video of the actual machine. Identify the digital and analog parts of the schematic. One thing to keep in mind is that the digital parts run at the system clock speed, or sometimes a separate clock source that is closer to the audible frequency spectrum, in Arcade Battlezone there is a 12khz input to a digital noise circuit, of which the output goes into and analog integrator circuit. This creates an axplosion sound. The implementation of this sound is listed at \"inverting amplifier\" below. The analog parts will be outputting at audio sample rate, i.e. 48khz Implement all the digital parts, common digital components in sound systems are: linear feedback shift register: An implementation of a similar circuit in arcade battlezone can be found here : flipflops, like the jk flipflop, implemented here : Identify analog circuits with isolated behavior, i.e. 1 input, 1 output. These can be individually implemented and tested. Identify common, easily recognisable and implementable parts, such as: low pass filters This can be implemented using an iir low pass filter, you can find the parameters using this spreadsheet Some implementations of iir filters: Blockade Low Pass Filter Blockade Infinite Impulse Response (IIR) 1st Order Filter A simpler type: Blockade Infinite Impulse Response (IIR) Filter high pass filters inverting amplifiers This is essentially a sign inversion of the sample, followed by a (fixed sign) multiplication. non inverting amplifiers This is just a (fixed sign) multiplication of the sample differential amplifiers inverting integrators or This is essentially a sign inversion of the sample, followed by a multiplication, with the result being stored in a reg. The multiplication is run repeatedly, each audio clock cycle, Resulting in a \"release/decay\" type amplifier envelope. An example of an implementation of this can be found here other common opamp circuits additive mixers An additive mixer just adds up/averages two signals. If the resistance is higher for one signal than the other, this will result in a volume difference between them. All the parts that are going to need more attention, make note of what these parts are an try to guess what they are for. Differentiators and integrators combined with 555 timers and noise inputs can be tricky. Implement the mixers Implement the filters Implement the difficult parts of the circuit: Implement the circuit in a simlator. Figure out what input goes into the circuit when the game gets played. Run the simulation with the correct input and save the output as a wav file Analyse the output by looking at it in a wave editor like audacity and listening to it. Is the input always the same? (not noise as input) Does the circuit always response in the same way? (not generating noise) Sample the output of the simulation Convert the sample into an array literal and trigger it as needed, usually the sample will just be triggered by a pulse in this case. If the analog circuit has noise as input or has variable inputs such as a number controlled frequency or speed you will need to: make a mathematical model of the analog circuit. implement the model in an easy to use programming language such as python compare the output of the mathematical model with the output of the circuit simulation using the same inputs. They have to be close, but not identical, but they should be identical to the hearing. rework your mathematical model to not have to use any dividers in real time, this is done in two steps by algebra by precalculating any left-over divisions into division lookup-tables you can also create other kind of lookup tables, for example a sine wave. implement the mathematical model in HDL verify the outputs of the HDL with a tesbench hook up the chip to the rest of our core!","title":"A way to approach the problem:"},{"location":"developer/analogsim/#handy-links","text":"","title":"Handy links:"},{"location":"developer/analogsim/#developer-journeys-of-analog-circuit-implementations","text":"MiSTer - Head On","title":"Developer journeys of analog circuit implementations"},{"location":"developer/analogsim/#informational-resources","text":"For finding the right values of a filter: https://www.micromodeler.com/dsp/ Common operational amplifier uses, such as differentiators and integrators: https://en.wikipedia.org/wiki/Operational_amplifier_applications Explanation of how 555 timers work: https://www.electronics-tutorials.ws/waveforms/555_oscillator.html Spice programming https://www.allaboutcircuits.com/textbook/reference/chpt-7/fundamentals-spice-programming/","title":"Informational resources"},{"location":"developer/analogsim/#code-examples","text":"example of a noise-based sound python implementation in a notebook example of a piece of python code that generates a lookup table example of a common digital noise generator example of a sine-based sound that takes noise as input example of a script that can take the output of a spice simulation and generate a wav file from it example of a spice netlist for a noise based sound","title":"Code examples"},{"location":"developer/analogsim/#tooling","text":"https://www.falstad.com/circuit/ http://ngspice.sourceforge.net/ https://www.audacityteam.org/","title":"Tooling"},{"location":"developer/arcade_video/","text":"Arcade video is used mostly in arcade cores. It has some useful helpers to optionaly turn on scandoubler (based on the ini settings), deals with rotation on HDMI, and can optionally handle GAMMA, and different color widths. Instantiating arcade_video The module has a few parameters that are used to set it up. WIDTH - the width of one scanline DW - width of pixels. most arcades don't use a full 24 bits 6 : 2R 2G 2B 8 : 3R 3G 2B 9 : 3R 3G 3B 12 : 4R 4G 4B 24 : 8R 8G 8B GAMMA - allow gamma controls The clk_video needs to be 4x the ce_pix and above 40MHZ. input clk_video , input ce_pix , The FX parameter uses the output of status[5:3] in this example of a config string: \"O35,Scandoubler Fx,None,HQ2x,CRT 25%,CRT 50%,CRT 75%;\", Rotating vertical games Optionally, we add the screen_rotate and pass in whether the game needs to rotate ccw or cw. Screen rotate uses DDRAM for the framebuffer for rotation. If your core needs DDRAM for something else, see MCR3 for an example that uses DDRAM for an audio file and for the screen_rotate. Use this ddram: ddram instead of screen_rotate. screen_rotate screen_rotate ( . * , . rotate_ccw ( ccw ) ); module arcade_video #( parameter WIDTH = 320 , DW = 8 , GAMMA = 1 ) ( input clk_video , input ce_pix , input [ DW - 1 : 0 ] RGB_in , input HBlank , input VBlank , input HSync , input VSync , output CLK_VIDEO , output CE_PIXEL , output [ 7 : 0 ] VGA_R , output [ 7 : 0 ] VGA_G , output [ 7 : 0 ] VGA_B , output VGA_HS , output VGA_VS , output VGA_DE , output [ 1 : 0 ] VGA_SL , input [ 2 : 0 ] fx , input forced_scandoubler , inout [ 21 : 0 ] gamma_bus );","title":"sys - arcade_video"},{"location":"developer/arcade_video/#instantiating-arcade_video","text":"The module has a few parameters that are used to set it up. WIDTH - the width of one scanline DW - width of pixels. most arcades don't use a full 24 bits 6 : 2R 2G 2B 8 : 3R 3G 2B 9 : 3R 3G 3B 12 : 4R 4G 4B 24 : 8R 8G 8B GAMMA - allow gamma controls The clk_video needs to be 4x the ce_pix and above 40MHZ. input clk_video , input ce_pix , The FX parameter uses the output of status[5:3] in this example of a config string: \"O35,Scandoubler Fx,None,HQ2x,CRT 25%,CRT 50%,CRT 75%;\",","title":"Instantiating arcade_video"},{"location":"developer/arcade_video/#rotating-vertical-games","text":"Optionally, we add the screen_rotate and pass in whether the game needs to rotate ccw or cw. Screen rotate uses DDRAM for the framebuffer for rotation. If your core needs DDRAM for something else, see MCR3 for an example that uses DDRAM for an audio file and for the screen_rotate. Use this ddram: ddram instead of screen_rotate. screen_rotate screen_rotate ( . * , . rotate_ccw ( ccw ) ); module arcade_video #( parameter WIDTH = 320 , DW = 8 , GAMMA = 1 ) ( input clk_video , input ce_pix , input [ DW - 1 : 0 ] RGB_in , input HBlank , input VBlank , input HSync , input VSync , output CLK_VIDEO , output CE_PIXEL , output [ 7 : 0 ] VGA_R , output [ 7 : 0 ] VGA_G , output [ 7 : 0 ] VGA_B , output VGA_HS , output VGA_VS , output VGA_DE , output [ 1 : 0 ] VGA_SL , input [ 2 : 0 ] fx , input forced_scandoubler , inout [ 21 : 0 ] gamma_bus );","title":"Rotating vertical games"},{"location":"developer/component/","text":"This is a list of many recreated components used in various MiSTer FPGA cores. AMI POKEY Sound Chip Atari 5200 & 800 Arcade - A Tetris Arcade - Black Widow Arcade - Centipede Arcade - Food Fight TG68 AMP IR3R60N Audio Gameboy Advance Atari ANTIC Alphanumeric Television Interface Controller Atari 5200 & 800 Atari 7800 MARIA Custom Graphics Chip Atari 7800 TIA Television Interface Adapter Atari 2600 TIA Atari 5200 & 800 CTIA - Character TIA Atari 7800 GTIA - Graphics TIA XEGS Keyboard Support Atari 7800 ARM ARM7TDMI Gameboy Advance Chip8 Chip 8 EEPROM Arduboy General Instrument PONG on a chip AY-3-8500 AY-3-8900 Intellivision AY-3-8900-1 Intellivision AY-3-8912 Sound Vectrex MC68A09 AY-3-8917 Sound Generator Intellivision CP1610 Intellivision SP0256-012 Intellivision GPIO RTC See: Cores supporting RTC Solar Sensor Gameboy Advance Gyroscope Gameboy Advance Tilt Gameboy Advance Hitachi HG51B169 - SNES Cart IC CX4 SNES Intel 8035 - No ROM version of 8048 Arcade - Donkey Kong i8035ip for audio Arcade - Donkey Kong Jr. i8035ip for audio 8048 (T48) Odyssey 2 Arcade - Donkey Kong Arcade - Donkey Kong Jr. T80 8244 NTSC & Audio Odyssey 2 8245 PAL & Audio Odyssey 2 Microchip ATMega / ATXMega Arduboy MOS 6502 (and variants) Arcade - Asteroids Arcade - Asteroids Deluxe Arcade - A Tetris T65 Arcade - Black Widow T65 Arcade - Burgertime T65 Arcade - Burning Rubber T65 Arcade - Canyon Bomber T65 Arcade - Centipede T65 Arcade - Dominos T65 Arcade - Donkey Kong 3 T65 Atari 2600 Custom MOS 6502 (aka 6507) Atari 5200 & 800 6502C Atari 7800 Custom MOS 6502 (aka SALLY) Atari Lynx Custom MOS 6502 (aka WDC 65SC02) NES Custom MOS 6502 (aka Ricoh 2A03) 6522 Versatile Interface Adapter Vectrex MC68A09 6532 RIOT - RAM + Input/Output + Timer Atari 2600 Atari 7800 Motorola 6809 Vectrex MC68A09 6840 Programmable Timer Module Arcade - Frenzy 68000 Mega CD NeoGeo Sega Genesis Arcade - Food Fight TG68 NEC uCOM-43 Tomy Scramble \u00b5PD77C25 aka SNES cart IC DSP1, DSP2, DSP3, DSP4 SNES \u00b5PD96050 aka SNES cart IC ST010 SNES Nintendo OBC1 SNES SNES Cart IC PPU - Pixel Processing Unit NES RP2A03G SNES S-PPU2 S-SMP Audio SNES SDD1 SNES SNES Cart IC GSU-1 SNES Superfx SNES Cart IC SNK Graphics - SNK PRO-A0, SNK LSPC2-A2, SNK PRO-B0, NEO-B1, NEO-GRC NeoGeo Texas Instruments SN76489 Sound ColecoVision & SG-1000 Sega Genesis Sega Master System & Game Gear TMS9928A NTSC Graphics ColecoVision & SG-1000 TMS9929A PAL Graphics ColecoVision & SG-1000 WDC 65C816 SNES Ricoh 5A22 - Custom WDC 65C816 YM2149 (AY-3-8910) Sound Arcade - Arkanoid Arcade - Bagman Bally Midway MCR-1 Bally Midway MCR-2 Bally Midway MCR-3 Arcade - Bombjack Arcade - Burgertime Arcade - Burning Rubber Arcade - Crazy Climber Arcade - Crazy Kong Yamaha YM2151 (aka JT51) Atari 7800 YM2413 FM Sega Master System & Game Gear YM2610 Audio NeoGeo YM2612 Audio Sega Genesis YM3438 Audio Sega Genesis YM7101 VDP Video Display Processor Sega Genesis Zilog Z80 Astrocade ColecoVision & SG-1000 Gameboy Custom Z80 Sharp LR35902 Sega Genesis Sega Master System & Game Gear Z80A NeoGeo Z80A Arcade - Arkanoid T80 FPGA Z80 Arcade - Bagman T80 FPGA Z80 Arcade - Astrocade T80 FPGA Z80 Bally Midway MCR-1 Bally Midway MCR-2 Bally Midway MCR-3 Arcade - Berzerk T80 FPGA Z80 Arcade - Bombjack Arcade - Crazy Balloon T80 Arcade - Crazy Climber T80 Arcade - Crazy Kong T80 Arcade - Dig Dug T80 Arcade - Donkey Kong T80 Arcade - Donkey Kong 3 T80 Arcade - Donkey Kong Jr. T80 Arcade - Dottori Kun T80 Arcade - Frenzy T80 Arcade - Galaga T80 Simple Logic Arcade - Breakout SN74107, SN74153, SN74175, SN74192, SN74193, SN74279, SN7448, SN7474, SN7483, SN7490, SN7493 Arcade - Breakout DM9310, DM9312, DM9316, DM9602, S82S16, Astable 555 Timer, Oneshot 555 Timer, NAND, NOR, Toggle FF Arcade - Computer Space 74161 16-bit Arcade - Crazy Balloon NE555V Features See: SYS HPS IO for ARM <-> FPGA communication details. ADC See: Cores Supporting ADC Audio Filters in Menu Sega Genesis Controllers - Original Console Controllers See SNAC: User Port (Serial IO) DIP Switches in Menu Many Arcade Games * Arcade - Galaga T80 Rotate the Screen Atari Lynx Save States Gameboy Secondary SD Card See: Secondary SD card Gameboy Link Port via USERIO Gameboy Cheats Gameboy Sega Master System & Game Gear NES Turbo Grafx 16 FPGA Only Systems (never manufactured as IC's) Chip 8 Epoch Galaxy 2 Flappy Bird Life Joystick - Fixed 4 & 8 way Arcade - A Tetris T65 Mouse SNES Turbo Grafx 16 OSD Settings Chess Random Number Generator Life Read CUE+(Image/Track) Mega CD Turbo Grafx 16 ROMs With and without Headers Turbo Grafx 16 Save Games NES Save States NES SDRAM See: Cores that use SDRAM Speech Arcade - Bagman SPI Arduboy Two BIOS Options Gameboy Advance (Optional) Turbo Grafx 16 Two Displays (HDMI + VGA) Gameboy Advance 2P Two Systems Simultaneously Gameboy 2P Gameboy Advance 2P Vector Graphics Vectrex Arcade - Asteroids Deluxe Arcade - Black Widow Wave based Sound Generator Arcade - Dig Dug T80 XML ROM Configuration files? NeoGeo","title":"Core Components Where Used"},{"location":"developer/component/#ami","text":"","title":"AMI"},{"location":"developer/component/#pokey-sound-chip","text":"Atari 5200 & 800 Arcade - A Tetris Arcade - Black Widow Arcade - Centipede Arcade - Food Fight TG68","title":"POKEY Sound Chip"},{"location":"developer/component/#amp","text":"","title":"AMP"},{"location":"developer/component/#ir3r60n-audio","text":"Gameboy Advance","title":"IR3R60N Audio"},{"location":"developer/component/#atari","text":"","title":"Atari"},{"location":"developer/component/#antic-alphanumeric-television-interface-controller","text":"Atari 5200 & 800 Atari 7800","title":"ANTIC Alphanumeric Television Interface Controller"},{"location":"developer/component/#maria-custom-graphics-chip","text":"Atari 7800","title":"MARIA Custom Graphics Chip"},{"location":"developer/component/#tia-television-interface-adapter","text":"Atari 2600 TIA Atari 5200 & 800 CTIA - Character TIA Atari 7800 GTIA - Graphics TIA","title":"TIA Television Interface Adapter"},{"location":"developer/component/#xegs-keyboard-support","text":"Atari 7800","title":"XEGS Keyboard Support"},{"location":"developer/component/#arm","text":"","title":"ARM"},{"location":"developer/component/#arm7tdmi","text":"Gameboy Advance","title":"ARM7TDMI"},{"location":"developer/component/#chip8","text":"Chip 8","title":"Chip8"},{"location":"developer/component/#eeprom","text":"Arduboy","title":"EEPROM"},{"location":"developer/component/#general-instrument","text":"","title":"General Instrument"},{"location":"developer/component/#pong-on-a-chip","text":"AY-3-8500","title":"PONG on a chip"},{"location":"developer/component/#ay-3-8900","text":"Intellivision","title":"AY-3-8900"},{"location":"developer/component/#ay-3-8900-1","text":"Intellivision","title":"AY-3-8900-1"},{"location":"developer/component/#ay-3-8912-sound","text":"Vectrex MC68A09","title":"AY-3-8912 Sound"},{"location":"developer/component/#ay-3-8917-sound-generator","text":"Intellivision","title":"AY-3-8917 Sound Generator"},{"location":"developer/component/#cp1610","text":"Intellivision","title":"CP1610"},{"location":"developer/component/#sp0256-012","text":"Intellivision","title":"SP0256-012"},{"location":"developer/component/#gpio","text":"","title":"GPIO"},{"location":"developer/component/#rtc","text":"See: Cores supporting RTC","title":"RTC"},{"location":"developer/component/#solar-sensor","text":"Gameboy Advance","title":"Solar Sensor"},{"location":"developer/component/#gyroscope","text":"Gameboy Advance","title":"Gyroscope"},{"location":"developer/component/#tilt","text":"Gameboy Advance","title":"Tilt"},{"location":"developer/component/#hitachi","text":"","title":"Hitachi"},{"location":"developer/component/#hg51b169-snes-cart-ic-cx4","text":"SNES","title":"HG51B169 - SNES Cart IC CX4"},{"location":"developer/component/#intel","text":"","title":"Intel"},{"location":"developer/component/#8035-no-rom-version-of-8048","text":"Arcade - Donkey Kong i8035ip for audio Arcade - Donkey Kong Jr. i8035ip for audio","title":"8035 - No ROM version of 8048"},{"location":"developer/component/#8048-t48","text":"Odyssey 2 Arcade - Donkey Kong Arcade - Donkey Kong Jr. T80","title":"8048 (T48)"},{"location":"developer/component/#8244-ntsc-audio","text":"Odyssey 2","title":"8244 NTSC &amp; Audio"},{"location":"developer/component/#8245-pal-audio","text":"Odyssey 2","title":"8245 PAL &amp; Audio"},{"location":"developer/component/#microchip","text":"","title":"Microchip"},{"location":"developer/component/#atmega-atxmega","text":"Arduboy","title":"ATMega / ATXMega"},{"location":"developer/component/#mos","text":"","title":"MOS"},{"location":"developer/component/#6502-and-variants","text":"Arcade - Asteroids Arcade - Asteroids Deluxe Arcade - A Tetris T65 Arcade - Black Widow T65 Arcade - Burgertime T65 Arcade - Burning Rubber T65 Arcade - Canyon Bomber T65 Arcade - Centipede T65 Arcade - Dominos T65 Arcade - Donkey Kong 3 T65 Atari 2600 Custom MOS 6502 (aka 6507) Atari 5200 & 800 6502C Atari 7800 Custom MOS 6502 (aka SALLY) Atari Lynx Custom MOS 6502 (aka WDC 65SC02) NES Custom MOS 6502 (aka Ricoh 2A03)","title":"6502 (and variants)"},{"location":"developer/component/#6522-versatile-interface-adapter","text":"Vectrex MC68A09","title":"6522 Versatile Interface Adapter"},{"location":"developer/component/#6532-riot-ram-inputoutput-timer","text":"Atari 2600 Atari 7800","title":"6532 RIOT - RAM + Input/Output + Timer"},{"location":"developer/component/#motorola","text":"","title":"Motorola"},{"location":"developer/component/#6809","text":"Vectrex MC68A09","title":"6809"},{"location":"developer/component/#6840-programmable-timer-module","text":"Arcade - Frenzy","title":"6840 Programmable Timer Module"},{"location":"developer/component/#68000","text":"Mega CD NeoGeo Sega Genesis Arcade - Food Fight TG68","title":"68000"},{"location":"developer/component/#nec","text":"","title":"NEC"},{"location":"developer/component/#ucom-43","text":"Tomy Scramble","title":"uCOM-43"},{"location":"developer/component/#pd77c25-aka-snes-cart-ic-dsp1-dsp2-dsp3-dsp4","text":"SNES","title":"\u00b5PD77C25 aka SNES cart IC DSP1, DSP2, DSP3, DSP4"},{"location":"developer/component/#pd96050-aka-snes-cart-ic-st010","text":"SNES","title":"\u00b5PD96050 aka SNES cart IC ST010"},{"location":"developer/component/#nintendo","text":"","title":"Nintendo"},{"location":"developer/component/#obc1","text":"SNES SNES Cart IC","title":"OBC1"},{"location":"developer/component/#ppu-pixel-processing-unit","text":"NES RP2A03G SNES S-PPU2","title":"PPU - Pixel Processing Unit"},{"location":"developer/component/#s-smp-audio","text":"SNES","title":"S-SMP Audio"},{"location":"developer/component/#sdd1","text":"SNES SNES Cart IC","title":"SDD1"},{"location":"developer/component/#gsu-1","text":"SNES Superfx SNES Cart IC","title":"GSU-1"},{"location":"developer/component/#snk","text":"","title":"SNK"},{"location":"developer/component/#graphics-snk-pro-a0-snk-lspc2-a2-snk-pro-b0-neo-b1-neo-grc","text":"NeoGeo","title":"Graphics - SNK PRO-A0, SNK LSPC2-A2, SNK PRO-B0, NEO-B1, NEO-GRC"},{"location":"developer/component/#texas-instruments","text":"","title":"Texas Instruments"},{"location":"developer/component/#sn76489-sound","text":"ColecoVision & SG-1000 Sega Genesis Sega Master System & Game Gear","title":"SN76489 Sound"},{"location":"developer/component/#tms9928a-ntsc-graphics","text":"ColecoVision & SG-1000","title":"TMS9928A NTSC Graphics"},{"location":"developer/component/#tms9929a-pal-graphics","text":"ColecoVision & SG-1000","title":"TMS9929A PAL Graphics"},{"location":"developer/component/#wdc-65c816","text":"SNES Ricoh 5A22 - Custom WDC 65C816","title":"WDC 65C816"},{"location":"developer/component/#ym2149-ay-3-8910-sound","text":"Arcade - Arkanoid Arcade - Bagman Bally Midway MCR-1 Bally Midway MCR-2 Bally Midway MCR-3 Arcade - Bombjack Arcade - Burgertime Arcade - Burning Rubber Arcade - Crazy Climber Arcade - Crazy Kong","title":"YM2149 (AY-3-8910) Sound"},{"location":"developer/component/#yamaha","text":"","title":"Yamaha"},{"location":"developer/component/#ym2151-aka-jt51","text":"Atari 7800","title":"YM2151 (aka JT51)"},{"location":"developer/component/#ym2413-fm","text":"Sega Master System & Game Gear","title":"YM2413 FM"},{"location":"developer/component/#ym2610-audio","text":"NeoGeo","title":"YM2610 Audio"},{"location":"developer/component/#ym2612-audio","text":"Sega Genesis","title":"YM2612 Audio"},{"location":"developer/component/#ym3438-audio","text":"Sega Genesis","title":"YM3438 Audio"},{"location":"developer/component/#ym7101-vdp-video-display-processor","text":"Sega Genesis","title":"YM7101 VDP Video Display Processor"},{"location":"developer/component/#zilog","text":"","title":"Zilog"},{"location":"developer/component/#z80","text":"Astrocade ColecoVision & SG-1000 Gameboy Custom Z80 Sharp LR35902 Sega Genesis Sega Master System & Game Gear Z80A NeoGeo Z80A Arcade - Arkanoid T80 FPGA Z80 Arcade - Bagman T80 FPGA Z80 Arcade - Astrocade T80 FPGA Z80 Bally Midway MCR-1 Bally Midway MCR-2 Bally Midway MCR-3 Arcade - Berzerk T80 FPGA Z80 Arcade - Bombjack Arcade - Crazy Balloon T80 Arcade - Crazy Climber T80 Arcade - Crazy Kong T80 Arcade - Dig Dug T80 Arcade - Donkey Kong T80 Arcade - Donkey Kong 3 T80 Arcade - Donkey Kong Jr. T80 Arcade - Dottori Kun T80 Arcade - Frenzy T80 Arcade - Galaga T80","title":"Z80"},{"location":"developer/component/#simple-logic","text":"Arcade - Breakout SN74107, SN74153, SN74175, SN74192, SN74193, SN74279, SN7448, SN7474, SN7483, SN7490, SN7493 Arcade - Breakout DM9310, DM9312, DM9316, DM9602, S82S16, Astable 555 Timer, Oneshot 555 Timer, NAND, NOR, Toggle FF Arcade - Computer Space 74161 16-bit Arcade - Crazy Balloon NE555V","title":"Simple Logic"},{"location":"developer/component/#features","text":"See: SYS HPS IO for ARM <-> FPGA communication details.","title":"Features"},{"location":"developer/component/#adc","text":"See: Cores Supporting ADC","title":"ADC"},{"location":"developer/component/#audio-filters-in-menu","text":"Sega Genesis","title":"Audio Filters in Menu"},{"location":"developer/component/#controllers-original-console-controllers","text":"See SNAC: User Port (Serial IO)","title":"Controllers - Original Console Controllers"},{"location":"developer/component/#dip-switches-in-menu","text":"Many Arcade Games * Arcade - Galaga T80","title":"DIP Switches in Menu"},{"location":"developer/component/#rotate-the-screen","text":"Atari Lynx","title":"Rotate the Screen"},{"location":"developer/component/#save-states","text":"Gameboy","title":"Save States"},{"location":"developer/component/#secondary-sd-card","text":"See: Secondary SD card","title":"Secondary SD Card"},{"location":"developer/component/#gameboy-link-port-via-userio","text":"Gameboy","title":"Gameboy Link Port via USERIO"},{"location":"developer/component/#cheats","text":"Gameboy Sega Master System & Game Gear NES Turbo Grafx 16","title":"Cheats"},{"location":"developer/component/#fpga-only-systems-never-manufactured-as-ics","text":"Chip 8 Epoch Galaxy 2 Flappy Bird Life","title":"FPGA Only Systems (never manufactured as IC's)"},{"location":"developer/component/#joystick-fixed-4-8-way","text":"Arcade - A Tetris T65","title":"Joystick - Fixed 4 &amp; 8 way"},{"location":"developer/component/#mouse","text":"SNES Turbo Grafx 16","title":"Mouse"},{"location":"developer/component/#osd-settings","text":"Chess","title":"OSD Settings"},{"location":"developer/component/#random-number-generator","text":"Life","title":"Random Number Generator"},{"location":"developer/component/#read-cueimagetrack","text":"Mega CD Turbo Grafx 16","title":"Read CUE+(Image/Track)"},{"location":"developer/component/#roms-with-and-without-headers","text":"Turbo Grafx 16","title":"ROMs With and without Headers"},{"location":"developer/component/#save-games","text":"NES","title":"Save Games"},{"location":"developer/component/#save-states_1","text":"NES","title":"Save States"},{"location":"developer/component/#sdram","text":"See: Cores that use SDRAM","title":"SDRAM"},{"location":"developer/component/#speech","text":"Arcade - Bagman","title":"Speech"},{"location":"developer/component/#spi","text":"Arduboy","title":"SPI"},{"location":"developer/component/#two-bios-options","text":"Gameboy Advance (Optional) Turbo Grafx 16","title":"Two BIOS Options"},{"location":"developer/component/#two-displays-hdmi-vga","text":"Gameboy Advance 2P","title":"Two Displays (HDMI + VGA)"},{"location":"developer/component/#two-systems-simultaneously","text":"Gameboy 2P Gameboy Advance 2P","title":"Two Systems Simultaneously"},{"location":"developer/component/#vector-graphics","text":"Vectrex Arcade - Asteroids Deluxe Arcade - Black Widow","title":"Vector Graphics"},{"location":"developer/component/#wave-based-sound-generator","text":"Arcade - Dig Dug T80","title":"Wave based Sound Generator"},{"location":"developer/component/#xml-rom-configuration-files","text":"NeoGeo","title":"XML ROM Configuration files?"},{"location":"developer/conf_str/","text":"MiSTer provides an on-screen display (OSD) that can be toggled on and off by pressing F12 on your keyboard (or OSD button). For each core that is loaded, this menu can be configured to add specific options for that core. The top-level module for the cores is emu . This does NOT mean emu is the top-level module for the project, but rather it is the top-level module for our purposes. The emu module is typically found in the SystemVerilog file ( *.sv extension) with the same name as the project. As an example, the Arcade-Galaga project has it's top-level module at Arcade-Galaga.sv . The configuration string is stored in the variable CONF_STR of the emu module. This variable is passed to the hps_io module that handles sending it to the processor to be read when necessary. Each line of the configuration string is delimited with a semicolon. Most cores have a Status Bit Map placed at the top of the CONF_STR section. When developing a core, please use this as it's a helpful reference which aids in collaboration. This reference is edited by fellow developers to communicate which status bits are occupied. Only one option can occupy status[8] so this is important. Status Bit Map For example with nothing occupied: // Status Bit Map: // Upper Lower // 0 1 2 3 4 5 6 // 01234567890123456789012345678901 23456789012345678901234567890123 // 0123456789ABCDEFGHIJKLMNOPQRSTUV 0123456789ABCDEFGHIJKLMNOPQRSTUV // If you add a status bit option like O89 to the core configuration string, this is going to use the first group of status bits on the left since the \"O\" for option is capitalized (marked Upper). Then it's going to use 8 and 9, this is from the bottom row (which is alphanumeric). So you would update the index after using these like so: // Status Bit Map: // Upper Lower // 0 1 2 3 4 5 6 // 01234567890123456789012345678901 23456789012345678901234567890123 // 0123456789ABCDEFGHIJKLMNOPQRSTUV 0123456789ABCDEFGHIJKLMNOPQRSTUV // XX This will communicate to other developers that status[9:8] are occupied and should not be used. Status Bit [0] is reserved as a Soft Reset. Valid options for the menu [] - means optional parameter C[,{Text}] - Enables a cheat menu entry with the label {Text} . CHEAT - like DIP, for arcades with a cheat system D{Index} - Prefix which disables the option if menumask[Index] is set. d{Index} - Same as 'D', but disables the option if menumask[Index] is NOT set. DIP - in arcade cores, this will display the DIP menu from the MRA F[S][#],{Ext}[,{Text}][,{Address}] - Load file button. {Ext} - a concatenated list of 3 character file extensions. For example, BINGEN would be BIN and GEN extensions. Optional {Text} string is the text that is displayed before the extensions like \"Load RAM\". If {Text} is not specified, then default is \"Load *\". Optional [S] - core supports save files, load a file, and mount a save for reading or writing # is explicit index (or index is generated from line number if index not given). Optional {Address} - load file directly into DDRAM at this address ioctl_index from hps_io will be: ioctl_index[5:0] = index(explicit or auto), ioctl_index[7:6] = extension index FC[#],{Ext}[,{Text}][,{Address}] - Open file and remember it, useful for remembering an alternative rom, config, or other type of file. See F for how the options work. H{Index} - Prefix which hides the option if menumask[Index] is set. h{Index} - Same as H , but hides the option if menumask[Index] is NOT set. O{Index1}[{Index2}],{Name},{Options...} - Option button that allows you to select between various choices. {Index1} and {Index2} are values from 0-9 and A-V (like Hex but it extends from A-V instead of A-F). This represents all 31 bits. First and second index are the range of bits that will be set in the status register. {Name} is what is shown to describe the option. {Options...} - a list of comma separated options. P{#},{Title} - Creates sub-page for options with {Title} . P{#} - Prefix to place the option into specific {#} page. This is added before O# but after something like d# . (e.g. \"d5P1o2,Vertical Crop,Disabled,216p(5x);\", is correct and \"P1d5o2,Vertical Crop,Disabled,216p(5x);\", is incorrect and the menu options will not work.) R{Index},{Name} - Same as T option but closes the OSD after selecting. Convenient for Reset option. S{Slot},{Ext}[,{Text}] - Mount SD card button. {Slot} - a value from 0-3. Up to four images can be mounted at the same time. {Ext} - same as in F option. (Optional) {Text} - The text that is displayed before the extensions like \"Load RAM\". If {Text} is not specified, then default is \"Mount *\". T{Index},{Name} - Trigger button. This is a simple button that will pulse HIGH of specified {Index} bit in status register. A perfect example of this is for a reset button. {Name} is the text that describes the button function. -[,TEXT] - empty (or with TEXT ) line. Lower case options o , t , r equal their upper case variants with adding 32 to status bit indexes. Non-OSD options These must be placed at the bottom of the configuration string: J[1],{Button1}[,{Button2},...] - J1 means lock keyboard to joystick emulation mode. Useful for keyboard-less systems such as consoles. {Button1},{Button2},... is list of joystick buttons used in the core. Up to 12 buttons can be listed. Analog axis are not defined here. The user just needs to map them through the Menu core. jn,{SNES Button Name1},[,{SNES Button2},...] - this sets the default mapping of the buttons. ie: jn,A would map joystick bit 4 to the A button on a SNES style controller automatically jp - same as jn but used when gamepad_defaults=1 in MiSTer.INI . Typically refers to positional mapping relative to a SNES controller V,{Version String} - Version string. {Version String} is the version string. Takes the core name and appends version string for name to display. I,INFO1,INFO2,...,INFO255 - INFO1-INFO255 lines to display as OSD info (top left corner of screen). DEFMRA,{mra name} - default MRA (ie: Puckman.mra) to be used when core is uploaded by USB blaster (debug) jn vs. jp and mapping conventions jn mapping is the default. jp mapping is used when the INI file has gamepad_defaults=1 the only difference in the two mappings is the \"philosophy\" of how they are expected to work The difference is one of convention when mapping buttons: * jn is name-base mapping * jp is position-based mapping What does this mean? Consider how the internal gamepad is defined on MiSTer: Internally, controllers are mapped in the menu core to a SNES-style gamepad The button order on the internal MiSTer gamepad is ABXYLR + Start + Select That is: button 1=A, button 2=B, and so on. With \"jn\" mapping: * the convention is to map button A of the core to the internal \"SNES A\" button. * If the core has no button \"A\", this would be the first button. * Second button would be \"SNES B\", and so forth. * This is because the name or order of the button matches the original definition (ABYXLR etc) With \"jp\" mapping: * the convention is to consider the physical location of each button * For a Genesis 3-button controller that has A, B, C as buttons, mapping would be \"SNES Y, SNES B, SNES A\" * This is because YBA on a SNES gamepad are the lower 3 buttons of the controller","title":"Core Configuration String"},{"location":"developer/conf_str/#status-bit-map","text":"For example with nothing occupied: // Status Bit Map: // Upper Lower // 0 1 2 3 4 5 6 // 01234567890123456789012345678901 23456789012345678901234567890123 // 0123456789ABCDEFGHIJKLMNOPQRSTUV 0123456789ABCDEFGHIJKLMNOPQRSTUV // If you add a status bit option like O89 to the core configuration string, this is going to use the first group of status bits on the left since the \"O\" for option is capitalized (marked Upper). Then it's going to use 8 and 9, this is from the bottom row (which is alphanumeric). So you would update the index after using these like so: // Status Bit Map: // Upper Lower // 0 1 2 3 4 5 6 // 01234567890123456789012345678901 23456789012345678901234567890123 // 0123456789ABCDEFGHIJKLMNOPQRSTUV 0123456789ABCDEFGHIJKLMNOPQRSTUV // XX This will communicate to other developers that status[9:8] are occupied and should not be used. Status Bit [0] is reserved as a Soft Reset.","title":"Status Bit Map"},{"location":"developer/conf_str/#valid-options-for-the-menu","text":"[] - means optional parameter C[,{Text}] - Enables a cheat menu entry with the label {Text} . CHEAT - like DIP, for arcades with a cheat system D{Index} - Prefix which disables the option if menumask[Index] is set. d{Index} - Same as 'D', but disables the option if menumask[Index] is NOT set. DIP - in arcade cores, this will display the DIP menu from the MRA F[S][#],{Ext}[,{Text}][,{Address}] - Load file button. {Ext} - a concatenated list of 3 character file extensions. For example, BINGEN would be BIN and GEN extensions. Optional {Text} string is the text that is displayed before the extensions like \"Load RAM\". If {Text} is not specified, then default is \"Load *\". Optional [S] - core supports save files, load a file, and mount a save for reading or writing # is explicit index (or index is generated from line number if index not given). Optional {Address} - load file directly into DDRAM at this address ioctl_index from hps_io will be: ioctl_index[5:0] = index(explicit or auto), ioctl_index[7:6] = extension index FC[#],{Ext}[,{Text}][,{Address}] - Open file and remember it, useful for remembering an alternative rom, config, or other type of file. See F for how the options work. H{Index} - Prefix which hides the option if menumask[Index] is set. h{Index} - Same as H , but hides the option if menumask[Index] is NOT set. O{Index1}[{Index2}],{Name},{Options...} - Option button that allows you to select between various choices. {Index1} and {Index2} are values from 0-9 and A-V (like Hex but it extends from A-V instead of A-F). This represents all 31 bits. First and second index are the range of bits that will be set in the status register. {Name} is what is shown to describe the option. {Options...} - a list of comma separated options. P{#},{Title} - Creates sub-page for options with {Title} . P{#} - Prefix to place the option into specific {#} page. This is added before O# but after something like d# . (e.g. \"d5P1o2,Vertical Crop,Disabled,216p(5x);\", is correct and \"P1d5o2,Vertical Crop,Disabled,216p(5x);\", is incorrect and the menu options will not work.) R{Index},{Name} - Same as T option but closes the OSD after selecting. Convenient for Reset option. S{Slot},{Ext}[,{Text}] - Mount SD card button. {Slot} - a value from 0-3. Up to four images can be mounted at the same time. {Ext} - same as in F option. (Optional) {Text} - The text that is displayed before the extensions like \"Load RAM\". If {Text} is not specified, then default is \"Mount *\". T{Index},{Name} - Trigger button. This is a simple button that will pulse HIGH of specified {Index} bit in status register. A perfect example of this is for a reset button. {Name} is the text that describes the button function. -[,TEXT] - empty (or with TEXT ) line. Lower case options o , t , r equal their upper case variants with adding 32 to status bit indexes.","title":"Valid options for the menu"},{"location":"developer/conf_str/#non-osd-options","text":"These must be placed at the bottom of the configuration string: J[1],{Button1}[,{Button2},...] - J1 means lock keyboard to joystick emulation mode. Useful for keyboard-less systems such as consoles. {Button1},{Button2},... is list of joystick buttons used in the core. Up to 12 buttons can be listed. Analog axis are not defined here. The user just needs to map them through the Menu core. jn,{SNES Button Name1},[,{SNES Button2},...] - this sets the default mapping of the buttons. ie: jn,A would map joystick bit 4 to the A button on a SNES style controller automatically jp - same as jn but used when gamepad_defaults=1 in MiSTer.INI . Typically refers to positional mapping relative to a SNES controller V,{Version String} - Version string. {Version String} is the version string. Takes the core name and appends version string for name to display. I,INFO1,INFO2,...,INFO255 - INFO1-INFO255 lines to display as OSD info (top left corner of screen). DEFMRA,{mra name} - default MRA (ie: Puckman.mra) to be used when core is uploaded by USB blaster (debug)","title":"Non-OSD options"},{"location":"developer/conf_str/#jn-vs-jp-and-mapping-conventions","text":"jn mapping is the default. jp mapping is used when the INI file has gamepad_defaults=1 the only difference in the two mappings is the \"philosophy\" of how they are expected to work The difference is one of convention when mapping buttons: * jn is name-base mapping * jp is position-based mapping What does this mean? Consider how the internal gamepad is defined on MiSTer: Internally, controllers are mapped in the menu core to a SNES-style gamepad The button order on the internal MiSTer gamepad is ABXYLR + Start + Select That is: button 1=A, button 2=B, and so on. With \"jn\" mapping: * the convention is to map button A of the core to the internal \"SNES A\" button. * If the core has no button \"A\", this would be the first button. * Second button would be \"SNES B\", and so forth. * This is because the name or order of the button matches the original definition (ABYXLR etc) With \"jp\" mapping: * the convention is to consider the physical location of each button * For a Genesis 3-button controller that has A, B, C as buttons, mapping would be \"SNES Y, SNES B, SNES A\" * This is because YBA on a SNES gamepad are the lower 3 buttons of the controller","title":"jn vs. jp and mapping conventions"},{"location":"developer/corenames/","text":"This is a list of the core repositories and the core internal names that are used for the mister.ini core exceptions. Repository URL Internal Name All Arcade Cores (if an MRA is used) arcade https://github.com/MiSTer-devel/AcornAtom_MiSTer AcornAtom https://github.com/MiSTer-devel/AcornElectron_MiSTer AcornElectron https://github.com/MiSTer-devel/ADCTest_MiSTer ADCTest https://github.com/MiSTer-devel/AdventureVision_MiSTer AVision https://github.com/MiSTer-devel/AliceMC10_MiSTer AliceMC10 https://github.com/MiSTer-devel/Altair8800_Mister Altair8800 https://github.com/MiSTer-devel/Amstrad-PCW_MiSTer Amstrad PCW https://github.com/MiSTer-devel/Amstrad_MiSTer Amstrad https://github.com/MiSTer-devel/ao486_MiSTer AO486 https://github.com/MiSTer-devel/Apogee_MiSTer APOGEE https://github.com/MiSTer-devel/Apple-II_MiSTer Apple-II https://github.com/MiSTer-devel/Apple-I_MiSTer APPLE-I https://github.com/MiSTer-devel/Aquarius_MISTer AQUARIUS https://github.com/MiSTer-devel/Arcade-Arkanoid_MISTer ARKANOID https://github.com/MiSTer-devel/Arcade-AsteroidsDeluxe_MiSTer ASTDELUX https://github.com/MiSTer-devel/Arcade-Asteroids_MiSTer ASTEROID https://github.com/MiSTer-devel/Arcade-Astrocade_MiSTer ASTROCADE https://github.com/MiSTer-devel/Arcade-ATetris_MiSTer ATetris https://github.com/MiSTer-devel/Arcade-Athena_MiSTer Athena https://github.com/MiSTer-devel/Arcade-Bagman_MiSTer BAGMAN https://github.com/MiSTer-devel/Arcade-Berzerk_MiSTer BERZERK https://github.com/MiSTer-devel/Arcade-BlackWidow_MiSTer BWIDOW https://github.com/MiSTer-devel/Arcade-Blockade_MiSTer BLOCKADE https://github.com/MiSTer-devel/Arcade-BombJack_MiSTer BMBJCK https://github.com/MiSTer-devel/Arcade-Breakout_MiSTer BREAKOUT https://github.com/MiSTer-devel/Arcade-BurgerTime_MiSTer BTIME https://github.com/MiSTer-devel/Arcade-BurningRubber_MiSTer BRUBBR https://github.com/MiSTer-devel/Arcade-CanyonBomber_MiSTer CANYON https://github.com/MiSTer-devel/Arcade-Cave_MiSTer cave https://github.com/MiSTer-devel/Arcade-Centipede_MiSTer CENTIPED https://github.com/MiSTer-devel/Arcade-ComputerSpace_MiSTer COMSPC https://github.com/MiSTer-devel/Arcade-Cosmic_MiSTer COSMIC https://github.com/MiSTer-devel/Arcade-CrazyBalloon_MiSTer CRBALLOON https://github.com/MiSTer-devel/Arcade-CrazyClimber_MiSTer CCLIMB https://github.com/MiSTer-devel/Arcade-CrazyKong_MiSTer CKONG https://github.com/MiSTer-devel/Arcade-Defender_MiSTer DFNDR https://github.com/MiSTer-devel/Arcade-DigDug_MiSTer DIGDUG https://github.com/MiSTer-devel/Arcade-Dominos_MiSTer DOMINOS https://github.com/MiSTer-devel/Arcade-DonkeyKong3_MiSTer DKONG3 https://github.com/MiSTer-devel/Arcade-DonkeyKongJunior_MiSTer DKONGJ https://github.com/MiSTer-devel/Arcade-DonkeyKong_MiSTer DKONG https://github.com/MiSTer-devel/Arcade-DottoriKun_MiSTer DOTRIKUN https://github.com/MiSTer-devel/Arcade-Druaga_MiSTer Druaga https://github.com/MiSTer-devel/Arcade-Finalizer_MiSTer FINALIZR https://github.com/MiSTer-devel/Arcade-FoodFight_MiSTer FoodFight https://github.com/MiSTer-devel/Arcade-Frenzy_MiSTer FRENZY https://github.com/MiSTer-devel/Arcade-Galaga_MiSTer Galaga https://github.com/MiSTer-devel/Arcade-Galaxian_MiSTer GALAXN https://github.com/MiSTer-devel/Arcade-Gaplus_MiSTer GAPLUS https://github.com/MiSTer-devel/Arcade-Gauntlet_MiSTer GAUNTLET https://github.com/MiSTer-devel/Arcade-Gyruss_MiSTer GYRUSS https://github.com/MiSTer-devel/Arcade-IremM62_MiSTer IREMM62 https://github.com/MiSTer-devel/Arcade-IronHorse_MiSTer IRONHORSE https://github.com/MiSTer-devel/Arcade-Jackal_MiSTer JACKAL https://github.com/MiSTer-devel/Arcade-Jailbreak_MiSTer JAILBREAK https://github.com/MiSTer-devel/Arcade-Joust2_MiSTer JOUST2 https://github.com/MiSTer-devel/Arcade-LadyBug_MiSTer LADYBG https://github.com/MiSTer-devel/Arcade-LunarLander_MiSTer LLANDER https://github.com/MiSTer-devel/Arcade-MarioBros_MiSTer MARIO https://github.com/MiSTer-devel/Arcade-MCR1_MiSTer MCR1 https://github.com/MiSTer-devel/Arcade-MCR2_MiSTer MCR2 https://github.com/MiSTer-devel/Arcade-MCR3Mono_MiSTer MCR3MONO https://github.com/MiSTer-devel/Arcade-MCR3Scroll_MiSTer MCR3SC https://github.com/MiSTer-devel/Arcade-MCR3_MiSTer MCR3 https://github.com/MiSTer-devel/Arcade-MoonPatrol_MiSTer MOONPT https://github.com/MiSTer-devel/Arcade-MrDo_MiSTer Mr Do! https://github.com/MiSTer-devel/Arcade-MysticMarathon_MiSTer MYSTICMARATHON https://github.com/MiSTer-devel/Arcade-NinjaKun_MiSTer NinjaKun https://github.com/MiSTer-devel/Arcade-Pacman_MiSTer PACMAN https://github.com/MiSTer-devel/Arcade-Pengo_MiSTer PENGO https://github.com/MiSTer-devel/Arcade-Phoenix_MiSTer PHNX https://github.com/MiSTer-devel/Arcade-Pleiads_MiSTer PLEIADS https://github.com/MiSTer-devel/Arcade-PolyPlay_MiSTer Poly-Play https://github.com/MiSTer-devel/Arcade-Pong_MiSTer PONG https://github.com/MiSTer-devel/Arcade-Pooyan_MiSTer POOYAN https://github.com/MiSTer-devel/Arcade-Popeye_MiSTer POPEYE https://github.com/MiSTer-devel/Arcade-QBert_MiSTer QBert https://github.com/MiSTer-devel/Arcade-RallyX_MiSTer NRALLYX https://github.com/MiSTer-devel/Arcade-RiverPatrol_MiSTer RPATROL https://github.com/MiSTer-devel/Arcade-Robotron_MiSTer ROBTRN https://github.com/MiSTer-devel/Arcade-RushnAttack_MiSTer RshnAtk https://github.com/MiSTer-devel/Arcade-ScooterShooter_MiSTer SSHOOTER https://github.com/MiSTer-devel/Arcade-Scramble_MiSTer SCRMBL https://github.com/MiSTer-devel/Arcade-SEGASYS1_MiSTer SEGASYS1 https://github.com/MiSTer-devel/Arcade-SilverLand_MiSTer SILVLAND https://github.com/MiSTer-devel/Arcade-SkySkipper_MiSTer POPEYE https://github.com/MiSTer-devel/Arcade-SNK_TripleZ80_MiSTer SNK_TripleZ80 https://github.com/MiSTer-devel/Arcade-SolomonsKey_MiSTer SolmnsKey https://github.com/MiSTer-devel/Arcade-SpaceInvaders_MiSTer INVADERS https://github.com/MiSTer-devel/Arcade-SpaceRace_MiSTer SPACERACE https://github.com/MiSTer-devel/Arcade-Sprint1_MiSTer SPRINT1 https://github.com/MiSTer-devel/Arcade-Sprint2_MiSTer SPRINT2 https://github.com/MiSTer-devel/Arcade-Subs_MiSTer SUBS https://github.com/MiSTer-devel/Arcade-SuperBreakout_MiSTer SBRKOUT https://github.com/MiSTer-devel/Arcade-Tecmo_MiSTer Tecmo https://github.com/MiSTer-devel/Arcade-TIAMC1_MiSTer TIA-MC1 https://github.com/MiSTer-devel/Arcade-TimePilot84_MISTer TP84 https://github.com/MiSTer-devel/Arcade-TimePilot_MiSTer TIMEPLT https://github.com/MiSTer-devel/Arcade-TNKIII_MiSTer SNK_TripleZ80 https://github.com/MiSTer-devel/Arcade-TraverseUSA_MiSTer TRAVRUSA https://github.com/MiSTer-devel/Arcade-TurkeyShoot_MiSTer TURKEYSHOOT https://github.com/MiSTer-devel/Arcade-Ultratank_MiSTer ULTRATNK https://github.com/MiSTer-devel/Arcade-VBall_MiSTer VBall https://github.com/MiSTer-devel/Arcade-Xevious_MiSTer Xevious https://github.com/MiSTer-devel/Arcade-Zaxxon_MiSTer ZAXXON https://github.com/MiSTer-devel/Arcade-ZigZag_MiSTer ZIGZAG https://github.com/MiSTer-devel/Arcadia_MiSTer Arcadia https://github.com/MiSTer-devel/Archie_MiSTer ARCHIE https://github.com/MiSTer-devel/Arduboy_MiSTer Arduboy https://github.com/MiSTer-devel/Astrocade_MiSTer Astrocade https://github.com/MiSTer-devel/Atari2600_MiSTer ATARI2600 https://github.com/MiSTer-devel/Atari7800_MiSTer ATARI7800 https://github.com/MiSTer-devel/Atari800_MiSTer ATARI5200 https://github.com/MiSTer-devel/Atari800_MiSTer ATARI800 https://github.com/MiSTer-devel/AtariLynx_MiSTer AtariLynx https://github.com/MiSTer-devel/AtariST_MiSTer AtariST https://github.com/MiSTer-devel/AY-3-8500-MiSTer AY-3-8500 https://github.com/MiSTer-devel/BBCMicro_MiSTer BBCMicro https://github.com/MiSTer-devel/BK0011M_MiSTer BK0011M https://github.com/MiSTer-devel/C16_MiSTer C16 https://github.com/MiSTer-devel/C64_MiSTer C64 https://github.com/MiSTer-devel/ChannelF_MiSTer ChannelF https://github.com/MiSTer-devel/Chess_MiSTer Chess https://github.com/MiSTer-devel/Chip8_MiSTer Chip8 https://github.com/MiSTer-devel/CoCo2_MiSTer CoCo2 https://github.com/MiSTer-devel/CoCo3_MiSTer COCO3 https://github.com/MiSTer-devel/ColecoAdam_MiSTer Adam https://github.com/MiSTer-devel/ColecoVision_MiSTer Coleco https://github.com/MiSTer-devel/EDSAC_MiSTer EDSAC https://github.com/MiSTer-devel/EpochGalaxy2_MiSTer EpochGalaxyII https://github.com/MiSTer-devel/FlappyBird_MiSTer FLAPPY https://github.com/MiSTer-devel/Galaksija_MiSTer Galaksija https://github.com/MiSTer-devel/Gameboy_MiSTer GAMEBOY https://github.com/MiSTer-devel/GBA_MiSTer GBA https://github.com/MiSTer-devel/Genesis_MiSTer Genesis https://github.com/MiSTer-devel/GnW_MiSTer Game & Watch https://github.com/MiSTer-devel/InputTest_MiSTer InputTest https://github.com/MiSTer-devel/Interact_MiSTer Interact https://github.com/MiSTer-devel/Intv_MiSTer Intellivision https://github.com/MiSTer-devel/Jupiter_MiSTer Jupiter https://github.com/MiSTer-devel/Laser310_MiSTer Laser https://github.com/MiSTer-devel/Life_MiSTer GameOfLife https://github.com/MiSTer-devel/Lynx48_MiSTer Lynx48 https://github.com/MiSTer-devel/MacPlus_MiSTer MACPLUS https://github.com/MiSTer-devel/MegaCD_MiSTer MegaCD https://github.com/MiSTer-devel/MemTest_MiSTer MEMTEST https://github.com/MiSTer-devel/Menu_MiSTer MENU https://github.com/MiSTer-devel/Minimig-AGA_MiSTer Minimig https://github.com/MiSTer-devel/MSX_MiSTer MSX https://github.com/MiSTer-devel/MultiComp_MiSTer MultiComp https://github.com/MiSTer-devel/NeoGeo_MiSTer NEOGEO https://github.com/MiSTer-devel/NES_MiSTer NES https://github.com/MiSTer-devel/Odyssey2_MiSTer ODYSSEY2 https://github.com/MiSTer-devel/OndraSPO186_MiSTer Ondra_SPO186 https://github.com/MiSTer-devel/Orao_MiSTer ORAO https://github.com/MiSTer-devel/Oric_MiSTer Oric https://github.com/MiSTer-devel/PC88_MiSTer PC8801 https://github.com/MiSTer-devel/PDP1_MiSTer PDP1 https://github.com/MiSTer-devel/PET2001_MiSTer PET2001 https://github.com/MiSTer-devel/PMD85_MiSTer PMD85 https://github.com/MiSTer-devel/PSX_MiSTer PSX https://github.com/MiSTer-devel/QL_MiSTer QL https://github.com/MiSTer-devel/RX-78_MiSTer RX78 https://github.com/MiSTer-devel/S32X_MiSTer S32X https://github.com/MiSTer-devel/SAM-Coupe_MiSTer SAMCOUPE https://github.com/MiSTer-devel/SharpMZ_MiSTer SHARP MZ SERIES https://github.com/MiSTer-devel/SlugCross_MiSTer SlugCross https://github.com/MiSTer-devel/SMS_MiSTer SMS https://github.com/MiSTer-devel/SNES_MiSTer SNES https://github.com/MiSTer-devel/SordM5_MiSTer Sord M5 https://github.com/MiSTer-devel/Specialist_MiSTer SPMX https://github.com/MiSTer-devel/SuperVision_MiSTer SuperVision https://github.com/MiSTer-devel/SVI328_MiSTer SVI328 https://github.com/MiSTer-devel/TatungEinstein_MiSTer TatungEinstein https://github.com/MiSTer-devel/Template_MiSTer MyCore https://github.com/MiSTer-devel/TI-99_4A_MiSTer Coleco https://github.com/MiSTer-devel/TI-99_4A_MiSTer TI-99_4A https://github.com/MiSTer-devel/TomyScramble_MiSTer TomyScramble https://github.com/MiSTer-devel/TRS-80_MiSTer TRS-80 https://github.com/MiSTer-devel/TSConf_MiSTer TSConf https://github.com/MiSTer-devel/TurboGrafx16_MiSTer TGFX16 https://github.com/MiSTer-devel/UK101_MiSTer UK101 https://github.com/MiSTer-devel/VC4000_MiSTer VC4000 https://github.com/MiSTer-devel/Vector-06C_MiSTer VECTOR06 https://github.com/MiSTer-devel/Vectrex_MiSTer VECTREX https://github.com/MiSTer-devel/VIC20_MiSTer VIC20 https://github.com/MiSTer-devel/WonderSwan_MiSTer WonderSwan https://github.com/MiSTer-devel/X68000_MiSTer X68000 https://github.com/MiSTer-devel/ZX-Spectrum_MISTer Spectrum https://github.com/MiSTer-devel/ZX81_MiSTer ZX81 https://github.com/MiSTer-devel/ZXNext_MISTer ZXNext","title":"Core Names"},{"location":"developer/debugging/","text":"While developing the core, it's convenient to upload it through USB blaster(JTAG) port directly from Quartus. MiSTer supports USB Blaster and automatically reloads Linux part for uploaded core. Since Linux requires reboot (for better stability), you may notice longer time to start the core. This is normal. It's advised to have console connected to MiSTer to control the booting process. Once core compiled in RBF format and put into SD card, loading speed will be fast. Configuring USB Blaster on Linux Although there is no need for drivers on linux, by default only root user can access the cable. In order to use it as a regular user just add a file called /etc/udev/rules.d/92-usbblaster.rules with the following content: # USB-Blaster SUBSYSTEM==\"usb\", ATTR{idVendor}==\"09fb\", ATTR{idProduct}==\"6001\", MODE=\"0666\" SUBSYSTEM==\"usb\", ATTR{idVendor}==\"09fb\", ATTR{idProduct}==\"6002\", MODE=\"0666\" SUBSYSTEM==\"usb\", ATTR{idVendor}==\"09fb\", ATTR{idProduct}==\"6003\", MODE=\"0666\" # USB-Blaster II SUBSYSTEM==\"usb\", ATTR{idVendor}==\"09fb\", ATTR{idProduct}==\"6010\", MODE=\"666\" SUBSYSTEM==\"usb\", ATTR{idVendor}==\"09fb\", ATTR{idProduct}==\"6810\", MODE=\"666\"","title":"Debugging (USB Blaster)"},{"location":"developer/debugging/#configuring-usb-blaster-on-linux","text":"Although there is no need for drivers on linux, by default only root user can access the cable. In order to use it as a regular user just add a file called /etc/udev/rules.d/92-usbblaster.rules with the following content: # USB-Blaster SUBSYSTEM==\"usb\", ATTR{idVendor}==\"09fb\", ATTR{idProduct}==\"6001\", MODE=\"0666\" SUBSYSTEM==\"usb\", ATTR{idVendor}==\"09fb\", ATTR{idProduct}==\"6002\", MODE=\"0666\" SUBSYSTEM==\"usb\", ATTR{idVendor}==\"09fb\", ATTR{idProduct}==\"6003\", MODE=\"0666\" # USB-Blaster II SUBSYSTEM==\"usb\", ATTR{idVendor}==\"09fb\", ATTR{idProduct}==\"6010\", MODE=\"666\" SUBSYSTEM==\"usb\", ATTR{idVendor}==\"09fb\", ATTR{idProduct}==\"6810\", MODE=\"666\"","title":"Configuring USB Blaster on Linux"},{"location":"developer/emu/","text":"On MiSTer the top level is inside sys/sys_top.v . When writing or porting a MiSTer core, instead of telling quartus to use your own top, quartus uses sys_top, and it will call a module called emu that you need to provide. This will document the parameters that your top level will need to implement. The MiSTer sys_top will handle a lot of useful things like audio and HDMI video. Instantiating your core Tour core should be inside an emu block, see the Template Top Level for an example. Some of the contents of this article regarding the code used might be outdated, always reference the Template in the link above for the latest framework version. Master input clock //Master input clock input CLK_50M , Most cores will use the PLL which is instantiated from the sys folder, but the pll needs to live in the rtl folder off of the top level (at the same level as sys). This choice was made so that you can update the sys folder without losing the PLL configuration. NOTE: For full compatibility with the existing sys architecture, keep the pll named 'pll' and the instance 'pll' as shown below. You can use the megawizard to edit the pll to modify the required frequencies etc... (including adding more outputs). If you don't have a pll create a new one, or use the one from the template. The sys_top.sdc requires the name for the pll and the instance name be correct. wire clk_sys; pll pll ( .refclk(CLK_50M), .rst(0), .outclk_0(clk_sys) ); Reset //Async reset from top-level module. //Can be used as initial reset. input RESET , Normally the RESET line is used in conjunction with the button on the I/O board, as well as a status flag. Most cores use status bit 0 (this is reserved for a Soft Reset), and a CONF_STR that includes an option like: \"R0,Reset;\" wire reset = RESET | status [ 0 ] | buttons [ 1 ]; HPS Bus The HPS Bus is used to communicate with the ARM processor. It is passed into the hps_io module which will do a bunch of work for the core, and provide a simpler interface to use. Include the hps_io module in the emu module. See hps_io //Must be passed to hps_io module inout [ 45 : 0 ] HPS_BUS , Video Signals The top level module that calls emu includes the high quality HDMI scaler, and provides a fairly simple interface to output video on MiSTer. There are a number of other helper modules that can be included to provide proper video output. At the simplest level provide a CLK_VIDEO, and/or CE_PIXEL (CE_PIXEL can be set to 1 if your video clk is correct). The video clock needs to be greater than 40MHZ for all of the features to work. Generally the video signals want to be whatever the native resolution of the machine that is being emulated. ie: an old 8bit computer will generally output 15khz video. MiSTer has a scandoubler built in that will create VGA compatible output if the user wants that on their VGA port. To include this scandoubler in the core you will usually use the video_mixer or arcade_video modules. The forced_scandoubler signal comes from the hps_io module. Some users want to use a 15khz monitor with 15khz cores, so the core itself shouldn't have a scandoubler built in. Some original devices may have had higher resolution output, if that native output was greater than 15khz, it is ok to output it natively through the VGA signals. The scaler will use the VGA_DE (usually based on HBLANK and VBLANK assign VGA_DE = ~(HBlank | VBlank); ) to scale it up to HDMI based on the settings in the ini file. Video Mixer Use the Video Mixer Module to add MiSTer framework standard features like gamma support, scaling, and scandoubling. Video Freak Use the Video Freak Module to add cropping and scaling Arcade Video Use the Arcade Video Module for arcade cores to support rotation, scandoubling, and most of the features that are in video_mixer. This file also includes screen_rotate which is used for vertical arcade games to allow rotation over HDMI. //Base video clock. Usually equals to CLK_SYS. output CLK_VIDEO , //Multiple resolutions are supported using different CE_PIXEL rates. //Must be based on CLK_VIDEO output CE_PIXEL , //Video aspect ratio for HDMI. Most retro systems have ratio 4:3. //if VIDEO_ARX[12] or VIDEO_ARY[12] is set then [11:0] contains scaled size instead of aspect ratio. output [ 12 : 0 ] VIDEO_ARX , output [ 12 : 0 ] VIDEO_ARY , output [ 7 : 0 ] VGA_R , output [ 7 : 0 ] VGA_G , output [ 7 : 0 ] VGA_B , output VGA_HS , output VGA_VS , output VGA_DE , // = ~(VBlank | HBlank) output VGA_F1 , output [ 1 : 0 ] VGA_SL , output VGA_SCALER , // Force VGA scaler input [ 11 : 0 ] HDMI_WIDTH , input [ 11 : 0 ] HDMI_HEIGHT , output HDMI_FREEZE , `ifdef MISTER_FB // Use framebuffer in DDRAM (USE_FB=1 in qsf) // FB_FORMAT: // [2:0] : 011=8bpp(palette) 100=16bpp 101=24bpp 110=32bpp // [3] : 0=16bits 565 1=16bits 1555 // [4] : 0=RGB 1=BGR (for 16/24/32 modes) // // FB_STRIDE either 0 (rounded to 256 bytes) or multiple of pixel size (in bytes) output FB_EN , output [ 4 : 0 ] FB_FORMAT , output [ 11 : 0 ] FB_WIDTH , output [ 11 : 0 ] FB_HEIGHT , output [ 31 : 0 ] FB_BASE , output [ 13 : 0 ] FB_STRIDE , input FB_VBL , input FB_LL , output FB_FORCE_BLANK , `ifdef MISTER_FB_PALETTE // Palette control for 8bit modes. // Ignored for other video modes. output FB_PAL_CLK , output [ 7 : 0 ] FB_PAL_ADDR , output [ 23 : 0 ] FB_PAL_DOUT , input [ 23 : 0 ] FB_PAL_DIN , output FB_PAL_WR , `endif `endif LEDs on the IO board output LED_USER , // 1 - ON, 0 - OFF. // b[1]: 0 - LED status is system status OR'd with b[0] // 1 - LED status is controled solely by b[0] // hint: supply 2'b00 to let the system control the LED. output [ 1 : 0 ] LED_POWER , output [ 1 : 0 ] LED_DISK , Buttons on IO board // I/O board button press simulation (active high) // b[1]: user button // b[0]: osd button output [ 1 : 0 ] BUTTONS , Audio input CLK_AUDIO , // 24.576 MHz output [ 15 : 0 ] AUDIO_L , output [ 15 : 0 ] AUDIO_R , output AUDIO_S , // 1 - signed audio samples, 0 - unsigned output [ 1 : 0 ] AUDIO_MIX , // 0 - no mix, 1 - 25%, 2 - 50%, 3 - 100% (mono) A to D converter Used for tape input and other things. An extra module on MiSTer that provides an analog audio jack, and conversion to digial signals. //ADC inout [ 3 : 0 ] ADC_BUS , Signals for the second SD card //SD-SPI output SD_SCK , output SD_MOSI , input SD_MISO , output SD_CS , input SD_CD , DDR3 Memory Subsystem //High latency DDR3 RAM interface //Use for non-critical time purposes output DDRAM_CLK , // any clock, no restrictions. Typically main core clock input DDRAM_BUSY , // every read and write request is only accepted in a cycle where busy is low output [ 7 : 0 ] DDRAM_BURSTCNT , // amount of words to be written/read. Maximum is 128 output [ 28 : 0 ] DDRAM_ADDR , // starting address for read/write. In case of burst, the addresses will internally count up input [ 63 : 0 ] DDRAM_DOUT , // data coming from (burst) read input DDRAM_DOUT_READY , // high for 1 clock cycle for every 64 bit dataword requested via (burst) read request output DDRAM_RD , // request read at DDRAM_ADDR and DDRAM_BURSTCNT length output [ 63 : 0 ] DDRAM_DIN , // data word to be written output [ 7 : 0 ] DDRAM_BE , // byte enable for each of the 8 bytes in DDRAM_DIN, only used for writing. (1=write, 0=ignore) output DDRAM_WE , // request write at DDRAM_ADDR with DDRAM_DIN data and DDRAM_BE mask Writing to DDR3 The internal DDR3 controller handles writes very efficiently, so burst writes are typically not required. To write, DDRAM_WE should be high for 1 clock cycle whenever DDRAM_BUSY is low. It will write the data in DDRAM_DIN to DDRAM_ADDR with respect to DDRAM_BE. For a single write, DDRAM_BURSTCNT should be 1. Multiple writes can also be issued without pausing when DDRAM_BURSTCNT = 1. Reading from DDR3 To read one or multiple 64 bit words, DDRAM_RD must be high for 1 clock cycle, while DDRAM_BUSY is low. It will read DDRAM_BURSTCNT 64 bit words from DDRAM_ADDR(counting up for bursts) and provide the results, typically one each clock cycle, at DDRAM_DOUT with DDRAM_DOUT_READY = 1, when the read is valid. Every read request will have a latency of multiple cycles. Something like 20 cycles @ 100Mhz is a typical value, but it can be way longer. DDR3 read should therefore be used with higher DDRAM_BURSTCNT to make use of the high bandwidth, whenever possible. DDR3 Busy signal DDRAM_BUSY acts like an ignore for the request ports. So whenever this signal is high, no request can be issued in this clock cycle. However, having a request pending doesn't lead to any problem, so it is uncritical to e.g. set DDRAM_RD = 1 in a clocked process and only clear it back to 0 when DDRAM_BUSY = 0. This way, the request signals can be clocked instead of being combinatorial, leading to higher possible clock speed and less problems with timing closure. Single and Dual SDRAM interface For full understanding of the SDRAM interface you will need to look at the specifications for the SDRAM chip. Also, the hardware may be useful, here is the Schematic . It is useful to look through some code that already runs on MiSTer: Look through the data sheet for the 32MB module. The 64MB module data sheet isn't as detailed. Some examples of SDRAM modules: * single port direct usage: Gameboy * multi port request/response: Gameboy Advance * complex bank machine: JT Frame //SDRAM interface with lower latency output SDRAM_CLK , output SDRAM_CKE , output [ 12 : 0 ] SDRAM_A , output [ 1 : 0 ] SDRAM_BA , inout [ 15 : 0 ] SDRAM_DQ , output SDRAM_DQML , output SDRAM_DQMH , output SDRAM_nCS , output SDRAM_nCAS , output SDRAM_nRAS , output SDRAM_nWE , `ifdef MISTER_DUAL_SDRAM //Secondary SDRAM //Set all output SDRAM_* signals to Z ASAP if SDRAM2_EN is 0 input SDRAM2_EN , output SDRAM2_CLK , output [ 12 : 0 ] SDRAM2_A , output [ 1 : 0 ] SDRAM2_BA , inout [ 15 : 0 ] SDRAM2_DQ , output SDRAM2_nCS , output SDRAM2_nCAS , output SDRAM2_nRAS , output SDRAM2_nWE , `endif Serial Support Serial is passed to the linux arm side of the MiSTer. On the arm side, software decides what to do with the data. ie: send it to shell, ppp, MIDI, etc. Different serial speeds and optons are set using options in the CONF_STR . input UART_CTS , output UART_RTS , input UART_RXD , output UART_TXD , output UART_DTR , input UART_DSR , User Port - extra USB 3.1A style connector on MiSTer USB P7 Name PIN MiSTer emu wire 1 +5V +5V 2 2 TX SDA AH9 USER_IO[1] 3 1 RX SCL AG11 USER_IO[0] 4 GND GND 5 8 DSR IO10 AF15 USER_IO[5] 6 7 DTR IO11 AG16 USER_IO[4] 7 6 CTS IO12 AH11 USER_IO[3] 8 5 RTS IO13 AH12 USER_IO[2] 9 10 IO6 IO8 AF17 USER_IO[6] 10 Shield Shield // Open-drain User port. // 0 - D+/RX // 1 - D-/TX // 2..6 - USR2..USR6 // Set USER_OUT to 1 to read from USER_IN. input [ 6 : 0 ] USER_IN , output [ 6 : 0 ] USER_OUT , OSD Status This is set to 1 when the OSD is open. It can be used to pause the core when the OSD is open, and/or for autosave. input OSD_STATUS","title":"overview of emu module"},{"location":"developer/emu/#instantiating-your-core","text":"Tour core should be inside an emu block, see the Template Top Level for an example. Some of the contents of this article regarding the code used might be outdated, always reference the Template in the link above for the latest framework version.","title":"Instantiating your core"},{"location":"developer/emu/#master-input-clock","text":"//Master input clock input CLK_50M , Most cores will use the PLL which is instantiated from the sys folder, but the pll needs to live in the rtl folder off of the top level (at the same level as sys). This choice was made so that you can update the sys folder without losing the PLL configuration. NOTE: For full compatibility with the existing sys architecture, keep the pll named 'pll' and the instance 'pll' as shown below. You can use the megawizard to edit the pll to modify the required frequencies etc... (including adding more outputs). If you don't have a pll create a new one, or use the one from the template. The sys_top.sdc requires the name for the pll and the instance name be correct. wire clk_sys; pll pll ( .refclk(CLK_50M), .rst(0), .outclk_0(clk_sys) );","title":"Master input clock"},{"location":"developer/emu/#reset","text":"//Async reset from top-level module. //Can be used as initial reset. input RESET , Normally the RESET line is used in conjunction with the button on the I/O board, as well as a status flag. Most cores use status bit 0 (this is reserved for a Soft Reset), and a CONF_STR that includes an option like: \"R0,Reset;\" wire reset = RESET | status [ 0 ] | buttons [ 1 ];","title":"Reset"},{"location":"developer/emu/#hps-bus","text":"The HPS Bus is used to communicate with the ARM processor. It is passed into the hps_io module which will do a bunch of work for the core, and provide a simpler interface to use. Include the hps_io module in the emu module. See hps_io //Must be passed to hps_io module inout [ 45 : 0 ] HPS_BUS ,","title":"HPS Bus"},{"location":"developer/emu/#video-signals","text":"The top level module that calls emu includes the high quality HDMI scaler, and provides a fairly simple interface to output video on MiSTer. There are a number of other helper modules that can be included to provide proper video output. At the simplest level provide a CLK_VIDEO, and/or CE_PIXEL (CE_PIXEL can be set to 1 if your video clk is correct). The video clock needs to be greater than 40MHZ for all of the features to work. Generally the video signals want to be whatever the native resolution of the machine that is being emulated. ie: an old 8bit computer will generally output 15khz video. MiSTer has a scandoubler built in that will create VGA compatible output if the user wants that on their VGA port. To include this scandoubler in the core you will usually use the video_mixer or arcade_video modules. The forced_scandoubler signal comes from the hps_io module. Some users want to use a 15khz monitor with 15khz cores, so the core itself shouldn't have a scandoubler built in. Some original devices may have had higher resolution output, if that native output was greater than 15khz, it is ok to output it natively through the VGA signals. The scaler will use the VGA_DE (usually based on HBLANK and VBLANK assign VGA_DE = ~(HBlank | VBlank); ) to scale it up to HDMI based on the settings in the ini file.","title":"Video Signals"},{"location":"developer/emu/#video-mixer","text":"Use the Video Mixer Module to add MiSTer framework standard features like gamma support, scaling, and scandoubling.","title":"Video Mixer"},{"location":"developer/emu/#video-freak","text":"Use the Video Freak Module to add cropping and scaling","title":"Video Freak"},{"location":"developer/emu/#arcade-video","text":"Use the Arcade Video Module for arcade cores to support rotation, scandoubling, and most of the features that are in video_mixer. This file also includes screen_rotate which is used for vertical arcade games to allow rotation over HDMI. //Base video clock. Usually equals to CLK_SYS. output CLK_VIDEO , //Multiple resolutions are supported using different CE_PIXEL rates. //Must be based on CLK_VIDEO output CE_PIXEL , //Video aspect ratio for HDMI. Most retro systems have ratio 4:3. //if VIDEO_ARX[12] or VIDEO_ARY[12] is set then [11:0] contains scaled size instead of aspect ratio. output [ 12 : 0 ] VIDEO_ARX , output [ 12 : 0 ] VIDEO_ARY , output [ 7 : 0 ] VGA_R , output [ 7 : 0 ] VGA_G , output [ 7 : 0 ] VGA_B , output VGA_HS , output VGA_VS , output VGA_DE , // = ~(VBlank | HBlank) output VGA_F1 , output [ 1 : 0 ] VGA_SL , output VGA_SCALER , // Force VGA scaler input [ 11 : 0 ] HDMI_WIDTH , input [ 11 : 0 ] HDMI_HEIGHT , output HDMI_FREEZE , `ifdef MISTER_FB // Use framebuffer in DDRAM (USE_FB=1 in qsf) // FB_FORMAT: // [2:0] : 011=8bpp(palette) 100=16bpp 101=24bpp 110=32bpp // [3] : 0=16bits 565 1=16bits 1555 // [4] : 0=RGB 1=BGR (for 16/24/32 modes) // // FB_STRIDE either 0 (rounded to 256 bytes) or multiple of pixel size (in bytes) output FB_EN , output [ 4 : 0 ] FB_FORMAT , output [ 11 : 0 ] FB_WIDTH , output [ 11 : 0 ] FB_HEIGHT , output [ 31 : 0 ] FB_BASE , output [ 13 : 0 ] FB_STRIDE , input FB_VBL , input FB_LL , output FB_FORCE_BLANK , `ifdef MISTER_FB_PALETTE // Palette control for 8bit modes. // Ignored for other video modes. output FB_PAL_CLK , output [ 7 : 0 ] FB_PAL_ADDR , output [ 23 : 0 ] FB_PAL_DOUT , input [ 23 : 0 ] FB_PAL_DIN , output FB_PAL_WR , `endif `endif","title":"Arcade Video"},{"location":"developer/emu/#leds-on-the-io-board","text":"output LED_USER , // 1 - ON, 0 - OFF. // b[1]: 0 - LED status is system status OR'd with b[0] // 1 - LED status is controled solely by b[0] // hint: supply 2'b00 to let the system control the LED. output [ 1 : 0 ] LED_POWER , output [ 1 : 0 ] LED_DISK ,","title":"LEDs on the IO board"},{"location":"developer/emu/#buttons-on-io-board","text":"// I/O board button press simulation (active high) // b[1]: user button // b[0]: osd button output [ 1 : 0 ] BUTTONS ,","title":"Buttons on IO board"},{"location":"developer/emu/#audio","text":"input CLK_AUDIO , // 24.576 MHz output [ 15 : 0 ] AUDIO_L , output [ 15 : 0 ] AUDIO_R , output AUDIO_S , // 1 - signed audio samples, 0 - unsigned output [ 1 : 0 ] AUDIO_MIX , // 0 - no mix, 1 - 25%, 2 - 50%, 3 - 100% (mono)","title":"Audio"},{"location":"developer/emu/#a-to-d-converter","text":"Used for tape input and other things. An extra module on MiSTer that provides an analog audio jack, and conversion to digial signals. //ADC inout [ 3 : 0 ] ADC_BUS ,","title":"A to D converter"},{"location":"developer/emu/#signals-for-the-second-sd-card","text":"//SD-SPI output SD_SCK , output SD_MOSI , input SD_MISO , output SD_CS , input SD_CD ,","title":"Signals for the second SD card"},{"location":"developer/emu/#ddr3-memory-subsystem","text":"//High latency DDR3 RAM interface //Use for non-critical time purposes output DDRAM_CLK , // any clock, no restrictions. Typically main core clock input DDRAM_BUSY , // every read and write request is only accepted in a cycle where busy is low output [ 7 : 0 ] DDRAM_BURSTCNT , // amount of words to be written/read. Maximum is 128 output [ 28 : 0 ] DDRAM_ADDR , // starting address for read/write. In case of burst, the addresses will internally count up input [ 63 : 0 ] DDRAM_DOUT , // data coming from (burst) read input DDRAM_DOUT_READY , // high for 1 clock cycle for every 64 bit dataword requested via (burst) read request output DDRAM_RD , // request read at DDRAM_ADDR and DDRAM_BURSTCNT length output [ 63 : 0 ] DDRAM_DIN , // data word to be written output [ 7 : 0 ] DDRAM_BE , // byte enable for each of the 8 bytes in DDRAM_DIN, only used for writing. (1=write, 0=ignore) output DDRAM_WE , // request write at DDRAM_ADDR with DDRAM_DIN data and DDRAM_BE mask","title":"DDR3 Memory Subsystem"},{"location":"developer/emu/#writing-to-ddr3","text":"The internal DDR3 controller handles writes very efficiently, so burst writes are typically not required. To write, DDRAM_WE should be high for 1 clock cycle whenever DDRAM_BUSY is low. It will write the data in DDRAM_DIN to DDRAM_ADDR with respect to DDRAM_BE. For a single write, DDRAM_BURSTCNT should be 1. Multiple writes can also be issued without pausing when DDRAM_BURSTCNT = 1.","title":"Writing to DDR3"},{"location":"developer/emu/#reading-from-ddr3","text":"To read one or multiple 64 bit words, DDRAM_RD must be high for 1 clock cycle, while DDRAM_BUSY is low. It will read DDRAM_BURSTCNT 64 bit words from DDRAM_ADDR(counting up for bursts) and provide the results, typically one each clock cycle, at DDRAM_DOUT with DDRAM_DOUT_READY = 1, when the read is valid. Every read request will have a latency of multiple cycles. Something like 20 cycles @ 100Mhz is a typical value, but it can be way longer. DDR3 read should therefore be used with higher DDRAM_BURSTCNT to make use of the high bandwidth, whenever possible.","title":"Reading from DDR3"},{"location":"developer/emu/#ddr3-busy-signal","text":"DDRAM_BUSY acts like an ignore for the request ports. So whenever this signal is high, no request can be issued in this clock cycle. However, having a request pending doesn't lead to any problem, so it is uncritical to e.g. set DDRAM_RD = 1 in a clocked process and only clear it back to 0 when DDRAM_BUSY = 0. This way, the request signals can be clocked instead of being combinatorial, leading to higher possible clock speed and less problems with timing closure.","title":"DDR3 Busy signal"},{"location":"developer/emu/#single-and-dual-sdram-interface","text":"For full understanding of the SDRAM interface you will need to look at the specifications for the SDRAM chip. Also, the hardware may be useful, here is the Schematic . It is useful to look through some code that already runs on MiSTer: Look through the data sheet for the 32MB module. The 64MB module data sheet isn't as detailed. Some examples of SDRAM modules: * single port direct usage: Gameboy * multi port request/response: Gameboy Advance * complex bank machine: JT Frame //SDRAM interface with lower latency output SDRAM_CLK , output SDRAM_CKE , output [ 12 : 0 ] SDRAM_A , output [ 1 : 0 ] SDRAM_BA , inout [ 15 : 0 ] SDRAM_DQ , output SDRAM_DQML , output SDRAM_DQMH , output SDRAM_nCS , output SDRAM_nCAS , output SDRAM_nRAS , output SDRAM_nWE , `ifdef MISTER_DUAL_SDRAM //Secondary SDRAM //Set all output SDRAM_* signals to Z ASAP if SDRAM2_EN is 0 input SDRAM2_EN , output SDRAM2_CLK , output [ 12 : 0 ] SDRAM2_A , output [ 1 : 0 ] SDRAM2_BA , inout [ 15 : 0 ] SDRAM2_DQ , output SDRAM2_nCS , output SDRAM2_nCAS , output SDRAM2_nRAS , output SDRAM2_nWE , `endif","title":"Single and Dual SDRAM interface"},{"location":"developer/emu/#serial-support","text":"Serial is passed to the linux arm side of the MiSTer. On the arm side, software decides what to do with the data. ie: send it to shell, ppp, MIDI, etc. Different serial speeds and optons are set using options in the CONF_STR . input UART_CTS , output UART_RTS , input UART_RXD , output UART_TXD , output UART_DTR , input UART_DSR ,","title":"Serial Support"},{"location":"developer/emu/#user-port-extra-usb-31a-style-connector-on-mister","text":"USB P7 Name PIN MiSTer emu wire 1 +5V +5V 2 2 TX SDA AH9 USER_IO[1] 3 1 RX SCL AG11 USER_IO[0] 4 GND GND 5 8 DSR IO10 AF15 USER_IO[5] 6 7 DTR IO11 AG16 USER_IO[4] 7 6 CTS IO12 AH11 USER_IO[3] 8 5 RTS IO13 AH12 USER_IO[2] 9 10 IO6 IO8 AF17 USER_IO[6] 10 Shield Shield // Open-drain User port. // 0 - D+/RX // 1 - D-/TX // 2..6 - USR2..USR6 // Set USER_OUT to 1 to read from USER_IN. input [ 6 : 0 ] USER_IN , output [ 6 : 0 ] USER_OUT ,","title":"User Port - extra USB 3.1A style connector on MiSTer"},{"location":"developer/emu/#osd-status","text":"This is set to 1 when the OSD is open. It can be used to pause the core when the OSD is open, and/or for autosave. input OSD_STATUS","title":"OSD Status"},{"location":"developer/headonsoundpcb/","text":"Article by MiSTer core developer Jegor van Opdorp (SupraDeus/jopdorp) This article contains a description of how we implemented the sound PCB of the game Head On from SEGA/Gremlin. First steps We analyzed the schematics of the Head On sound PCB board. Identifying circuits for individual sounds, and repeated parts of the circuit. We talked about what we thought is what, and decided to start with the car sound. Finding real footage Searching the web for video's with the sounds, we found a couple, but the quality was bad: https://discord.com/channels/@me/950484205664612402/951108401801338890 https://discord.com/channels/@me/950484205664612402/951139287745851425 JimmyStones contacted the maker of the sound board, to see if he had some tips. He seemed willing to help, but not familiar enough with the fpga domain to join the project. The JimmyStones found someone who own a cabinet and was able to obtain some good sound recordings. This gave us a way to validate our results. Simulating and analyzing Car We started by implementing the car sound in the falstad simulator. It took some tweaking, mostly getting things like the diode type and transistor beta values right. We managed to get a result that sounded pretty much like the real deal. This is the final circuit: car_circuit.txt it can be loaded into the falstad simulator Frow there it is possible to record a wav file, which we used to analyze the sound. It turns out that the car sound consists of a repeating waveform that looks like this: The frequency of this waveform is modulated. It starts inaudibly low. Then when the game starts, it follows an upward curve until a limit. When the \"high speed\" button is pressed it momentarily drops in frequency and follows a quick upward curve, and follows a downward curve when it is released, like so: Based on this information we were able to come up wih an implementation strategy: Turn the waveform into an array Turn the frequency response curve into trhee lookup tables: One for the start of the game One for when the \"high speed\" button is pressed One for when the \"high speed button is not pressed Follow the frequnce curve as needed, according to the current state. Bonus The bonus sound seemed simple at first, but turned out to be more complicated than we thought. When the bonus input goes high shortly, and then low. The sound is quite simple, like so: We came up with a algorithm to describe this sound, and implemented it in a SystemVerilog module. The algorithm: Bonus is a pulse generator, that goes to 100% amplitude immediately when the bonus pin goes high. The pulse is always running, just multiplied by an amplitude. When the bonus pin goes low, the sound decreases in volume following a an exponential curve. When the bonus pin is low, the pulse period is 3/4 of the length, resulting in a perfect fourth The amplitude halves every 28 ms so it's something like: Amplitude = MaxAmplitude-((0.976^time_in_miliseconds)*MaxAmplitude) MaxAmplitude should be set to the highest number that fits, in for example 32 bits, to keep precision. Normally I use fixed point math with 32 of precision for multiplications like this. Later we will convert to 16 bits precision, for the output. The pulse period when the bonus pin is high has length 0.002746s, and it's high 75% of the time so equivalent to a loop of: {1,1,1,0} The final result looks like it goes through a very slight low pass filter. This basically results in a loop of: {97{2}, 1, 33{0}, 1} At 48khz this results in a wavelengths of 0.00275s We implemented this in SystemVerilog like so: module bonus ( input clk , input clk_48KHz_en , input bonus_en , output reg [ 15 : 0 ] audio_out = 0 ); localparam MAX_AMPLITUDE = 1 << 18 << 14 ; reg [ 1 : 0 ] WAVEFORM_SLOW [ 131 : 0 ]; reg [ 1 : 0 ] WAVEFORM_FAST [ 98 : 0 ]; assign WAVEFORM_SLOW [ 97 ] = 1 ; assign WAVEFORM_SLOW [ 131 ] = 1 ; assign WAVEFORM_FAST [ 73 ] = 1 ; assign WAVEFORM_FAST [ 98 ] = 1 ; genvar i ; generate for ( i = 0 ; i <= 96 ; i = i + 1 ) begin assign WAVEFORM_SLOW [ i ] = 2 ; end for ( i = 98 ; i <= 130 ; i = i + 1 ) begin assign WAVEFORM_SLOW [ i ] = 0 ; end endgenerate genvar j ; generate for ( j = 0 ; j <= 72 ; j = j + 1 ) begin assign WAVEFORM_FAST [ j ] = 2 ; end for ( j = 74 ; j <= 97 ; j = j + 1 ) begin assign WAVEFORM_FAST [ j ] = 0 ; end endgenerate localparam AMPLITUDE_RATIO_PER_TIMESTEP_18 = 262008 ; // z^(28ms*48khz) = 0.5, so z = 0.99948, 0.99948 * 2^18 = 262008 reg [ 9 : 0 ] current_sample = 0 ; reg [ 68 : 0 ] amplitude = 0 ; reg last_bonus_en = 0 ; localparam SLOW_TO_FAST_RATIO_16 = 87381 ; // 4/3 * 2^16 = 87381.3333333 reg [ 15 : 0 ] map_slow_to_fast = (( current_sample * SLOW_TO_FAST_RATIO_16 ) >> 16 ); always_ff @( posedge clk ) begin if ( clk_48KHz_en ) begin last_bonus_en <= bonus_en ; if ( bonus_en ) begin amplitude <= MAX_AMPLITUDE ; if ( current_sample == 131 ) begin current_sample <= 0 ; end else begin current_sample <= current_sample + 1 ; end audio_out <= ( amplitude * WAVEFORM_SLOW [ current_sample ]) >> 18 ; end else begin if ( last_bonus_en ) begin current_sample <= map_slow_to_fast ; audio_out <= ( amplitude * WAVEFORM_SLOW [ current_sample ]) >> 18 ; end else begin if ( current_sample >= 98 ) begin current_sample <= 0 ; end else begin current_sample <= current_sample + 1 ; end audio_out <= ( amplitude * WAVEFORM_FAST [ current_sample ]) >> 18 ; end amplitude <= ( AMPLITUDE_RATIO_PER_TIMESTEP_18 * amplitude ) >> 18 ; end end end endmodule But it turned out that this was not the whole story. At the end of the game, the bonus pin goes high for a longer time, which triggers a different effect, where the frequency of the tone gets modulated in a more complex way. We had to go back to simulation, where it turned out that the NOT gated at the bottom had the wrong voltage threshold assigned to them. While this did not change the short bonus sound, which the machine makes when a jewel is picked up, it does change the sound when the bonus pin goes high for a longer period. It turned out that the Falstad simulator was not fast enough to simulate this circuit though. We then turned to LTspice see if that was quick enough.","title":"Head On Sound PCB Implementation"},{"location":"developer/headonsoundpcb/#first-steps","text":"We analyzed the schematics of the Head On sound PCB board. Identifying circuits for individual sounds, and repeated parts of the circuit. We talked about what we thought is what, and decided to start with the car sound.","title":"First steps"},{"location":"developer/headonsoundpcb/#finding-real-footage","text":"Searching the web for video's with the sounds, we found a couple, but the quality was bad: https://discord.com/channels/@me/950484205664612402/951108401801338890 https://discord.com/channels/@me/950484205664612402/951139287745851425 JimmyStones contacted the maker of the sound board, to see if he had some tips. He seemed willing to help, but not familiar enough with the fpga domain to join the project. The JimmyStones found someone who own a cabinet and was able to obtain some good sound recordings. This gave us a way to validate our results.","title":"Finding real footage"},{"location":"developer/headonsoundpcb/#simulating-and-analyzing","text":"","title":"Simulating and analyzing"},{"location":"developer/headonsoundpcb/#car","text":"We started by implementing the car sound in the falstad simulator. It took some tweaking, mostly getting things like the diode type and transistor beta values right. We managed to get a result that sounded pretty much like the real deal. This is the final circuit: car_circuit.txt it can be loaded into the falstad simulator Frow there it is possible to record a wav file, which we used to analyze the sound. It turns out that the car sound consists of a repeating waveform that looks like this: The frequency of this waveform is modulated. It starts inaudibly low. Then when the game starts, it follows an upward curve until a limit. When the \"high speed\" button is pressed it momentarily drops in frequency and follows a quick upward curve, and follows a downward curve when it is released, like so: Based on this information we were able to come up wih an implementation strategy: Turn the waveform into an array Turn the frequency response curve into trhee lookup tables: One for the start of the game One for when the \"high speed\" button is pressed One for when the \"high speed button is not pressed Follow the frequnce curve as needed, according to the current state.","title":"Car"},{"location":"developer/headonsoundpcb/#bonus","text":"The bonus sound seemed simple at first, but turned out to be more complicated than we thought. When the bonus input goes high shortly, and then low. The sound is quite simple, like so: We came up with a algorithm to describe this sound, and implemented it in a SystemVerilog module.","title":"Bonus"},{"location":"developer/headonsoundpcb/#the-algorithm","text":"Bonus is a pulse generator, that goes to 100% amplitude immediately when the bonus pin goes high. The pulse is always running, just multiplied by an amplitude. When the bonus pin goes low, the sound decreases in volume following a an exponential curve. When the bonus pin is low, the pulse period is 3/4 of the length, resulting in a perfect fourth The amplitude halves every 28 ms so it's something like: Amplitude = MaxAmplitude-((0.976^time_in_miliseconds)*MaxAmplitude) MaxAmplitude should be set to the highest number that fits, in for example 32 bits, to keep precision. Normally I use fixed point math with 32 of precision for multiplications like this. Later we will convert to 16 bits precision, for the output. The pulse period when the bonus pin is high has length 0.002746s, and it's high 75% of the time so equivalent to a loop of: {1,1,1,0} The final result looks like it goes through a very slight low pass filter. This basically results in a loop of: {97{2}, 1, 33{0}, 1} At 48khz this results in a wavelengths of 0.00275s We implemented this in SystemVerilog like so: module bonus ( input clk , input clk_48KHz_en , input bonus_en , output reg [ 15 : 0 ] audio_out = 0 ); localparam MAX_AMPLITUDE = 1 << 18 << 14 ; reg [ 1 : 0 ] WAVEFORM_SLOW [ 131 : 0 ]; reg [ 1 : 0 ] WAVEFORM_FAST [ 98 : 0 ]; assign WAVEFORM_SLOW [ 97 ] = 1 ; assign WAVEFORM_SLOW [ 131 ] = 1 ; assign WAVEFORM_FAST [ 73 ] = 1 ; assign WAVEFORM_FAST [ 98 ] = 1 ; genvar i ; generate for ( i = 0 ; i <= 96 ; i = i + 1 ) begin assign WAVEFORM_SLOW [ i ] = 2 ; end for ( i = 98 ; i <= 130 ; i = i + 1 ) begin assign WAVEFORM_SLOW [ i ] = 0 ; end endgenerate genvar j ; generate for ( j = 0 ; j <= 72 ; j = j + 1 ) begin assign WAVEFORM_FAST [ j ] = 2 ; end for ( j = 74 ; j <= 97 ; j = j + 1 ) begin assign WAVEFORM_FAST [ j ] = 0 ; end endgenerate localparam AMPLITUDE_RATIO_PER_TIMESTEP_18 = 262008 ; // z^(28ms*48khz) = 0.5, so z = 0.99948, 0.99948 * 2^18 = 262008 reg [ 9 : 0 ] current_sample = 0 ; reg [ 68 : 0 ] amplitude = 0 ; reg last_bonus_en = 0 ; localparam SLOW_TO_FAST_RATIO_16 = 87381 ; // 4/3 * 2^16 = 87381.3333333 reg [ 15 : 0 ] map_slow_to_fast = (( current_sample * SLOW_TO_FAST_RATIO_16 ) >> 16 ); always_ff @( posedge clk ) begin if ( clk_48KHz_en ) begin last_bonus_en <= bonus_en ; if ( bonus_en ) begin amplitude <= MAX_AMPLITUDE ; if ( current_sample == 131 ) begin current_sample <= 0 ; end else begin current_sample <= current_sample + 1 ; end audio_out <= ( amplitude * WAVEFORM_SLOW [ current_sample ]) >> 18 ; end else begin if ( last_bonus_en ) begin current_sample <= map_slow_to_fast ; audio_out <= ( amplitude * WAVEFORM_SLOW [ current_sample ]) >> 18 ; end else begin if ( current_sample >= 98 ) begin current_sample <= 0 ; end else begin current_sample <= current_sample + 1 ; end audio_out <= ( amplitude * WAVEFORM_FAST [ current_sample ]) >> 18 ; end amplitude <= ( AMPLITUDE_RATIO_PER_TIMESTEP_18 * amplitude ) >> 18 ; end end end endmodule But it turned out that this was not the whole story. At the end of the game, the bonus pin goes high for a longer time, which triggers a different effect, where the frequency of the tone gets modulated in a more complex way. We had to go back to simulation, where it turned out that the NOT gated at the bottom had the wrong voltage threshold assigned to them. While this did not change the short bonus sound, which the machine makes when a jewel is picked up, it does change the sound when the bonus pin goes high for a longer period. It turned out that the Falstad simulator was not fast enough to simulate this circuit though. We then turned to LTspice see if that was quick enough.","title":"The algorithm:"},{"location":"developer/hps_io/","text":"HPS stands for Hard Processor System, or the ARM part of the MiSTer FPGA. The hps_io.sv file contains the hps_io module that talks to the MiSTer binary on the arm side. It provides convenient signals to use in each core that abstract the different types of I/O that the core might need to support. Instantiating hps_io The module has a few parameters that are used to set it up: CONF_STR - This is how the HPS reads the OSD configuration string PS2DIV - This divides the clk_sys to create a slower clock for the legacy ps2 signals: ps2_kbd_clk_out etc WIDE - This makes the ioctl data and sd_buff signals 8 bit (WIDE=0) or 16 bit (WIDE=1) if it is wide, ioctl_addr is incremented by 2 VDNUM - Virtual Device Number - This can be 1 to 4, and will create extra virtual block devices BLKSZ - Block Size - set the block size of the block device - 0 = 128, 1 = 256, 2 = 512(default), .. 7 = 16384 PS2WE - PS2 Write Enable - option to use 2 way PS/2 communications. See ao486 core. clk_sys is the system clock. Make sure to use the same clock when reading from these signals. HPS_BUS should be passed through from the top level emu. // // Use buffer to access SD card. It's time-critical part. // // WIDE=1 for 16 bit file I/O // VDNUM 1..4 // BLKSZ 0..7: 0 = 128, 1 = 256, 2 = 512(default), .. 7 = 16384 // module hps_io #( parameter CONF_STR , CONF_STR_BRAM = 1 , PS2DIV = 0 , WIDE = 0 , VDNUM = 1 , BLKSZ = 2 , PS2WE = 0 ) ( input clk_sys , inout [ 48 : 0 ] HPS_BUS , Joystick input MiSTer supports up to 6 players on separate joysticks. joystick_0..5 are digital joysticks. They contain the directions in the first 4 bits, and then they have buttons that can be mapped using the CONF_STR J. joystick_x[0] = right joystick_x[1] = left joystick_x[2] = down joystick_x[3] = up Analog joysticks are supported by connecting joystick_l_analog_x. The values are analog -127..+127, Y: [15:8] , X: [7:0] . Depending on how you want to use the values, you may need to renormalize them. -128 is omitted so it is easier to invert the direction. l is the left joystick, r is the right joystick on a playstation style controller. Paddles - paddle_x - are input devices that have a range from 0 to 255. They do not spin fully. Spinners - spinner_x - are a paddle looking device, but there is no stop in the hardware, they spin freely. Therefore, these use an extra bit 8 that toggles with each update. the value is in 0:7, -128..+127 - they are relative, and usually the value will be between -8 and 8. // buttons up to 32 output reg [ 31 : 0 ] joystick_0 , output reg [ 31 : 0 ] joystick_1 , output reg [ 31 : 0 ] joystick_2 , output reg [ 31 : 0 ] joystick_3 , output reg [ 31 : 0 ] joystick_4 , output reg [ 31 : 0 ] joystick_5 , // analog -127..+127, Y: [15:8], X: [7:0] output reg [ 15 : 0 ] joystick_l_analog_0 , output reg [ 15 : 0 ] joystick_l_analog_1 , output reg [ 15 : 0 ] joystick_l_analog_2 , output reg [ 15 : 0 ] joystick_l_analog_3 , output reg [ 15 : 0 ] joystick_l_analog_4 , output reg [ 15 : 0 ] joystick_l_analog_5 , output reg [ 15 : 0 ] joystick_r_analog_0 , output reg [ 15 : 0 ] joystick_r_analog_1 , output reg [ 15 : 0 ] joystick_r_analog_2 , output reg [ 15 : 0 ] joystick_r_analog_3 , output reg [ 15 : 0 ] joystick_r_analog_4 , output reg [ 15 : 0 ] joystick_r_analog_5 , // paddle 0..255 output reg [ 7 : 0 ] paddle_0 , output reg [ 7 : 0 ] paddle_1 , output reg [ 7 : 0 ] paddle_2 , output reg [ 7 : 0 ] paddle_3 , output reg [ 7 : 0 ] paddle_4 , output reg [ 7 : 0 ] paddle_5 , // spinner [7:0] -128..+127, [8] - toggle with every update output reg [ 8 : 0 ] spinner_0 , output reg [ 8 : 0 ] spinner_1 , output reg [ 8 : 0 ] spinner_2 , output reg [ 8 : 0 ] spinner_3 , output reg [ 8 : 0 ] spinner_4 , output reg [ 8 : 0 ] spinner_5 , Buttons Buttons from the top level emu are what the hardware sees. Buttons from the hps_io can include emulated button presses from the OSD, HPS, etc. buttons[1] is the user button buttons[0] is the OSD button // I/O board button press simulation (active high) // b[1]: user button // b[0]: osd button output [ 1 : 0 ] buttons , Forced Scandoubler Forced Scandoubler is set to 1 when the user wants the scandoubler turned on. output forced_scandoubler , Direct Video Direct Video is set to 1 when the MiSTer is using the hdmi as a VGA port with a proper converter. output direct_video , Status The status bits are used by the OSD to provide the core with status that the user picks in the OSD. For example, the status string: \"O1,Colors,NTSC,PAL;\", would set status[1] to 0 for NTSC and 1 for PAL. See the documentation for the CONF_STR to understand all of the OSD options. status_menumask - this is used to tell the OSD to turn on and off options using the H or h option. Set bit 0 to effect H0. status_in, status_set - when status_set is 1, the hps_io will grab the status_in and use it to change the status bits output reg [ 63 : 0 ] status , input [ 63 : 0 ] status_in , input status_set , input [ 15 : 0 ] status_menumask , Info info - info string to display from CONF_STR info_req - ask HPS to display info string on OSD input info_req , input [ 7 : 0 ] info , Force a new Video mode new_vmode - if the core needs to force the system to change video modes, it can set this flag //toggle to force notify of video mode change input new_vmode , Virtual Hard Drives and Block Devices Hard drive images are loaded with the S option in the OSD. There can be up to 10 images mounted at once if VDUM is set to 10. 1-10 are valid values. When an image is mounted a bit is set in img_mounted, and then img_readonly and img_size are valid for that img_mounted. Save these values into a register if you will need them later. These are block devices, so the way to read or write to them is to first specify the blk, and then specify a rd or wr and it will start to stream addresses through the sd_buff_addr. There is no wait line, because it is assumed that you will be writing one block of data into DPRAM and it will write immediately. To read data, set the sb_lba to the block number you want to seek to. Then set the correct bit in sd_rd to 1, and the HPS will respond by raising the correct bit in sd_ack, and keeping it high for the duration of the read. The HPS will then use sd_buff_addr and sd_buff_dout and sd_buff_wr to count from 0 to BLKSZ and send a byte per clock. After reaching the last byte, it will clear the sd_ack. To write data, set the sb_lba to the block number you want to seek to. Then set the correct bit in sd_wr to 1. Similar to a read, it will raise the sd_ack bit, and count the sd_buff_addr - the core will respond by setting each sd_buff_din to the data it wants to write. After the block is written (sd_buff_addr reaches BLKSZ) sd_ack will be cleared. When the user unmounts the image from the OSD, img_mounted will go high, and the img_size will be set to zero. That is how the core knows to unmount the current image. sd_lba[VDNUM] - logical block address - this is the block we want to start accessing sd_blk_cnt - number of blocks sd_rd - read number of blocks starting at address sd_wr - write number of blocks starting at address sd_ack - data read on the sd_buff_out is valid OR that write data must be valid on sd_buff_in[VDNUM] sd_buff_addr - byte address sd_buff_dout - data from disk sd_buff_din[VDNUM] - data to disk sd_buff_wr - Typically the read data from the blk interface is written into a FIFO or other DPRAM construct. This is a supplied control signal for the write signal to that FIFO // SD config output reg [ VD: 0 ] img_mounted , // signaling that new image has been mounted output reg img_readonly , // mounted as read only. valid only for active bit in img_mounted output reg [ 63 : 0 ] img_size , // size of image in bytes. valid only for active bit in img_mounted // SD block level access input [ 31 : 0 ] sd_lba [ VDNUM ], input [ 5 : 0 ] sd_blk_cnt [ VDNUM ], // number of blocks-1, total size ((sd_blk_cnt+1)*(1<<(BLKSZ+7))) must be <= 16384! input [ VD: 0 ] sd_rd , input [ VD: 0 ] sd_wr , output reg [ VD: 0 ] sd_ack , // SD byte level access. Signals for 2-PORT altsyncram. output reg [ AW: 0 ] sd_buff_addr , output reg [ DW: 0 ] sd_buff_dout , input [ DW: 0 ] sd_buff_din [ VDNUM ], output reg sd_buff_wr , ROM and File loading, NVRAM saving Boot ROMS are automatically loaded using ioctl lines. You can also have ROMS loaded via the F in the OSD, or via an MRA. ioctl_download - 1 when data is being downloaded. ioctl_index - [15:6] which file type [5:0] file number ioctl_wr - high when each byte is valid. ioctl_addr - address of byte from / to file - counts by two if set to wide ioctl_dout - data going to core from HPS (ROM) ioctl_din - data going to HPS from core - ie: to save NVRAM ioctl_upload - indicate there is an active upload ioctl_upload_req - set to 1 to ask the HPS to initiate an NVRAM save, for autosave, HPS only reads this when the OSD is open ioctl_rd - data is valid to read ioctl_file_ext - this is the file extension as a string ioctl_wait - set this flag to 1 if core isn't ready to process another byte from the HPS (flow control) // ARM -> FPGA download output reg ioctl_download = 0 , // signal indicating an active download output reg [ 15 : 0 ] ioctl_index , // menu index used to upload the file output reg ioctl_wr , output reg [ 26 : 0 ] ioctl_addr , // in WIDE mode address will be incremented by 2 output reg [ DW: 0 ] ioctl_dout , output reg ioctl_upload = 0 , // signal indicating an active upload input ioctl_upload_req , input [ DW: 0 ] ioctl_din , output reg ioctl_rd , output reg [ 31 : 0 ] ioctl_file_ext , input ioctl_wait , Note: boot.rom is sent via ioctl_index == 0, boot1.rom is sent with [5:0] set to 0, and [15:6] set to 1. boot2.rom.. etc SDRAM board size // [15]: 0 - unset, 1 - set. [1:0]: 0 - none, 1 - 32MB, 2 - 64MB, 3 - 128MB // [14]: debug mode: [8]: 1 - phase up, 0 - phase down. [7:0]: amount of shift. output reg [ 15 : 0 ] sdram_sz , RTC The RTC will pass the core the time from the HPS. If the HPS doesn't have the optional RTC board, it will pick up the time from an NTP server. NOTE: the RTC just sends the time once at the beginning of the core start. After that, the core is responsible for incrementing the seconds, or incrementing the seconds and the other fields of the RTC structure. in BCD: RTC[7:0] - seconds RTC[15:8] - minutes RTC[23:16] - hour RTC[31:24] - month day RTC[39:32] - month RTC[47:40] - year RTC[55:48] - week day // RTC MSM6242B layout output reg [ 64 : 0 ] RTC , // Seconds since 1970-01-01 00:00:00 output reg [ 32 : 0 ] TIMESTAMP , UART Flags // UART flags output reg [ 7 : 0 ] uart_mode , output reg [ 31 : 0 ] uart_speed , Keyboard emulation The hps_io module has two ways of accessing the keyboard and mouse. It provides ps2 compatible signals which are useful for porting cores that are expecting a ps/2 keyboard. It also provides an easier to use more reliable interface. To use the new interface, ps2_key[10] is toggled with each keypress. ps2_key[9] is whether the key is pressed or not. And the rest of the bits are pretty standard ps2 bits with bit 8 being the extended bit. Setting PS2 Keyboard lights The HPS will use numlock and scrl_lock to indicate the mouse/joystick1/2 emulation. If the core wants to set any of these three of these LEDs it needs to set the bit in ps2_kbd_led_use - to enable it, and then in ps2_kb_led_status to turn the LED on/off. The LEDs are in the order: assign ps2_kbd_led_status = { scrl_lock , num_lock , caps_lock }; this control is quite slow, so the core shouldn't use it unless it's pseudo-static indication. // ps2 keyboard emulation output ps2_kbd_clk_out , output ps2_kbd_data_out , input ps2_kbd_clk_in , input ps2_kbd_data_in , input [ 2 : 0 ] ps2_kbd_led_status , input [ 2 : 0 ] ps2_kbd_led_use , output ps2_mouse_clk_out , output ps2_mouse_data_out , input ps2_mouse_clk_in , input ps2_mouse_data_in , // ps2 alternative interface. // [8] - extended, [9] - pressed, [10] - toggles with every press/release output reg [ 10 : 0 ] ps2_key = 0 , // [24] - toggles with every event output reg [ 24 : 0 ] ps2_mouse = 0 , output reg [ 15 : 0 ] ps2_mouse_ext = 0 , // 15:8 - reserved(additional buttons), 7:0 - wheel movements Gamma inout [ 21 : 0 ] gamma_bus , Extension Bus This should be used sparingly. It is for the exceptional case where a CD is needed as in the TurboGrafx16 . It requires code on the HPS in the MiSTer binary. // for core-specific extensions inout [ 35 : 0 ] EXT_BUS","title":"sys - hps_io"},{"location":"developer/hps_io/#instantiating-hps_io","text":"The module has a few parameters that are used to set it up: CONF_STR - This is how the HPS reads the OSD configuration string PS2DIV - This divides the clk_sys to create a slower clock for the legacy ps2 signals: ps2_kbd_clk_out etc WIDE - This makes the ioctl data and sd_buff signals 8 bit (WIDE=0) or 16 bit (WIDE=1) if it is wide, ioctl_addr is incremented by 2 VDNUM - Virtual Device Number - This can be 1 to 4, and will create extra virtual block devices BLKSZ - Block Size - set the block size of the block device - 0 = 128, 1 = 256, 2 = 512(default), .. 7 = 16384 PS2WE - PS2 Write Enable - option to use 2 way PS/2 communications. See ao486 core. clk_sys is the system clock. Make sure to use the same clock when reading from these signals. HPS_BUS should be passed through from the top level emu. // // Use buffer to access SD card. It's time-critical part. // // WIDE=1 for 16 bit file I/O // VDNUM 1..4 // BLKSZ 0..7: 0 = 128, 1 = 256, 2 = 512(default), .. 7 = 16384 // module hps_io #( parameter CONF_STR , CONF_STR_BRAM = 1 , PS2DIV = 0 , WIDE = 0 , VDNUM = 1 , BLKSZ = 2 , PS2WE = 0 ) ( input clk_sys , inout [ 48 : 0 ] HPS_BUS ,","title":"Instantiating hps_io"},{"location":"developer/hps_io/#joystick-input","text":"MiSTer supports up to 6 players on separate joysticks. joystick_0..5 are digital joysticks. They contain the directions in the first 4 bits, and then they have buttons that can be mapped using the CONF_STR J. joystick_x[0] = right joystick_x[1] = left joystick_x[2] = down joystick_x[3] = up Analog joysticks are supported by connecting joystick_l_analog_x. The values are analog -127..+127, Y: [15:8] , X: [7:0] . Depending on how you want to use the values, you may need to renormalize them. -128 is omitted so it is easier to invert the direction. l is the left joystick, r is the right joystick on a playstation style controller. Paddles - paddle_x - are input devices that have a range from 0 to 255. They do not spin fully. Spinners - spinner_x - are a paddle looking device, but there is no stop in the hardware, they spin freely. Therefore, these use an extra bit 8 that toggles with each update. the value is in 0:7, -128..+127 - they are relative, and usually the value will be between -8 and 8. // buttons up to 32 output reg [ 31 : 0 ] joystick_0 , output reg [ 31 : 0 ] joystick_1 , output reg [ 31 : 0 ] joystick_2 , output reg [ 31 : 0 ] joystick_3 , output reg [ 31 : 0 ] joystick_4 , output reg [ 31 : 0 ] joystick_5 , // analog -127..+127, Y: [15:8], X: [7:0] output reg [ 15 : 0 ] joystick_l_analog_0 , output reg [ 15 : 0 ] joystick_l_analog_1 , output reg [ 15 : 0 ] joystick_l_analog_2 , output reg [ 15 : 0 ] joystick_l_analog_3 , output reg [ 15 : 0 ] joystick_l_analog_4 , output reg [ 15 : 0 ] joystick_l_analog_5 , output reg [ 15 : 0 ] joystick_r_analog_0 , output reg [ 15 : 0 ] joystick_r_analog_1 , output reg [ 15 : 0 ] joystick_r_analog_2 , output reg [ 15 : 0 ] joystick_r_analog_3 , output reg [ 15 : 0 ] joystick_r_analog_4 , output reg [ 15 : 0 ] joystick_r_analog_5 , // paddle 0..255 output reg [ 7 : 0 ] paddle_0 , output reg [ 7 : 0 ] paddle_1 , output reg [ 7 : 0 ] paddle_2 , output reg [ 7 : 0 ] paddle_3 , output reg [ 7 : 0 ] paddle_4 , output reg [ 7 : 0 ] paddle_5 , // spinner [7:0] -128..+127, [8] - toggle with every update output reg [ 8 : 0 ] spinner_0 , output reg [ 8 : 0 ] spinner_1 , output reg [ 8 : 0 ] spinner_2 , output reg [ 8 : 0 ] spinner_3 , output reg [ 8 : 0 ] spinner_4 , output reg [ 8 : 0 ] spinner_5 ,","title":"Joystick input"},{"location":"developer/hps_io/#buttons","text":"Buttons from the top level emu are what the hardware sees. Buttons from the hps_io can include emulated button presses from the OSD, HPS, etc. buttons[1] is the user button buttons[0] is the OSD button // I/O board button press simulation (active high) // b[1]: user button // b[0]: osd button output [ 1 : 0 ] buttons ,","title":"Buttons"},{"location":"developer/hps_io/#forced-scandoubler","text":"Forced Scandoubler is set to 1 when the user wants the scandoubler turned on. output forced_scandoubler ,","title":"Forced Scandoubler"},{"location":"developer/hps_io/#direct-video","text":"Direct Video is set to 1 when the MiSTer is using the hdmi as a VGA port with a proper converter. output direct_video ,","title":"Direct Video"},{"location":"developer/hps_io/#status","text":"The status bits are used by the OSD to provide the core with status that the user picks in the OSD. For example, the status string: \"O1,Colors,NTSC,PAL;\", would set status[1] to 0 for NTSC and 1 for PAL. See the documentation for the CONF_STR to understand all of the OSD options. status_menumask - this is used to tell the OSD to turn on and off options using the H or h option. Set bit 0 to effect H0. status_in, status_set - when status_set is 1, the hps_io will grab the status_in and use it to change the status bits output reg [ 63 : 0 ] status , input [ 63 : 0 ] status_in , input status_set , input [ 15 : 0 ] status_menumask ,","title":"Status"},{"location":"developer/hps_io/#info","text":"info - info string to display from CONF_STR info_req - ask HPS to display info string on OSD input info_req , input [ 7 : 0 ] info ,","title":"Info"},{"location":"developer/hps_io/#force-a-new-video-mode","text":"new_vmode - if the core needs to force the system to change video modes, it can set this flag //toggle to force notify of video mode change input new_vmode ,","title":"Force a new Video mode"},{"location":"developer/hps_io/#virtual-hard-drives-and-block-devices","text":"Hard drive images are loaded with the S option in the OSD. There can be up to 10 images mounted at once if VDUM is set to 10. 1-10 are valid values. When an image is mounted a bit is set in img_mounted, and then img_readonly and img_size are valid for that img_mounted. Save these values into a register if you will need them later. These are block devices, so the way to read or write to them is to first specify the blk, and then specify a rd or wr and it will start to stream addresses through the sd_buff_addr. There is no wait line, because it is assumed that you will be writing one block of data into DPRAM and it will write immediately. To read data, set the sb_lba to the block number you want to seek to. Then set the correct bit in sd_rd to 1, and the HPS will respond by raising the correct bit in sd_ack, and keeping it high for the duration of the read. The HPS will then use sd_buff_addr and sd_buff_dout and sd_buff_wr to count from 0 to BLKSZ and send a byte per clock. After reaching the last byte, it will clear the sd_ack. To write data, set the sb_lba to the block number you want to seek to. Then set the correct bit in sd_wr to 1. Similar to a read, it will raise the sd_ack bit, and count the sd_buff_addr - the core will respond by setting each sd_buff_din to the data it wants to write. After the block is written (sd_buff_addr reaches BLKSZ) sd_ack will be cleared. When the user unmounts the image from the OSD, img_mounted will go high, and the img_size will be set to zero. That is how the core knows to unmount the current image. sd_lba[VDNUM] - logical block address - this is the block we want to start accessing sd_blk_cnt - number of blocks sd_rd - read number of blocks starting at address sd_wr - write number of blocks starting at address sd_ack - data read on the sd_buff_out is valid OR that write data must be valid on sd_buff_in[VDNUM] sd_buff_addr - byte address sd_buff_dout - data from disk sd_buff_din[VDNUM] - data to disk sd_buff_wr - Typically the read data from the blk interface is written into a FIFO or other DPRAM construct. This is a supplied control signal for the write signal to that FIFO // SD config output reg [ VD: 0 ] img_mounted , // signaling that new image has been mounted output reg img_readonly , // mounted as read only. valid only for active bit in img_mounted output reg [ 63 : 0 ] img_size , // size of image in bytes. valid only for active bit in img_mounted // SD block level access input [ 31 : 0 ] sd_lba [ VDNUM ], input [ 5 : 0 ] sd_blk_cnt [ VDNUM ], // number of blocks-1, total size ((sd_blk_cnt+1)*(1<<(BLKSZ+7))) must be <= 16384! input [ VD: 0 ] sd_rd , input [ VD: 0 ] sd_wr , output reg [ VD: 0 ] sd_ack , // SD byte level access. Signals for 2-PORT altsyncram. output reg [ AW: 0 ] sd_buff_addr , output reg [ DW: 0 ] sd_buff_dout , input [ DW: 0 ] sd_buff_din [ VDNUM ], output reg sd_buff_wr ,","title":"Virtual Hard Drives and Block Devices"},{"location":"developer/hps_io/#rom-and-file-loading-nvram-saving","text":"Boot ROMS are automatically loaded using ioctl lines. You can also have ROMS loaded via the F in the OSD, or via an MRA. ioctl_download - 1 when data is being downloaded. ioctl_index - [15:6] which file type [5:0] file number ioctl_wr - high when each byte is valid. ioctl_addr - address of byte from / to file - counts by two if set to wide ioctl_dout - data going to core from HPS (ROM) ioctl_din - data going to HPS from core - ie: to save NVRAM ioctl_upload - indicate there is an active upload ioctl_upload_req - set to 1 to ask the HPS to initiate an NVRAM save, for autosave, HPS only reads this when the OSD is open ioctl_rd - data is valid to read ioctl_file_ext - this is the file extension as a string ioctl_wait - set this flag to 1 if core isn't ready to process another byte from the HPS (flow control) // ARM -> FPGA download output reg ioctl_download = 0 , // signal indicating an active download output reg [ 15 : 0 ] ioctl_index , // menu index used to upload the file output reg ioctl_wr , output reg [ 26 : 0 ] ioctl_addr , // in WIDE mode address will be incremented by 2 output reg [ DW: 0 ] ioctl_dout , output reg ioctl_upload = 0 , // signal indicating an active upload input ioctl_upload_req , input [ DW: 0 ] ioctl_din , output reg ioctl_rd , output reg [ 31 : 0 ] ioctl_file_ext , input ioctl_wait , Note: boot.rom is sent via ioctl_index == 0, boot1.rom is sent with [5:0] set to 0, and [15:6] set to 1. boot2.rom.. etc","title":"ROM and File loading, NVRAM saving"},{"location":"developer/hps_io/#sdram-board-size","text":"// [15]: 0 - unset, 1 - set. [1:0]: 0 - none, 1 - 32MB, 2 - 64MB, 3 - 128MB // [14]: debug mode: [8]: 1 - phase up, 0 - phase down. [7:0]: amount of shift. output reg [ 15 : 0 ] sdram_sz ,","title":"SDRAM board size"},{"location":"developer/hps_io/#rtc","text":"The RTC will pass the core the time from the HPS. If the HPS doesn't have the optional RTC board, it will pick up the time from an NTP server. NOTE: the RTC just sends the time once at the beginning of the core start. After that, the core is responsible for incrementing the seconds, or incrementing the seconds and the other fields of the RTC structure. in BCD: RTC[7:0] - seconds RTC[15:8] - minutes RTC[23:16] - hour RTC[31:24] - month day RTC[39:32] - month RTC[47:40] - year RTC[55:48] - week day // RTC MSM6242B layout output reg [ 64 : 0 ] RTC , // Seconds since 1970-01-01 00:00:00 output reg [ 32 : 0 ] TIMESTAMP ,","title":"RTC"},{"location":"developer/hps_io/#uart-flags","text":"// UART flags output reg [ 7 : 0 ] uart_mode , output reg [ 31 : 0 ] uart_speed ,","title":"UART Flags"},{"location":"developer/hps_io/#keyboard-emulation","text":"The hps_io module has two ways of accessing the keyboard and mouse. It provides ps2 compatible signals which are useful for porting cores that are expecting a ps/2 keyboard. It also provides an easier to use more reliable interface. To use the new interface, ps2_key[10] is toggled with each keypress. ps2_key[9] is whether the key is pressed or not. And the rest of the bits are pretty standard ps2 bits with bit 8 being the extended bit.","title":"Keyboard emulation"},{"location":"developer/hps_io/#setting-ps2-keyboard-lights","text":"The HPS will use numlock and scrl_lock to indicate the mouse/joystick1/2 emulation. If the core wants to set any of these three of these LEDs it needs to set the bit in ps2_kbd_led_use - to enable it, and then in ps2_kb_led_status to turn the LED on/off. The LEDs are in the order: assign ps2_kbd_led_status = { scrl_lock , num_lock , caps_lock }; this control is quite slow, so the core shouldn't use it unless it's pseudo-static indication. // ps2 keyboard emulation output ps2_kbd_clk_out , output ps2_kbd_data_out , input ps2_kbd_clk_in , input ps2_kbd_data_in , input [ 2 : 0 ] ps2_kbd_led_status , input [ 2 : 0 ] ps2_kbd_led_use , output ps2_mouse_clk_out , output ps2_mouse_data_out , input ps2_mouse_clk_in , input ps2_mouse_data_in , // ps2 alternative interface. // [8] - extended, [9] - pressed, [10] - toggles with every press/release output reg [ 10 : 0 ] ps2_key = 0 , // [24] - toggles with every event output reg [ 24 : 0 ] ps2_mouse = 0 , output reg [ 15 : 0 ] ps2_mouse_ext = 0 , // 15:8 - reserved(additional buttons), 7:0 - wheel movements","title":"Setting PS2 Keyboard lights"},{"location":"developer/hps_io/#gamma","text":"inout [ 21 : 0 ] gamma_bus ,","title":"Gamma"},{"location":"developer/hps_io/#extension-bus","text":"This should be used sparingly. It is for the exceptional case where a CD is needed as in the TurboGrafx16 . It requires code on the HPS in the MiSTer binary. // for core-specific extensions inout [ 35 : 0 ] EXT_BUS","title":"Extension Bus"},{"location":"developer/links/","text":"Here's some useful links for experienced and new developers: MiSTer FPGA Tutorials Alanswx's MiSTer Tutorials series pram0d's FPGA Core Development Series Part 1 and Part 2 MiSTer Retro Wolf's Tutorial Series General FPGA Development Tutorials Beginning FPGA Graphics MiSTer Development Resources MiSTer FPGA Core Template JimmyStones' Verilator Template JimmyStones' Generic Pause Module JimmyStones' Generic HiScores Module Compiling the Linux Kernel Compiling the bootloader Compiling Main_MiSTer - Arm Cross Compiling USB Blaster for Debugging Quartus Lite 17.0.2 Download Links Quartus Lite 17.0.2 for Windows Quartus Lite 17.0.2 for Linux Quartus 17.0 Help DE10-Nano Resources DE10-Nano Rev. B2/C Manual DE10-Nano Schematic General Development Resources Various Licenses and Comments about Them","title":"Useful Links"},{"location":"developer/links/#mister-fpga-tutorials","text":"Alanswx's MiSTer Tutorials series pram0d's FPGA Core Development Series Part 1 and Part 2 MiSTer Retro Wolf's Tutorial Series","title":"MiSTer FPGA Tutorials"},{"location":"developer/links/#general-fpga-development-tutorials","text":"Beginning FPGA Graphics","title":"General FPGA Development Tutorials"},{"location":"developer/links/#mister-development-resources","text":"MiSTer FPGA Core Template JimmyStones' Verilator Template JimmyStones' Generic Pause Module JimmyStones' Generic HiScores Module Compiling the Linux Kernel Compiling the bootloader Compiling Main_MiSTer - Arm Cross Compiling USB Blaster for Debugging","title":"MiSTer Development Resources"},{"location":"developer/links/#quartus-lite-1702-download-links","text":"Quartus Lite 17.0.2 for Windows Quartus Lite 17.0.2 for Linux Quartus 17.0 Help","title":"Quartus Lite 17.0.2 Download Links"},{"location":"developer/links/#de10-nano-resources","text":"DE10-Nano Rev. B2/C Manual DE10-Nano Schematic","title":"DE10-Nano Resources"},{"location":"developer/links/#general-development-resources","text":"Various Licenses and Comments about Them","title":"General Development Resources"},{"location":"developer/mra/","text":"This page explains most of the intricacies of the way MiSTer handles ROMs for Arcade systems. MRA Format Because some arcade boards can change games by just putting in new roms, it made sense to move the RBF files out of sight from the menu list, and browse the MRA files instead. These MRA files specify which RBF file to use, and which mame rom zip files to create on the fly into a rom to pass to the arcade core. They will create the old a.pacman.rom style rom on the fly from mame roms, either merged or non-merged. Here is an example of where the files might go: /_Arcade/<game name>.mra /_Arcade/cores/<game rbf>.rbf /_Arcade/mame/<mame rom>.zip /_Arcade/hbmame/<hbmame rom>.zip There are other locations for these files based on search paths. MRA Format <misterromdescription> <name> Donkey Kong (US set 1) </name> <mratimestamp> 201911270000 </mratimestamp> <mameversion> 0216 </mameversion> <setname> dkong </setname> <year> 1981 </year> <manufacturer> Nintendo of America </manufacturer> <category> Maze / Monkeys </category> <category> Platform </category> <category> Platform / Mario Bros. </category> <rbf> DonkeyKong </rbf> <!-- switches element taken from \"Pac-Man (Midway).mra\"; for demonstration purposes only --> <switches default= \"FF,FF,C9\" > <dip bits= \"15\" name= \"Cabinet\" ids= \"Cocktail,Upright\" /> <dip bits= \"16,17\" name= \"Coinage\" ids= \"2c/1cr,1c/1cr,1c/2cr,Free Play\" values= \"3,1,2,0\" /> <dip bits= \"18,19\" name= \"Lives\" ids= \"1,2,3,5\" /> <dip bits= \"20,21\" name= \"Bonus Life After\" ids= \"10000,15000,20000,None\" /> <dip bits= \"22\" name= \"Difficulty\" ids= \"Hard,Normal\" /> </switches> <buttons names= \"Jump,Start 1P,Start 2P,Coin\" default= \"A,Start,Select,R\" /> <!-- rom index 1 or any other index can pass additional information to a rom. useful to say this rom is game A or game 1. Use it in case of multiple games for the same RBF, ie: Dig Dug 2, Mappy --> <rom index= \"1\" > <part> 0A </part> </rom> <!-- romstruct element taken from \"Two Tigers.mra\"; for demonstration purposes only --> <romstruct> ROM structure 00000 - 0BFFF 48k CPU1 0C000 - 0FFFF 16k CPU2 10000 - 13FFF 16k GFX1 14000 - 1BFFF 32k GFX2 </romstruct> <!-- the nvram node is used to download and upload the nvram memory. When the user hits \"Save Settings\" in the OSD it triggers ioctl_upload. This isn't available in Donkey Kong because it didn't originally have NVRAM --> <nvram index= \"4\" size= \"1024\" /> <!-- rom index 0 is the standard rom. The zip will be added to the name inside the part, unless the part has it's own zip. The md5 will be checked at the end. A file not found error is reported before an md5 error. --> <rom index= \"0\" zip= \"dkong.zip\" md5= \"05fb1dd1ce6a786c538275d5776b1db1\" type= \"merged|nonmerged|split\" > <part crc= \"ba70b88b\" name= \"c_5et_g.bin\" /> <!-- interleave element taken from \"Crater Raider.mra\"; for demonstration purposes only --> <interleave output= \"32\" > <part crc= \"579a8e36\" name= \"crvid.a4\" map= \"0001\" /> <part crc= \"2c2f5b29\" name= \"crvid.a3\" map= \"0001\" /> <part crc= \"5bf954e0\" name= \"crvid.a6\" map= \"0010\" /> <part crc= \"9bdec312\" name= \"crvid.a5\" map= \"0010\" /> <part crc= \"4b913498\" name= \"crvid.a8\" map= \"0100\" /> <part crc= \"9fa307d5\" name= \"crvid.a7\" map= \"0100\" /> <part crc= \"7a22d6bc\" name= \"crvid.a10\" map= \"1000\" /> <part crc= \"811f152d\" name= \"crvid.a9\" map= \"1000\" /> </interleave> <!-- begin kill screen fix --> <patch offset= \"0xf7d\" > FE 04 38 02 3E 04 47 A7 17 A7 17 A7 17 80 80 C6 28 </patch> <!-- end kill screen fix --> <part crc= \"d6412358\" name= \"c-2j.bpr\" /> <part crc= \"b869b8f5\" zip= \"another.zip\" name= \"v-5e.bpr\" /> <part crc= \"b869b8f5\" name= \"v-5e.bpr\" offset= \"1024\" length= \"1024\" /> <part repeat= \"3328\" > 00 </part> <part> 80 80 80 80 80 80 7F 7F 7F 7F 7F 7F 7F 80 80 80 </part> </rom> <!-- If the first rom0 fails the md5 checksum, it will go ahead and try again if another entry is present. Otherwise it will skip the additional entries. --> <rom index= \"0\" zip= \"dkong.zip\" md5= \"05fb1dd1ce6a786c538275d5776b1db1\" > </rom> </misterromdescription> When creating a core you can pass additional data in using ioctl_index > 0. // Retrieve Title No. always @( posedge clk_sys ) begin if ( ioctl_wr & ( ioctl_index == 1 )) tno <= ioctl_dout [ 3 : 0 ]; end Explanation for XML elements and attributes name : As an element this indicates how the rom should be called. The value should be taken from MAME. As an attribute this indicates an external rom file (or part thereof) that should be loaded by MiSTer. mratimestamp : This indicates the date on which the .mra file was created (useful for other users to determine if there is a newer version of the .mra file available to which they should upgrade). The date format is yyyymmdd. mameversion : This indicates on which version of a MAME romset the *.mra file is based (which version was used for testing). The dot in MAME's version numbering is omitted. setname : This indicates the name of the romset used as given by MAME. It is used to overwrite the core ID specified in the *.rbf file so that individual settings can be saved on a per romset basis. year : This indicates the year the game was released. The format is YYYY and the value should be taken from MAME. manufacturer : This indicates the manufacturer of the game. The value should be taken from MAME. rbf : This indicates the filename (sans path and extension) of the core that should be used to run the game. buttons : This indicates the default button mapping for the game. As the name implies, it only implies to buttons, not to directional controls. The names attribute specifies how the buttons are called in the MiSTer OSD while the default attribute specifies how the buttons are mapped to the virtual MiSTer gamepad . switches : This is to define the dip switches present on the arcade board. As this is a bit more complex, there is a specific section for it below. nvram : This tells MiSTer to save the NVRAM data on Save Settings in the OSD. If an NVRAM was saved, it will be sent to the core as well romstruct : This is to give information about the rom structure, how the rom memory is mapped. Information contained herein is intended as a comment for other developers and not actually used by MiSTer. remark : This element is intended for general remarks. Information contained herein is intended as a comment for other developers and not actually used by MiSTer. rom : Part, patch and interleave elements must have a rom element as a parent element. An index attribute with a value of 1 is used to pass information to multigame cores, which machine configuration to use. For passing actual rom data you need an index value of 0. The md5 attribute is used to specify the md5 checksum. The md5 checksum is calculated and checked by MiSTer after the whole rom is created according to the given .mra file. You can use the Linux console to find out the checksum calculated by MiSTer when it starts the core (the command line to do so is '/media/fat/MiSTer rbffilename mrafilename'). Roms whose checksum differ from the one specified in the .mra file won't load. Specifying the md5 checksum as \u201cnone\u201d will disable this check. part : The part element is only allowed inside a rom element. It is used for specifying a part of the rom. The content of a part can either be embedded as a hex value into the .mra file itself (if copyright law allows) or there can be a reference to an external file via the name attribute. If the external file is in a different zip file than the parent rom element, the filename of the zip file must be specified via the zip * attribute. The crc attribute specifies the CRC32 checksum of the respective part (format: eight hex digits). If a crc value is specified, MiSTer will try to select the appropriate file by crc (and only revert to the filename specified by the attribute name, if the crc value does not match). This increases compatibility of the *.mra file with different MAME versions of the romset. As crc values are only relevant for external files, a crc value should only be given to a part element when there is a reference to an external file. The repeat attribute only applies to embedded parts and indicates for how long (not how many times) the sequence should be repeated. By default decimal numbers are assumed. Hex numbers must be preceded with \"0x\". Inside the rom element, the offset and length attributes only apply to external files. To use the offset attribute for internal data, the patch element must be used. Offset indicates the location inside the file from where MiSTer should start reading and length indicates the length of the sequence that MiSTer should be reading. By default decimal numbers are assumed. Hex numbers must be preceded with \"0x\". The map attribute specifies to only read certain parts of the corresponding part element. For example a value of \"0001\" (binary) means to read only every fourth byte while a value of \"1010\" (binary) means to read only every first and third byte. To byteswap a part you need to set a map attribute value of 21 (decimal) and enclose the respective part element in an interleave tag. patch : The patch element is only allowed inside a rom element. It is applied after the whole rom is created from its parts and overwrites the content of the rom with the content of the patch element, starting from the specified offset and for the length of the patch element's content. interleave : The interleave element is only allowed inside a rom element and can only be used as parent element to one or more part elements. Together with the mandatory output attribute the interleave element can be used to specify that the children part elements should be read in a certain way. For example an output-value of \"32\" (decimal) indicates that the children part elements ROM data should be treated as 32 bit. Dip Switches Dip switch support in the latest version of MRA is used instead of the status bits. The DIP config str is listed in the core, and the core is responsible for reading the up to 64bits of dip data that is sent via ioctl_index 254. reg [ 7 : 0 ] sw [ 8 ]; always @( posedge clk_sys ) if ( ioctl_wr && ( ioctl_index == 254 ) && ! ioctl_addr [ 24 : 3 ]) sw [ ioctl_addr [ 2 : 0 ]] <= ioctl_dout ; Switches is the dip switch setting. The default are the default bytes. These are used so you can default the arcade into the proper factory settings. This is useful when the factory settings aren't all OFF/OFF/OFF. Note that in the default hexadecimal string, the leftmost byte refers to DIP bits 7:0, the next byte to 15:8 and so on. The most significant byte thus occupies the rightmost part of the string. <switches default= \"FF,FF,C9\" > The value C9 will apply to DIP bits 23:16. The dip tag let's you put in a dip switch entry. The bit number (starting at 0) is based on the way the core was written. Often MAME source code can be used to understand the bits. The numbering will depend on the rom used, the arcade core, and how things are laid out. bits : bit number to fill out sent to the core in ioctl_data name : title for the OSD ids : title for each option in the OSD values : if you want the values to be different than 0,1,2,3 you can reorder them <dip bits= \"16,17\" name= \"Coinage\" ids= \"2c/1cr,1c/1cr,1c/2cr,Free Play\" values= \"3,1,2,0\" />","title":"Arcade ROMS and MRA Files"},{"location":"developer/mra/#mra-format","text":"Because some arcade boards can change games by just putting in new roms, it made sense to move the RBF files out of sight from the menu list, and browse the MRA files instead. These MRA files specify which RBF file to use, and which mame rom zip files to create on the fly into a rom to pass to the arcade core. They will create the old a.pacman.rom style rom on the fly from mame roms, either merged or non-merged.","title":"MRA Format"},{"location":"developer/mra/#here-is-an-example-of-where-the-files-might-go","text":"/_Arcade/<game name>.mra /_Arcade/cores/<game rbf>.rbf /_Arcade/mame/<mame rom>.zip /_Arcade/hbmame/<hbmame rom>.zip There are other locations for these files based on search paths.","title":"Here is an example of where the files might go:"},{"location":"developer/mra/#mra-format_1","text":"<misterromdescription> <name> Donkey Kong (US set 1) </name> <mratimestamp> 201911270000 </mratimestamp> <mameversion> 0216 </mameversion> <setname> dkong </setname> <year> 1981 </year> <manufacturer> Nintendo of America </manufacturer> <category> Maze / Monkeys </category> <category> Platform </category> <category> Platform / Mario Bros. </category> <rbf> DonkeyKong </rbf> <!-- switches element taken from \"Pac-Man (Midway).mra\"; for demonstration purposes only --> <switches default= \"FF,FF,C9\" > <dip bits= \"15\" name= \"Cabinet\" ids= \"Cocktail,Upright\" /> <dip bits= \"16,17\" name= \"Coinage\" ids= \"2c/1cr,1c/1cr,1c/2cr,Free Play\" values= \"3,1,2,0\" /> <dip bits= \"18,19\" name= \"Lives\" ids= \"1,2,3,5\" /> <dip bits= \"20,21\" name= \"Bonus Life After\" ids= \"10000,15000,20000,None\" /> <dip bits= \"22\" name= \"Difficulty\" ids= \"Hard,Normal\" /> </switches> <buttons names= \"Jump,Start 1P,Start 2P,Coin\" default= \"A,Start,Select,R\" /> <!-- rom index 1 or any other index can pass additional information to a rom. useful to say this rom is game A or game 1. Use it in case of multiple games for the same RBF, ie: Dig Dug 2, Mappy --> <rom index= \"1\" > <part> 0A </part> </rom> <!-- romstruct element taken from \"Two Tigers.mra\"; for demonstration purposes only --> <romstruct> ROM structure 00000 - 0BFFF 48k CPU1 0C000 - 0FFFF 16k CPU2 10000 - 13FFF 16k GFX1 14000 - 1BFFF 32k GFX2 </romstruct> <!-- the nvram node is used to download and upload the nvram memory. When the user hits \"Save Settings\" in the OSD it triggers ioctl_upload. This isn't available in Donkey Kong because it didn't originally have NVRAM --> <nvram index= \"4\" size= \"1024\" /> <!-- rom index 0 is the standard rom. The zip will be added to the name inside the part, unless the part has it's own zip. The md5 will be checked at the end. A file not found error is reported before an md5 error. --> <rom index= \"0\" zip= \"dkong.zip\" md5= \"05fb1dd1ce6a786c538275d5776b1db1\" type= \"merged|nonmerged|split\" > <part crc= \"ba70b88b\" name= \"c_5et_g.bin\" /> <!-- interleave element taken from \"Crater Raider.mra\"; for demonstration purposes only --> <interleave output= \"32\" > <part crc= \"579a8e36\" name= \"crvid.a4\" map= \"0001\" /> <part crc= \"2c2f5b29\" name= \"crvid.a3\" map= \"0001\" /> <part crc= \"5bf954e0\" name= \"crvid.a6\" map= \"0010\" /> <part crc= \"9bdec312\" name= \"crvid.a5\" map= \"0010\" /> <part crc= \"4b913498\" name= \"crvid.a8\" map= \"0100\" /> <part crc= \"9fa307d5\" name= \"crvid.a7\" map= \"0100\" /> <part crc= \"7a22d6bc\" name= \"crvid.a10\" map= \"1000\" /> <part crc= \"811f152d\" name= \"crvid.a9\" map= \"1000\" /> </interleave> <!-- begin kill screen fix --> <patch offset= \"0xf7d\" > FE 04 38 02 3E 04 47 A7 17 A7 17 A7 17 80 80 C6 28 </patch> <!-- end kill screen fix --> <part crc= \"d6412358\" name= \"c-2j.bpr\" /> <part crc= \"b869b8f5\" zip= \"another.zip\" name= \"v-5e.bpr\" /> <part crc= \"b869b8f5\" name= \"v-5e.bpr\" offset= \"1024\" length= \"1024\" /> <part repeat= \"3328\" > 00 </part> <part> 80 80 80 80 80 80 7F 7F 7F 7F 7F 7F 7F 80 80 80 </part> </rom> <!-- If the first rom0 fails the md5 checksum, it will go ahead and try again if another entry is present. Otherwise it will skip the additional entries. --> <rom index= \"0\" zip= \"dkong.zip\" md5= \"05fb1dd1ce6a786c538275d5776b1db1\" > </rom> </misterromdescription> When creating a core you can pass additional data in using ioctl_index > 0. // Retrieve Title No. always @( posedge clk_sys ) begin if ( ioctl_wr & ( ioctl_index == 1 )) tno <= ioctl_dout [ 3 : 0 ]; end","title":"MRA Format"},{"location":"developer/mra/#explanation-for-xml-elements-and-attributes","text":"name : As an element this indicates how the rom should be called. The value should be taken from MAME. As an attribute this indicates an external rom file (or part thereof) that should be loaded by MiSTer. mratimestamp : This indicates the date on which the .mra file was created (useful for other users to determine if there is a newer version of the .mra file available to which they should upgrade). The date format is yyyymmdd. mameversion : This indicates on which version of a MAME romset the *.mra file is based (which version was used for testing). The dot in MAME's version numbering is omitted. setname : This indicates the name of the romset used as given by MAME. It is used to overwrite the core ID specified in the *.rbf file so that individual settings can be saved on a per romset basis. year : This indicates the year the game was released. The format is YYYY and the value should be taken from MAME. manufacturer : This indicates the manufacturer of the game. The value should be taken from MAME. rbf : This indicates the filename (sans path and extension) of the core that should be used to run the game. buttons : This indicates the default button mapping for the game. As the name implies, it only implies to buttons, not to directional controls. The names attribute specifies how the buttons are called in the MiSTer OSD while the default attribute specifies how the buttons are mapped to the virtual MiSTer gamepad . switches : This is to define the dip switches present on the arcade board. As this is a bit more complex, there is a specific section for it below. nvram : This tells MiSTer to save the NVRAM data on Save Settings in the OSD. If an NVRAM was saved, it will be sent to the core as well romstruct : This is to give information about the rom structure, how the rom memory is mapped. Information contained herein is intended as a comment for other developers and not actually used by MiSTer. remark : This element is intended for general remarks. Information contained herein is intended as a comment for other developers and not actually used by MiSTer. rom : Part, patch and interleave elements must have a rom element as a parent element. An index attribute with a value of 1 is used to pass information to multigame cores, which machine configuration to use. For passing actual rom data you need an index value of 0. The md5 attribute is used to specify the md5 checksum. The md5 checksum is calculated and checked by MiSTer after the whole rom is created according to the given .mra file. You can use the Linux console to find out the checksum calculated by MiSTer when it starts the core (the command line to do so is '/media/fat/MiSTer rbffilename mrafilename'). Roms whose checksum differ from the one specified in the .mra file won't load. Specifying the md5 checksum as \u201cnone\u201d will disable this check. part : The part element is only allowed inside a rom element. It is used for specifying a part of the rom. The content of a part can either be embedded as a hex value into the .mra file itself (if copyright law allows) or there can be a reference to an external file via the name attribute. If the external file is in a different zip file than the parent rom element, the filename of the zip file must be specified via the zip * attribute. The crc attribute specifies the CRC32 checksum of the respective part (format: eight hex digits). If a crc value is specified, MiSTer will try to select the appropriate file by crc (and only revert to the filename specified by the attribute name, if the crc value does not match). This increases compatibility of the *.mra file with different MAME versions of the romset. As crc values are only relevant for external files, a crc value should only be given to a part element when there is a reference to an external file. The repeat attribute only applies to embedded parts and indicates for how long (not how many times) the sequence should be repeated. By default decimal numbers are assumed. Hex numbers must be preceded with \"0x\". Inside the rom element, the offset and length attributes only apply to external files. To use the offset attribute for internal data, the patch element must be used. Offset indicates the location inside the file from where MiSTer should start reading and length indicates the length of the sequence that MiSTer should be reading. By default decimal numbers are assumed. Hex numbers must be preceded with \"0x\". The map attribute specifies to only read certain parts of the corresponding part element. For example a value of \"0001\" (binary) means to read only every fourth byte while a value of \"1010\" (binary) means to read only every first and third byte. To byteswap a part you need to set a map attribute value of 21 (decimal) and enclose the respective part element in an interleave tag. patch : The patch element is only allowed inside a rom element. It is applied after the whole rom is created from its parts and overwrites the content of the rom with the content of the patch element, starting from the specified offset and for the length of the patch element's content. interleave : The interleave element is only allowed inside a rom element and can only be used as parent element to one or more part elements. Together with the mandatory output attribute the interleave element can be used to specify that the children part elements should be read in a certain way. For example an output-value of \"32\" (decimal) indicates that the children part elements ROM data should be treated as 32 bit.","title":"Explanation for XML elements and attributes"},{"location":"developer/mra/#dip-switches","text":"Dip switch support in the latest version of MRA is used instead of the status bits. The DIP config str is listed in the core, and the core is responsible for reading the up to 64bits of dip data that is sent via ioctl_index 254. reg [ 7 : 0 ] sw [ 8 ]; always @( posedge clk_sys ) if ( ioctl_wr && ( ioctl_index == 254 ) && ! ioctl_addr [ 24 : 3 ]) sw [ ioctl_addr [ 2 : 0 ]] <= ioctl_dout ; Switches is the dip switch setting. The default are the default bytes. These are used so you can default the arcade into the proper factory settings. This is useful when the factory settings aren't all OFF/OFF/OFF. Note that in the default hexadecimal string, the leftmost byte refers to DIP bits 7:0, the next byte to 15:8 and so on. The most significant byte thus occupies the rightmost part of the string. <switches default= \"FF,FF,C9\" > The value C9 will apply to DIP bits 23:16. The dip tag let's you put in a dip switch entry. The bit number (starting at 0) is based on the way the core was written. Often MAME source code can be used to understand the bits. The numbering will depend on the rom used, the arcade core, and how things are laid out. bits : bit number to fill out sent to the core in ioctl_data name : title for the OSD ids : title for each option in the OSD values : if you want the values to be different than 0,1,2,3 you can reorder them <dip bits= \"16,17\" name= \"Coinage\" ids= \"2c/1cr,1c/1cr,1c/2cr,Free Play\" values= \"3,1,2,0\" />","title":"Dip Switches"},{"location":"developer/mrasetnames/","text":"This is a list of the mra files and the setnames that are used for the mister.ini core exceptions. mra_filename setname mameversion rbf 1941 Counter Attack -World 900227-.mra 1941 217 jtcps1 1942.mra 1942 217 jt1942 1943 Kai Midway Kaisen.mra 1943kai 217 jt1943 1943 Midway Kaisen.mra 1943j 217 jt1943 1943 The Battle of Midway Mark II.mra 1943mii 217 jt1943 1943 The Battle of Midway.mra 1943u 217 jt1943 1944 The Loop Master (Euro 000620).mra 1944 229 jtcps2 19XX The War Against Destiny (Euro 960104).mra 19xx 229 jtcps2 280Z-ZZAP (US).mra 280zzzap 226 spaceinvaders 4D Warriors (315-5162).mra 4dwarrio 216 segasys1 Action Fighter (World, S16A) [FD1089A 317-0018].mra afighter 232 jts16 Adventure Quiz Capcom World 2 -Japan 920611-.mra cworld2j 217 jtcps1 Alex Kidd The Lost Stars (Set 2, World, S16A) [No Protection].mra alexkidd 232 jts16 Ali Baba and 40 Thieves.mra alibaba 220 pacman Alien Arena (Stargate upgrade).mra alienaru 218 robotron Alien Syndrome (set 4, System 16B, unprotected).mra aliensyn 232 jts16b Alien vs. Predator (Euro 940520).mra avsp 229 jtcps2 Altered Beast (set 8) (8751 317-0078).mra altbeast 232 jts16b3 Amazing Maze.mra maze 226 spaceinvaders Amidar (Scramble).mra amidars 216 scramble Anteater.mra anteater 216 scramble Arkanoid (JP).mra arkanoidj 220 arkanoid Arkanoid (Unl. lives) [hb].mra arkanoid 220 arkanoid Arkanoid (Unl. Lives, slower) [hb].mra arkanoid 220 arkanoid Arkanoid (US).mra arkanoid 220 arkanoid Arkanoid (W).mra arkanoid 220 arkanoid Armed F (Japan).mra armedf 240 armedf Armored Car.mra armorcar 216 scramble Armored Warriors (Euro 941024).mra armwar 229 jtcps2 ASO.mra aso 193 SNK_TripleZ80 Asteroids Deluxe.mra astdelux 216 asteroidsdeluxe Asteroids.mra asteroid 220 asteroids Astro Flash (Japan).mra astrofl 235 SMS Athena.mra athena 193 Athena Attack Force.mra attackfc 226 spaceinvaders Aurail (set 3, US) (unprotected).mra aurail 232 jts16b Azurian Attack.mra azurian 220 galaxian Bad Dudes vs. Dragonninja (US revision 1).mra baddudes 232 jtninja Bagman.mra bagman 220 bagman Balloon Bomber.mra ballbomb 219 spaceinvaders Battle Circuit (Euro 970319).mra batcir 229 jtcps2 Battle of Atlantis.mra atlantis2 217 scramble Bay Route (set 3, World) (FD1094 317-0116).mra bayroute 232 jts16b Beastie Feastie (Pac-Man Conversion).mra beastfp 220 pacman Berzerk.mra berzerk 220 berzerk Big Kong.mra bigkong 224 crazykong Billiard.mra bilyard 229 tiamc1 Bionic Commando.mra bionicc 217 jtbiocom Birdiy.mra birdiy 220 pacman Black Hole.mra blkhole 220 galaxian Black Tiger.mra blktiger 217 jtbtiger Black Widow.mra bwidow 218 blackwidow Blasto.mra blasto 229 blockade Block Block (World 911219 Joystick).mra block 237 jtpang Block Gal.mra blockgal 217 segasys1 Blockade.mra blockade 229 blockade Blue Shark.mra blueshrk 226 spaceinvaders Body Slam (World, S16) [8751 317-0015].mra bodyslam 232 jts16 Bomb Jack.mra bombjack 220 bombjack Boot Hill.mra boothill 226 spaceinvaders Botanic (English, Spanish, Set 1).mra botanic 220 bagman Boulder Dash - Boulder Dash Part 2 (World).mra bouldash 232 jtslyspy Breakout (TTL).mra breakout breakout Bubble Bobble (Japan, Ver 0.1).mra bublbobl 231 jtbubl Bubbles.mra bubbles 218 robotron Bull Fight (315-5056).mra bullfgt 217 segasys1 Bullet (FD1094 317-0041).mra bullet 232 jts16b Burger Time (Set 1).mra btime 229 burgertime Burnin' Rubber.mra brubber 220 burningrubber Cadillacs and Dinosaurs (World 930201).mra dino 217 jtcps15 Calipso.mra calipso 216 scramble Canyon Bomber.mra canyon 220 canyonbomber Capcom Sports Club (Euro 971017).mra csclub 229 jtcps2 Capcom World (Japan).mra cworld 237 jtpang Captain Commando -World 911202-.mra captcomm 217 jtcps1 Carrier Air Wing -World 901012-.mra cawing 217 jtcps1 Catacomb.mra catacomb 217 galaxian Centipede (Rev 3).mra centiped3 218 centipede Centipede (Rev 4).mra centiped 220 centipede Clean Sweep.mra cleansweept 0 galaxian Clowns.mra clowns 218 spaceinvaders Colony 7 (Set 1).mra colony7 216 defender Combat School Joystick.mra combatsc 222 jtcomsc Commando.mra commando 230 jtcommando CoMotion.mra comotion 229 blockade Computer Space.mra n/a 220 computerspace Contra (US - Asia, set 1).mra contra 229 jtcontra Cosmic Alien.mra n/a 219 cosmic Cosmic Avenger.mra cavenger 220 ladybug Cosmo.mra cosmo 226 spaceinvaders Cotton (set 4, World) (FD1094 317-0181a).mra cotton 232 jts16b Crater Raider.mra crater 216 mcr3scroll Crazy Balloon.mra crbaloon 219 crazyballoon Crazy Climber 2 (Japan).mra cclimbr2 240 armedf Crazy Climber.mra cclimber 216 crazyclimber Crazy Kong (Kyoei).mra ckong 224 crazykong Crazy Kong (Orca bootleg).mra ckongo 224 CrazyKong Crazy Kong Part II (Set 1).mra ckongpt2 224 crazykong Crush Roller (Set 2).mra crush2 220 pacman Cyberbots Fullmetal Madness (Euro 950424).mra cybots 229 jtcps2 Dangun Feveron.mra dfeveron 226 cave Dark Planet (no bkg).mra darkplnt 209 scramble Dark Planet.mra darkplnt 209 scramble Darkstalkers The Night Warriors (Euro 940705).mra dstlk 229 jtcps2 Defender (Red Label).mra defender 218 defender Demolition Derby (MCR-3 Mono Board Version).mra demoderm 216 mcr3mono Devil Fish (Galaxian Hardware).mra devilfsg 220 galaxian Dig Dug (Rev 2).mra digdug 220 digdug Dig Dug II (New Ver).mra digdug2 220 druaga Dimahoo (Euro 000121).mra dimahoo 229 jtcps2 Discs of Tron.mra dotron 218 mcr3 DoDonPachi (Arrange).mra ddonpach 226 cave DoDonPachi (Japan).mra ddonpach 226 cave DoDonPachi Trainer (Japan).mra ddonpach 226 cave DoDonPachi.mra ddonpach 226 cave Dokaben (Japan).mra dokaben 237 jtpang Domino Man.mra domino 216 mcr2 Dominos.mra dominos 220 dominos Donkey Kong (Spanish Crazy Kong bootleg).mra ckongdks 224 CrazyKong Donkey Kong (US, Set 1).mra dkong 220 donkeykong Donkey Kong 3 (US).mra dkong3 220 donkeykong3 Donkey Kong Junior (US, Set F-2).mra dkongjr 217 donkeykongjunior DonPachi (Japan).mra donpachi 226 cave DonPachi.mra donpachi 226 cave Dorodon (Set 1).mra dorodon 220 ladybug Dottori-Kun (new).mra dotrikun 225 DottoriKun Dottori-Kun (old).mra dotrikun 225 DottoriKun Dottori-Man Jr.mra dotrikun 225 DottoriKun Double Dragon II - The Revenge.mra ddragon2 223 jtdd2 Double Dragon.mra ddragon 223 jtdd Dream Shopper.mra dremshpr 220 pacman Dungeons & Dragons Shadow over Mystara (Euro 960619).mra ddsom 229 jtcps2 Dungeons & Dragons Tower of Doom (Euro 940412).mra ddtod 229 jtcps2 Dunk Shot (Rev C, FD1089A 317-0022).mra dunkshot 232 jts16b Dynamite Dux (set 3, World) (FD1094 317-0096).mra ddux 232 jts16b Dynasty Wars -USA, B-Board 89624B- -.mra dynwar 217 jtcps1 Eco Fighters (World 931203).mra ecofghtr 229 jtcps2 Eeek! (Pac-Man Conversion).mra eeekkp 220 pacman Eggor.mra eggor 220 pacman ESP Ra.De. (Japan).mra espradej 226 cave ESP Ra.De..mra esprade 226 cave E-Swat - Cyber Police (set 4, World) (FD1094 317-0130).mra eswat 232 jts16b Exed Exes.mra exedexes 232 jtexed Extra Bases.mra ebases 219 astrocade Eyes (US, Set 1).mra eyes 220 pacman F-1 Dream.mra f1dream 217 jtf1dream Fantasy Zone (Rev A, World, S16A) [No Protection].mra fantzone 232 jts16 Fantasy Zone II - The Tears of Opa-Opa (System 16C version).mra fantzn2x 232 jts16b Fantasy Zone II - The Tears of Opa-Opa.mra fantzn2 235 SMS Fast Lane.mra fastlane 237 jtflane Fever SOS.mra dfeveron 226 cave FightingGolf.mra fitegolf 193 Athena Final Fight -World, set 1-.mra ffight 217 jtcps1 Finalizer - Super Transformation (Set 1).mra finalizr 240 Finalizer Finalizer - Super Transformation (Set 2) [bl].mra finalizrb 240 Finalizer Finalizer - Super Transformation (Set 2).mra finalizra 240 Finalizer Flash Point (set 2, Japan) (FD1094 317-0127A).mra fpoint 232 jts16b Flicky (128k Version, 315-5051).mra flicky 217 segasys1 Food Fight (Rev 3).mra foodf 220 foodfight Forgotten Worlds -World, newer-.mra forgottn 217 jtcps1 Frenzy (Rev RA1).mra frenzy 220 frenzy Frogger (Konami Bugfixed).mra frogger 216 scramble Frogger (Sega, Set 2).mra frogger 216 scramble Future Spy.mra futurespy 193 zaxxon Galaga (Midway, Set 1).mra galagamw 229 galaga Galaga 3 (GP3 Rev D).mra galaga3 218 gaplus Galaxian (Namco, Set 1).mra galaxian 220 galaxian Galaxy Wars (Universal, Set 1).mra galxwars 226 spaceinvaders Ganbare! Marine Kun -Japan 2K0411-.mra ganbare 217 jtcps1 Gaplus (GP2 Rev B).mra gaplus 220 gaplus Gauntlet (rev 14).mra gauntlet 225 gauntlet Gauntlet II.mra gaunt2 225 gauntlet Gemini Wing.mra gemini 220 tecmo Ghosts'n Goblins (World Set 1).mra gng 234 jtgng Ghouls'n Ghosts -patched-.mra ghouls 217 jtcps1 Ghouls'n Ghosts -World-.mra ghouls 217 jtcps1 Giga Wing (USA 990222).mra gigawing 229 jtcps2 Golden Axe (set 6, US) (8751 317-123A).mra goldnaxe 232 jts16b3 Gorf (Program 1).mra gorf 219 astrocade Gorf (Speech).mra gorf 219 astrocade Gorf.mra gorf 219 astrocade Gorkans.mra gorkans 220 pacman Gorodki.mra gorodki 229 tiamc1 Gravitar (Ver 3).mra gravitar 218 blackwidow Green Beret.mra gberet 220 rshnatk Grobda (W, New Ver.).mra grobda 229 druaga Gulun.Pa_-_Prototype_1993_-_Japan_931220_L-.mra gulunpa 221 jtcps1 Gun Fight.mra gunfight 226 spaceinvaders Gun Smoke.mra gunsmoke 216 jtgunsmoke Guwange (Special).mra guwange 226 cave Guwange.mra guwange 226 cave Gyruss.mra gyruss 218 Gyruss Hang On Jr.mra hangonjr 235 SMS Heavy Barrel (World).mra hbarrel 232 jtninja Hellfire (2P set).mra hellfire 229 toaplan1 Hippodrome (US).mra hippodrm 232 jtcop Horizon (Irem).mra horizon 221 iremm62 Hustle.mra hustle 229 blockade Hyper Sports.mra hyperspt 237 jtroadf Hyper Street Fighter II The Anniversary Edition (USA 040202).mra hsf2 229 jtcps2 I'm Sorry (US, 315-5110).mra imsorry 217 segasys1 Iron Horse (Ver. K).mra ironhors 224 IronHorse Jackal (W) [bl].mra jackalbl 224 Jackal Jackal (W).mra jackal 224 Jackal Jackal (W, Rotary).mra jackalr 224 Jackal Jailbreak.mra jailbrek 224 Jailbreak Janpai Puzzle Choukou (Japan 010820).mra choko 229 jtcps2 Jin.mra jin 218 defender Journey.mra journey 216 mcr3 Joust 2 - Survival of the Fittest (revision 2).mra joust2 226 joust2 Joust.mra joust 218 robotron Jump Shot.mra jumpshot 220 pacman Jyangokushi Haoh no Saihai (Japan 990527).mra jyangoku 229 jtcps2 Kick.mra kick 216 mcr1 Kicker.mra kicker 237 jtkicker Kick-Man.mra kickman 216 mcr1 Kid Niki - Radical Ninja (W).mra kidniki 221 iremm62 Kid no Hore Hore Daisakusen.mra horekid 240 terracresta King And Balloon (Japan).mra kingballj 216 galaxian King and Balloon (US).mra kingball 216 galaxian Knights of the Round -World 911127-.mra knights 217 jtcps1 Konami's Ping-Pong.mra pingpong 241 jtpinpon Konek Gorbunok.mra konek 229 tiamc1 Kot-Rybolov.mra kot 229 tiamc1 Kozmik Krooz'r.mra kroozr 216 mcr2 Kozure Ookami (Japan).mra kozure 240 armedf Kung-Fu Master (W).mra kungfum 221 iremm62 Lady Bug.mra ladybug 220 ladybug Laguna Racer.mra lagunar 226 spaceinvaders Legendary Wings.mra lwings 217 jtsectionz Legion - Spinner-87 (World ver 2.03).mra legion 240 armedf Lizard Wizard.mra lizwiz 220 pacman Lode Runner (Set 1).mra ldrun 221 iremm62 Lode Runner II - The Bungeling Strikes Back.mra ldrun2 221 iremm62 Lode Runner III - The Golden Labyrinth.mra ldrun3 221 iremm62 Lode Runner IV - Teikoku Karano Dasshutsu (JP).mra ldrun4 221 iremm62 Lost Tomb.mra losttomb 216 scramble Lucky Today.mra luctoday 220 galaxian Lunar Battle (Prototype).mra lunarbat 218 blackwidow Lunar Lander.mra llander 220 lunarlander Lunar Rescue.mra lrescue 226 spaceinvaders Lupin III (Set 2).mra lupin3a 226 spaceinvaders Mad Planets.mra mplanets 198 qbert Magic Sword Heroic Fantasy -World 900725-.mra msword 217 jtcps1 Magical Spot.mra n/a 219 cosmic Manhattan 24 Bunsyo (J).mra manhatan 224 Jailbreak Mappy (US).mra mappy 220 druaga Mario Bros. (US, Rev G).mra mario 220 mariobros Mars Matrix Hyper Solid Shooting (USA 000412).mra mmatrix 229 jtcps2 Mars.mra mars 217 scramble Marvel Super Heroes (Euro 951024).mra msh 229 jtcps2 Marvel Super Heroes Vs. Street Fighter (Euro 970625).mra mshvsf 229 jtcps2 Marvel Vs. Capcom Clash of Super Heroes (Euro 980123).mra mvsc 229 jtcps2 Max RPM (v2).mra maxrpm 217 mcr3mono Mayday (Set 1).mra mayday 218 defender Mega Man The Power Battle -CPS1, USA 951006-.mra megaman 229 jtcps1 Mega Man 2 The Power Fighters (USA 960708).mra megaman2 229 jtcps2 Mega Twins -World 900619-.mra mtwins 217 jtcps1 Megumi Rescue (Japan).mra megrescu 245 SMS Mercs -World 900302-.mra mercs 217 jtcps1 Midnight Resistance (World).mra midres 232 jtmidres Mighty Monkey (Scramble Hardware) [bl].mra mimonscr 209 scramble Mighty! Pang (Euro 001010).mra mpang 229 jtcps2 Mikie.mra mikie 237 jtmikie Minefield.mra minefld 209 scramble Mister Viking (315-5041).mra mrviking 217 segasys1 Moon Cresta (Galaxian Hardware) [bl].mra mooncrgx 220 galaxian Moon Patrol.mra mpatrol 220 moonpatrol Moon War.mra moonwar 216 scramble Motos.mra motos 220 druaga Mr. Do Nightmare.mra mrdonight 220 galaxian Mr. Do! Fixed.mra mrdofix 220 mrdo Mr. Do!.mra mrdo 220 mrdo Mr. Goemon.mra mrgoemon 229 rshnatk Mr. TNT.mra mrtnt 220 pacman Ms. Pac-Man.mra mspacman 220 pacman Muscle Bomber Duo Ultimate Team Battle (World 931206).mra mbombrd 217 jtcps15 MVP (set 2, US) (FD1094 317-0143).mra mvp 232 jts16b MX5000.mra mx5000 237 jtmx5k My Hero (US, not Encrypted).mra myhero 217 segasys1 Mystic Marathon.mra mysticm 222 MysticMarathon Nemo -World 901130-.mra nemo 217 jtcps1 New Rally-X.mra nrallyx 220 rallyx Night Warriors Darkstalkers Revenge (Euro 950316).mra nwarr 229 jtcps2 Ninjakun.mra ninjakun 220 ninjakun Number Crash.mra numcrash 220 pacman Omega [bl].mra omegab 220 galaxian Opa Opa (Rev A, unprotected).mra opaopan 235 SMS Opa Opa.mra opaopa 235 SMS Orbitron.mra orbitron 220 galaxian Out Zone.mra outzone 229 toaplan1 Pac & Pal.mra pacnpal 220 druaga Pac-Man & Chomp Chomp.mra pacnchmp 220 druaga Pac-Man (Midway).mra pacman 218 pacman Pac-Man Club- Club Lambada (AR).mra clubpacm 220 pacman Pac-Man Plus.mra pacplus 220 pacman Pac-Manic Miner.mra n/a 217 pacman Pang (World).mra pang 237 jtpang Pang! 3 -Euro 950601-.mra pang3 217 jtcps1 Passing Shot (World, 2 Players) (FD1094 317-0080).mra passsht 232 jts16b Pengo (Set 1, Rev C).mra pengo 220 pengo Penguin-Kun_Wars.mra pkunwar 221 PenguinKunWars Penguin-Kun_Wars_Japan.mra pkunwarj 221 PenguinKunWars Pest Place.mra pestplce 227 DonkeyKong Phoenix (Amstar, Set 1).mra phoenix 220 phoenix Pickin'.mra pickin 220 bagman Pirate Ship Higemaru.mra higemaru 217 jthige Pisces.mra pisces 220 galaxian Pitfall II.mra pitfall2 216 segasys1 Playball (Prototype).mra playball 218 robotron Pleiads (Centuri).mra pleiadce 220 pleiads Pleiads (Tehkan).mra pleiads 220 phoenix Pleiads.mra pleiads 220 pleiads Pnickies -Japan 940608-.mra pnickj 217 jtcps1 Pokonyan! Balloon -Japan 940322-.mra pokonyan 217 jtcps1 Poly Play 2.mra polyplay2 220 polyplay Poly Play 2c.mra polyplay2 220 polyplay Poly Play.mra polyplay 229 polyplay Pong (Rev E).mra pong pong Ponpoko.mra ponpoko 220 pacman Pooyan.mra pooyan 220 pooyan Popeye (Rev D).mra popeye 219 popeye Power Drive.mra powerdrv 217 mcr3mono Progear (USA 010117).mra progear 229 jtcps2 Puck Man (JP, Set 1).mra puckman 220 pacman Puzz Loop 2 (Euro 010302).mra pzloop2 229 jtcps2 Puzzle Uo Poko (Japan).mra uopoko 226 cave Puzzle Uo Poko.mra uopoko 226 cave Q'bert (US, Set 1).mra qbert 198 qbert QBert Qubes.mra qbertqub 198 qbert Quiz & Dragons Capcom Quiz Game -USA 920701-.mra qad 217 jtcps1 Quiz Nanairo Dreams Nijiirochou no Kiseki (Japan 96086).mra qndream 229 jtcps2 Quiz Tonosama no Yabou 2 Zenkoku-ban -Japan 950123-.mra qtono2j 217 jtcps1 Radar Scope (rev. D).mra radarscp 229 donkeykong Rafflesia (315-5162).mra raflesia 216 segasys1 Rally-X (32k Ver).mra rallyx 220 rallyx Rampage (Rev 3, 860827).mra rampage 217 mcr3mono Rastan (World Rev 1).mra rastan 241 jtrastan Regulus (315-5033, Rev A).mra regulus 216 segasys1 Rescue.mra rescue 209 scramble Riddle of Pythagoras (Japan).mra ridleofp 235 SMS Ring of Destruction Slam Masters II (Euro 940902).mra ringdest 229 jtcps2 Riot City (Japan).mra riotcity 232 jts16b River Patrol (JP, Unprotected).mra rpatroln 220 riverpatrol Road Fighter (set 1).mra roadf 237 jtroadf Robocop (World revision 4).mra robocop 232 jtcop Robotron 2084.mra robotron 218 robotron Rush'n Attack (US).mra rushatck 220 rshnatk Rygar.mra rygar 220 tecmo RyuKyu (Rev A, Japan) (FD1094 317-5023A).mra ryukyu 232 jts16b S.O.S..mra sosterm 229 tiamc1 Sarge.mra sarge 217 mcr3mono Satan's Hollow (Set 1).mra shollow 216 mcr2 Saturday Night Slam Masters (World 930713).mra slammast 217 jtcps15 Scooter Shooter.mra scotrsht 224 ScooterShooter Scramble (Stern, Set 1).mra scramble 216 scramble Sea Wolf (Set 1).mra seawolf 226 spaceinvaders Sea Wolf II.mra seawolf2 219 astrocade Secret Agent (World revision 3).mra secretag 232 jtslyspy SectionZ.mra sectionz 217 jtsectionz Sega Ninja (315-5102).mra seganinj 217 segasys1 Sei Senshi Amatelass.mra amatelas 240 terracresta Shinobi (Set 6, World, S16A) [No Protection].mra shinobi 232 jts16 Shot Rider (B-Board 89624B-1).mra shtrider 216 traverseusa Shuffleboard.mra shuffle 226 spaceinvaders Side Arms - Hyper Dyne (World, 861129).mra sidearms 217 jtsarms Silkworm.mra silkworm 220 tecmo Silver Land.mra silvland 220 silverland Sinistar.mra sinistar 218 robotron Sky Skipper.mra skyskipr 219 popeye Slap Shooter.mra slapshtr 235 SMS Snap Jack.mra snapjack 220 ladybug Snezhnaja Koroleva.mra koroleva 229 tiamc1 Solar Fox.mra solarfox 216 mcr1 Solomon no Kagi (JP).mra solomonj 218 solomonskey Solomon's Key.mra solomon 220 solomonskey Sonic Boom (FD1094 317-0053).mra sonicbom 232 jts16b Space Chaser.mra schaser 226 spaceinvaders Space Encounters.mra spcenctr 226 spaceinvaders Space Invaders (Samples).mra invaders 226 spaceinvaders Space Invaders Part II (Taito, Bigger ROMs).mra invadpt2 226 spaceinvaders Space Invaders.mra invaders 226 spaceinvaders Space Panic.mra n/a 219 cosmic Space Race [TTL].mra spacerace spacerace Space Zap.mra spacezap 219 astrocade Spatter (315-5xxx).mra spatter 217 segasys1 Speed Coin.mra spdcoin 216 scramble Spelunker II - 23 no Kagi (JP).mra spelunk2 221 iremm62 Spelunker.mra spelunkr 221 iremm62 Splat!.mra splat 218 robotron Sprint 1.mra sprint1 216 sprint1 Sprint 2.mra sprint2 220 sprint2 Spy Hunter.mra spyhunt 220 mcr3scroll Squash.mra squaitsa 220 bagman Star Guards.mra stargrds 217 mcr3mono Star Jacker (alt).mra starjacks 216 segasys1 Star Jacker.mra starjack 216 segasys1 Stargate.mra stargate 218 robotron Strategy X.mra stratgyx 217 scramble Street Fighter (US, set 1).mra sf 234 jtsf Street Fighter Alpha 2 (Euro 960229).mra sfa2 229 jtcps2 Street Fighter Alpha 3 (Euro 980904).mra sfa3 229 jtcps2 Street Fighter Alpha Warriors Dreams (Euro 950727).mra sfa 229 jtcps2 Street Fighter II' Champion Edition -World 920513-.mra sf2ce 217 jtcps1 Street Fighter II' Hyper Fighting -World 921209-.mra sf2hf 217 jtcps1 Street Fighter II The World Warrior -World 910522-.mra sf2 217 jtcps1 Street Fighter Zero 2 Alpha (Asia 960826).mra sfz2al 229 jtcps2 Strider -USA, B-Board 89624B-2-.mra strider 217 jtcps1 Subs.mra subs 216 subs Super Bagman.mra sbagman 217 bagman Super Basketball (version I, encrypted).mra sbasketb 237 jtsbask1 Super Breakout (Rev 04).mra sbrkout 220 superbreakout Super Cobra.mra scobra 216 scramble Super Gem Fighter Mini Mix (USA 970904).mra sgemf 229 jtcps2 Super Glob (Pac-Man, German) [bl].mra sprglbpg 220 pacman Super Pac-Man.mra superpac 220 druaga Super Pang (World 900914).mra spang 237 jtpang Super Puzzle Fighter II Turbo (Euro 960529).mra spf2t 229 jtcps2 Super Street Fighter II The New Challengers (World 931005).mra ssf2 229 jtcps2 Super Street Fighter II Turbo (World 940223).mra ssf2t 229 jtcps2 Super Xevious.mra xevious 229 xevious Super Zaxxon.mra szaxxon 193 zaxxon Swat (315-5048).mra swat 217 segasys1 Tapper (Budweiser, 840127).mra tapper 218 mcr3 Tazz-Mania (Set 1).mra tazmania 216 scramble TeddyBoy Blues (315-5115, New Ver).mra teddybb 217 segasys1 Terra Cresta (YM3526 set 1).mra terracre 240 terracresta Terra Force.mra terraf 240 armedf Tetris (Cocktail, Set 1).mra atetrisc 218 ataritetris Tetris (Japan, System E).mra tetrisse 235 SMS Tetris (Set 4, Japan, S16A) [FD1094 317-0093].mra tetris 232 jts16 Tetris.mra atetris 220 ataritetris The Adventures of Robby Roto!.mra robby 219 astrocade The Battle-Road.mra battroad 221 iremm62 The End (bkg).mra theend 220 scramble The End.mra theend 220 scramble The Glob (Pac-Man Hardware).mra theglobp 220 pacman The King of Dragons -World 910805-.mra kod jtcps1 The Punisher (World 930422).mra punisher 217 jtcps15 The Speed Rumbler (set 1).mra srumbler 229 jtrumble The Tower of Druaga.mra todruaga 220 druaga Three Wonders -World 910520-.mra 3wonders 217 jtcps1 Tiger Road.mra tigeroad 217 jttora Timber.mra timber 216 mcr3 Time Pilot '84 (Set 1).mra tp84 224 TimePilot84 Time Pilot '84 (Set 2).mra tp84a 224 TimePilot84 Time Pilot '84 (Set 3).mra tp84b 224 TimePilot84 Time Pilot.mra timeplt 220 timepilot Time Scanner (set 2, System 16B).mra timescan 232 jts16b TNKIII.mra tnk3 193 TNKIII Tokio - Scramble Formation (bootleg).mra tokiob 217 jtbubl Tokushu Butai Jackal (JP).mra jackalj 224 Jackal Top Gunner (US) [bl].mra topgunbl 224 Jackal Top Gunner (US).mra topgunr 224 Jackal Toryumon.mra toryumon 232 jts16b Tough Turf (set 2, Japan) (8751 317-0104).mra tturf 232 jts16b3 Track & Field.mra trackfld 237 jttrack Transformer.mra transfrm 235 SMS Traverse USA- Zippy Race (US).mra travrusa 220 traverseusa Trick Trap (World).mra tricktrp jtlabrun Trojan (Romstar).mra trojanr 217 jttrojan Tron.mra tron 218 mcr2 Truxton - Tatsujin.mra truxton 229 toaplan1 Turbo Tag (Prototype).mra turbotag 220 mcr3scroll Turkey Shoot - The Day They Took Over.mra tshoot 220 TurkeyShoot Turtles.mra turtles 209 scramble Two Tigers (Tron Conversion).mra twotigerc 218 mcr2 U.N. Squadron -USA-.mra unsquad 217 jtcps1 Ultra Tank.mra ultratnk 217 ultratank UniWar S.mra uniwars 220 galaxian Up'n Down.mra upndown 216 segasys1 Vampire Hunter 2 Darkstalkers Revenge (Japan 970929).mra vhunt2 229 jtcps2 Vampire Savior 2 The Lord of Vampire (Japan 970913).mra vsav2 229 jtcps2 Vampire Savior The Lord of Vampire (Euro 970519).mra vsav 229 jtcps2 Van-Van Car.mra vanvan 220 pacman Varth Operation Thunderstorm -World 920714-.mra varth 217 jtcps1 V'Ball (US) [bl].mra vballb 229 vball V'Ball (US).mra vball 229 vball Victory.mra victorycb 220 galaxian Vigilante (World, Rev E).mra vigilant 232 jtvigil Vindicators Part II (rev 3).mra vindctr2 225 gauntlet Vortex.mra vortex 226 spaceinvaders Vulgus.mra vulgus 217 jtvulgus Wacko.mra wacko 216 mcr2 War of the Bugs.mra warofbug 220 galaxian Warriors of Fate (World 921031).mra wof 217 jtcps15 Water Match (315-5064).mra wmatch 217 segasys1 Willow -World-.mra willow 217 jtcps1 Wizard of Wor (Speech).mra wow 219 astrocade Wizard of Wor.mra wow 219 astrocade Wonder Boy (Set 1, 315-5177).mra wboy 217 segasys1 Wonder Boy III - Monster Lair (set 3, World, System 16B) (FD1094 317-0089).mra wb33 232 jts16b Woodpecker (Set 1).mra woodpeck 220 pacman Wrestle War (set 3, World) (8751 317-0103).mra wrestwar 232 jts16b3 Xevious.mra xevious 229 xevious X-Men Children of the Atom (Euro 950331).mra xmcota 229 jtcps2 X-Men Vs. Street Fighter (Euro 961004).mra xmvsf 229 jtcps2 Yie Ar Kung-Fu (program code I).mra yiear 237 jtyiear Youjyuden (JP).mra youjyudn 221 iremm62 zaxxon.mra zaxxon 193 zaxxon Zero Wing (2P set).mra zerowing 229 toaplan1 Zig Zag (Dig Dug Conversion) [bl].mra zigzagb 220 zigzag","title":"MRA Setnames"},{"location":"developer/porting/","text":"MiSTer uses quite complex hardware, but thanks to open source, developers with different levels of hardware/software knowledge can develop for this platform. Many cores for MiSTer use common almost identical part of code simplifying access to hardware and firmware called Framework . We will use ZX Spectrum core as an example in this guide. Framework Most of the sources of the Framework are located in sys folder. Usually, for a new project, you need to take following files/folders: * sys folder * jtag.cdf * jtag_lite.cdf * zxspectrum.qpf (project file. Keep it read-only to prevent it from automatic changes whenever you switch between fill and lite versions and spam your change history) * zxspectrum.qsf * zxspectrum.srf (some warnings ignores) * zxspectrum-lite.qsf * zxspectrum-lite.srf (some warnings ignores) You need to make some changes: * Rename zxspectrum. files according to a new project. * Inside files find the \"zxspectrum\" word and replace it with the name of your project. * in .qsf files at the end you will find the list of project files. Remove files not related to your project. The initial set of files for the new project is ready. Now you can open the project in Quartus 17.0 or higher. Assuming you are porting some existing core to MiSTer, the top module entity should be renamed to emu. See zxspectrum.sv and its input/output signals: module emu ( //Master input clock input CLK_50M , //Async reset from top-level module. //Can be used as initial reset. input RESET , //Must be passed to hps_io module inout [ 48 : 0 ] HPS_BUS , //Base video clock. Usually equals to CLK_SYS. output CLK_VIDEO , //Multiple resolutions are supported using different CE_PIXEL rates. //Must be based on CLK_VIDEO output CE_PIXEL , //Video aspect ratio for HDMI. Most retro systems have ratio 4:3. //if VIDEO_ARX[12] or VIDEO_ARY[12] is set then [11:0] contains scaled size instead of aspect ratio. output [ 12 : 0 ] VIDEO_ARX , output [ 12 : 0 ] VIDEO_ARY , output [ 7 : 0 ] VGA_R , output [ 7 : 0 ] VGA_G , output [ 7 : 0 ] VGA_B , output VGA_HS , output VGA_VS , output VGA_DE , // = ~(VBlank | HBlank) output VGA_F1 , output [ 1 : 0 ] VGA_SL , output VGA_SCALER , // Force VGA scaler input [ 11 : 0 ] HDMI_WIDTH , input [ 11 : 0 ] HDMI_HEIGHT , output HDMI_FREEZE , output LED_USER , // 1 - ON, 0 - OFF. // b[1]: 0 - LED status is system status OR'd with b[0] // 1 - LED status is controled solely by b[0] // hint: supply 2'b00 to let the system control the LED. output [ 1 : 0 ] LED_POWER , output [ 1 : 0 ] LED_DISK , // I/O board button press simulation (active high) // b[1]: user button // b[0]: osd button output [ 1 : 0 ] BUTTONS , input CLK_AUDIO , // 24.576 MHz output [ 15 : 0 ] AUDIO_L , output [ 15 : 0 ] AUDIO_R , output AUDIO_S , // 1 - signed audio samples, 0 - unsigned output [ 1 : 0 ] AUDIO_MIX , // 0 - no mix, 1 - 25%, 2 - 50%, 3 - 100% (mono) //ADC inout [ 3 : 0 ] ADC_BUS , //SD-SPI output SD_SCK , output SD_MOSI , input SD_MISO , output SD_CS , input SD_CD , //High latency DDR3 RAM interface //Use for non-critical time purposes output DDRAM_CLK , input DDRAM_BUSY , output [ 7 : 0 ] DDRAM_BURSTCNT , output [ 28 : 0 ] DDRAM_ADDR , input [ 63 : 0 ] DDRAM_DOUT , input DDRAM_DOUT_READY , output DDRAM_RD , output [ 63 : 0 ] DDRAM_DIN , output [ 7 : 0 ] DDRAM_BE , output DDRAM_WE , //SDRAM interface with lower latency output SDRAM_CLK , output SDRAM_CKE , output [ 12 : 0 ] SDRAM_A , output [ 1 : 0 ] SDRAM_BA , inout [ 15 : 0 ] SDRAM_DQ , output SDRAM_DQML , output SDRAM_DQMH , output SDRAM_nCS , output SDRAM_nCAS , output SDRAM_nRAS , output SDRAM_nWE , // there are more needed signals - see the Template_MiSTer repository ); These signals are main connections to MiSTer. You need to modify your core according to these signals. API Most top-level signals should be self-descriptive and more or less familiar to core developers, so I won't go too deep into it. I will describe some important parts where you need to pay attention to make your core work. input RESET This signal is asserted while ARM part is under initial preparation. It can be used as an initial reset. It won't be asserted anymore during the whole work of core except when the user chooses another core from OSD. Then ARM will assert RESET in the existing core to let it stop any possible activity before switching to another core (cores loaded through USB Blaster won't get \"bye-bye\" RESET). If core uses DDR3 memory (Scaler isn't counted) then initial and bye-bye RESET is crucial for correct work. You will get a hard hang if DDR3 is accessed during RESET. inout [ 48 : 0 ] HPS_BUS Pass it as-is to hps_io module. output CLK_VIDEO , output CE_PIXEL , output [ 12 : 0 ] VIDEO_ARX , output [ 12 : 0 ] VIDEO_ARY , output VGA_DE , Besides other well-known VGA_* signals, these signals are important in MiSTer in order to get a proper display. CLK_VIDEO and CE_PIXEL are used to sample the pixels. If pixel rate equals to CLK_VIDEO, then set CE_PIXEL=1. Many cores have common system clock where pixel frequency is the product of the division of system clock to some number. In this case, set CLK)VIDEO to the system clock and assert CE_PIXEL at clock cycles where a new pixel is produced. Look in zxspectrum.sv to see how it's done. Without CLK_VIDEO, you can still have VGA output, but OSD won't work. VIDEO_ARX and VIDEO_ARY define aspect ratio on HDMI output. It doesn't affect VGA output. Usually VIDEO_ARX=4, VIDEO_ARY=3 or VIDEO_ARX=16, VIDEO_ARY=9. They can have other values but with extreme values, you may have video problems. VGA_DE is another crucial part for MiSTer. Basically, it's opposite to blank signals: ~(VBlank | HBlank) but with some notes. HDMI video scaler detects the horizontal resolution by first active video line. So, you need to be sure the first line is not cut due to unaligned VBlank and HBlank signals to each other. Otherwise, you will get a messed HDMI video. VGA_HS and VGA_VS should have positive pulse polarity. output AUDIO_S Make sure you set correct mode signed/unsigned, otherwise audio will be distorted. DDRAM_ are signals of DDR3 memory. If the core can use this memory instead of SDRAM, then it won't require SDRAM board. SDRAM_ are signals of SDR SDRAM memory. The core will require SDRAM board if it uses these signals. HPS_IO There is a supplementary module hps_io.v which is also required to use in the same entity (see zxspectrum.sv). It provides in/out control from ARM side. Most signals are same or similar to MiST (user_io+data_io or mist_io modules) signals. So, if the core is ported from MiST, it in most cases it's 1:1 signal connections. MiSTer has some changes/improvements over original MiST io modules: * Supports up to 4 images mount at the same time (MiST has only 1). Set module parameter VDNUM to 2..4 if more than 1 mounted image is required. If VDNUM=1 then related signals are same as in MiST. * Due to SD card on MiSTer uses multiple partitions and holds other vital to MiSTer parts, access to whole SD card from cores is not available in MiSTer. Only the access to image files is possible. Cores requiring direct access to whole SD card should be redesigned to access to images only. * Main MiSTer file system on SD card is exFAT which supports files bigger than 4GB. * OSD supports up to 15 lines (7 lines in MiST) which is handy for many cores. * ARM<->FPGA communication is done through the parallel bus which speeds up the communication. It supports 16bit I/O. There are some other under the hood improvements in firmware like Keyboard/Mouse/Joystick setup.","title":"Porting Cores"},{"location":"developer/porting/#framework","text":"Most of the sources of the Framework are located in sys folder. Usually, for a new project, you need to take following files/folders: * sys folder * jtag.cdf * jtag_lite.cdf * zxspectrum.qpf (project file. Keep it read-only to prevent it from automatic changes whenever you switch between fill and lite versions and spam your change history) * zxspectrum.qsf * zxspectrum.srf (some warnings ignores) * zxspectrum-lite.qsf * zxspectrum-lite.srf (some warnings ignores) You need to make some changes: * Rename zxspectrum. files according to a new project. * Inside files find the \"zxspectrum\" word and replace it with the name of your project. * in .qsf files at the end you will find the list of project files. Remove files not related to your project. The initial set of files for the new project is ready. Now you can open the project in Quartus 17.0 or higher. Assuming you are porting some existing core to MiSTer, the top module entity should be renamed to emu. See zxspectrum.sv and its input/output signals: module emu ( //Master input clock input CLK_50M , //Async reset from top-level module. //Can be used as initial reset. input RESET , //Must be passed to hps_io module inout [ 48 : 0 ] HPS_BUS , //Base video clock. Usually equals to CLK_SYS. output CLK_VIDEO , //Multiple resolutions are supported using different CE_PIXEL rates. //Must be based on CLK_VIDEO output CE_PIXEL , //Video aspect ratio for HDMI. Most retro systems have ratio 4:3. //if VIDEO_ARX[12] or VIDEO_ARY[12] is set then [11:0] contains scaled size instead of aspect ratio. output [ 12 : 0 ] VIDEO_ARX , output [ 12 : 0 ] VIDEO_ARY , output [ 7 : 0 ] VGA_R , output [ 7 : 0 ] VGA_G , output [ 7 : 0 ] VGA_B , output VGA_HS , output VGA_VS , output VGA_DE , // = ~(VBlank | HBlank) output VGA_F1 , output [ 1 : 0 ] VGA_SL , output VGA_SCALER , // Force VGA scaler input [ 11 : 0 ] HDMI_WIDTH , input [ 11 : 0 ] HDMI_HEIGHT , output HDMI_FREEZE , output LED_USER , // 1 - ON, 0 - OFF. // b[1]: 0 - LED status is system status OR'd with b[0] // 1 - LED status is controled solely by b[0] // hint: supply 2'b00 to let the system control the LED. output [ 1 : 0 ] LED_POWER , output [ 1 : 0 ] LED_DISK , // I/O board button press simulation (active high) // b[1]: user button // b[0]: osd button output [ 1 : 0 ] BUTTONS , input CLK_AUDIO , // 24.576 MHz output [ 15 : 0 ] AUDIO_L , output [ 15 : 0 ] AUDIO_R , output AUDIO_S , // 1 - signed audio samples, 0 - unsigned output [ 1 : 0 ] AUDIO_MIX , // 0 - no mix, 1 - 25%, 2 - 50%, 3 - 100% (mono) //ADC inout [ 3 : 0 ] ADC_BUS , //SD-SPI output SD_SCK , output SD_MOSI , input SD_MISO , output SD_CS , input SD_CD , //High latency DDR3 RAM interface //Use for non-critical time purposes output DDRAM_CLK , input DDRAM_BUSY , output [ 7 : 0 ] DDRAM_BURSTCNT , output [ 28 : 0 ] DDRAM_ADDR , input [ 63 : 0 ] DDRAM_DOUT , input DDRAM_DOUT_READY , output DDRAM_RD , output [ 63 : 0 ] DDRAM_DIN , output [ 7 : 0 ] DDRAM_BE , output DDRAM_WE , //SDRAM interface with lower latency output SDRAM_CLK , output SDRAM_CKE , output [ 12 : 0 ] SDRAM_A , output [ 1 : 0 ] SDRAM_BA , inout [ 15 : 0 ] SDRAM_DQ , output SDRAM_DQML , output SDRAM_DQMH , output SDRAM_nCS , output SDRAM_nCAS , output SDRAM_nRAS , output SDRAM_nWE , // there are more needed signals - see the Template_MiSTer repository ); These signals are main connections to MiSTer. You need to modify your core according to these signals.","title":"Framework"},{"location":"developer/porting/#api","text":"Most top-level signals should be self-descriptive and more or less familiar to core developers, so I won't go too deep into it. I will describe some important parts where you need to pay attention to make your core work. input RESET This signal is asserted while ARM part is under initial preparation. It can be used as an initial reset. It won't be asserted anymore during the whole work of core except when the user chooses another core from OSD. Then ARM will assert RESET in the existing core to let it stop any possible activity before switching to another core (cores loaded through USB Blaster won't get \"bye-bye\" RESET). If core uses DDR3 memory (Scaler isn't counted) then initial and bye-bye RESET is crucial for correct work. You will get a hard hang if DDR3 is accessed during RESET. inout [ 48 : 0 ] HPS_BUS Pass it as-is to hps_io module. output CLK_VIDEO , output CE_PIXEL , output [ 12 : 0 ] VIDEO_ARX , output [ 12 : 0 ] VIDEO_ARY , output VGA_DE , Besides other well-known VGA_* signals, these signals are important in MiSTer in order to get a proper display. CLK_VIDEO and CE_PIXEL are used to sample the pixels. If pixel rate equals to CLK_VIDEO, then set CE_PIXEL=1. Many cores have common system clock where pixel frequency is the product of the division of system clock to some number. In this case, set CLK)VIDEO to the system clock and assert CE_PIXEL at clock cycles where a new pixel is produced. Look in zxspectrum.sv to see how it's done. Without CLK_VIDEO, you can still have VGA output, but OSD won't work. VIDEO_ARX and VIDEO_ARY define aspect ratio on HDMI output. It doesn't affect VGA output. Usually VIDEO_ARX=4, VIDEO_ARY=3 or VIDEO_ARX=16, VIDEO_ARY=9. They can have other values but with extreme values, you may have video problems. VGA_DE is another crucial part for MiSTer. Basically, it's opposite to blank signals: ~(VBlank | HBlank) but with some notes. HDMI video scaler detects the horizontal resolution by first active video line. So, you need to be sure the first line is not cut due to unaligned VBlank and HBlank signals to each other. Otherwise, you will get a messed HDMI video. VGA_HS and VGA_VS should have positive pulse polarity. output AUDIO_S Make sure you set correct mode signed/unsigned, otherwise audio will be distorted. DDRAM_ are signals of DDR3 memory. If the core can use this memory instead of SDRAM, then it won't require SDRAM board. SDRAM_ are signals of SDR SDRAM memory. The core will require SDRAM board if it uses these signals.","title":"API"},{"location":"developer/porting/#hps_io","text":"There is a supplementary module hps_io.v which is also required to use in the same entity (see zxspectrum.sv). It provides in/out control from ARM side. Most signals are same or similar to MiST (user_io+data_io or mist_io modules) signals. So, if the core is ported from MiST, it in most cases it's 1:1 signal connections. MiSTer has some changes/improvements over original MiST io modules: * Supports up to 4 images mount at the same time (MiST has only 1). Set module parameter VDNUM to 2..4 if more than 1 mounted image is required. If VDNUM=1 then related signals are same as in MiST. * Due to SD card on MiSTer uses multiple partitions and holds other vital to MiSTer parts, access to whole SD card from cores is not available in MiSTer. Only the access to image files is possible. Cores requiring direct access to whole SD card should be redesigned to access to images only. * Main MiSTer file system on SD card is exFAT which supports files bigger than 4GB. * OSD supports up to 15 lines (7 lines in MiST) which is handy for many cores. * ARM<->FPGA communication is done through the parallel bus which speeds up the communication. It supports 16bit I/O. There are some other under the hood improvements in firmware like Keyboard/Mouse/Joystick setup.","title":"HPS_IO"},{"location":"developer/principles/","text":"Here's some tips and guidelines when contributing to the MiSTer project. Indent with tabs, not spaces This may be a controversial subject to some, however there is good reason to indent with tabs instead of spaces in this instance. The project is uploaded to github and spaces are not handled that well by github in terms of diff compares, git blame, formatting, etc... Tabs are more compatible and will be easier for everyone to work with. Comment your code when appropriate It may take some extra time, but it saves everyone, including yourself, time in the long run. Make sure to be relatively thorough in commenting your code. For example, a good example of commented code from the Atari7800 core in TIA.sv starting at line 786: module playfield ( input clk , // Master clock input reset , // System reset input logic clkp , // Pixel Clock input clock_t hclk , // Horizontal clock phase 2 input reflect , // Control playfield, 1 makes right half mirror image input cnt , // center signal, high means right half input rhb , // Reset HBlank signal input [ 19 : 0 ] pfc , // Combined playfield registers output logic pf // Playfield graphics ); When instantiating this module, this dev added a comment to the end of all of her Inputs and Outputs. One shouldn't assume everyone else knows that hclk is Horizontal clock phase 2 even if the name makes sense to yourself. Other good examples of good comments are separating sections of assignments or port instantiations by category, or explaining the \"Why\" behind a particularly unintuitive section of code. However there is such a thing as commenting your code too much. This should also be avoided. Here is an example: // The 16-bit Color Look Up Table wire [ 7 : 0 ] color_lut [ 16 ] = '{ 8'd0 , 8'd27 , 8'd49 , 8'd71 , 8'd87 , 8'd103 , 8'd119 , 8'd130 , 8'd146 , 8'd157 , 8'd174 , 8'd190 , 8'd206 , 8'd228 , 8'd255 , 8'd255 wire TRANSP_DETECT ; // Transparency Detection }; It's obvious that this is a color look up table because the wire is named color_lut so that doesn't need to be described. It's obvious that TRANSP_DETECT is for transparency detection. For an extreme and deliberately funny example: ////////////////////////////////// /// ~~~~~~~~~~~~~~~~~~~~~~~~~~ /// /// REGION PRIORITY HANDLING /// /// ~~~~~~~~~~~~~~~~~~~~~~~~~~ /// ////////////////////////////////// case ( status [ 28 : 27 ]) // Status Bits 27 through 28 // Region priority is in CONF_STR section at line 256 of this file // If line 256 is no longer valid then here is a reference to what it says: // \"D2ORS,Priority,US>EU>JP,EU>US>JP,US>JP>EU,JP>US>EU;\", // O = Option, R and S are the status bits. // 2 status bits means there are 4 combinations of options // Case statements for this begin with 0 and end in 3 // Since there were two switches and 4 options as explained above you can treat 0-3 as 1-4 if you'd like // First Case Statement (0 is actually the first one) 0 : if ( hdr_u ) region_req <= 1 ; // NTSC-U Region else if ( hdr_e ) region_req <= 2 ; // PAL Region else if ( hdr_j ) region_req <= 0 ; // NTSC-J Region else region_req <= 1 ; // Set to NTSC-U if there is no region in the header // Second Case Statement (1 is actually the second one) 1 : if ( hdr_e ) region_req <= 2 ; // PAL Region else if ( hdr_u ) region_req <= 1 ; // NTSC-U Region else if ( hdr_j ) region_req <= 0 ; // NTSC-J Region else region_req <= 2 ; // Set to PAL if there is no region in the header // Third Case Statement (2 is actually the third one) 2 : if ( hdr_u ) region_req <= 1 ; // NTSC-U Region else if ( hdr_j ) region_req <= 0 ; // NTSC-J Region else if ( hdr_e ) region_req <= 2 ; // PAL Region else region_req <= 1 ; // Set to NTSC-U if there is region in the header // Fourth Case Statement (3 is actually the fourth one) 3 : if ( hdr_j ) region_req <= 0 ; // NTSC-J Region else if ( hdr_u ) region_req <= 1 ; // NTSC-U Region else if ( hdr_e ) region_req <= 2 ; // PAL Region else region_req <= 0 ; // Set to NTSC-U if there is region in the header endcase // End of the case statement // Okay I can put things that aren't in the case statement down here ////////////////////////////////////////////// /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ /// /// END REGION OF REGION PRIORITY HANDLING /// /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ /// ////////////////////////////////////////////// Please don't do things like this. Align ends, assignments, and proper indentation Try to keep similar elements in our code aligned for readability purposes, for example, in the EEPROM_24C0x.sv file from NES_MiSTer, this: // savestate assign SS_MAP1_BACK [ 2 : 0 ] = ( state == STATE_STANDBY ) ? 3'd0 : ( state == STATE_TEST ) ? 3'd1 : ( state == STATE_ADDRESS ) ? 3'd2 : ( state == STATE_WRITE ) ? 3'd3 : 3'd4 ; ...is a lot easier to read than this: assign SS_MAP1_BACK [ 2 : 0 ] = ( state == STATE_STANDBY ) ? 3'd0 : ( state == STATE_TEST ) ? 3'd1 : ( state == STATE_ADDRESS ) ? 3'd2 : ( state == STATE_WRITE ) ? 3'd3 : 3'd4 ; Sure, they both do the same thing, but it was much easier to parse what each thing did quickly. SystemVerilog is not a strongly typed language with regards to indentations, so you won't get compilation errors if you fail to indent your ends accurately. But we should indent them appropriately anyways. Another example: always @( posedge clk ) begin if ( rst ) q <= 0 ; else if ( d ) q <= ~ q ; else q <= q ; end is much easier to read than: always @( posedge clk ) begin if ( rst ) q <= 0 ; else if ( d ) q <= ~ q ; else q <= q ; end Both will succesfully compile and be functionally identical, but it takes a little longer for our mind to parse on first glance. Aligning comments at the end of a line is also helpful in improving readability as shown in the playfield module example near the top of this page. Naming things to be easily understood In EEPROM_STM95 in the Genesis core, this module's port instantiation uses _n to signify that the signal is \"active low\": module STM95XXX ( //... input hold_n , // Hold (active low) input cs_n , // Chip Select (active low) input wp_n , // Write Protect (active low) //... ); It's also commented, but now you know after reading this that anytime a signal with _n is used, that is an active low signal, it doesn't need to be described as active low in a comment each time it is used from then on. If you run out of DSP or Logic space accidentally If you run out of space in compilation, you might be accidentally implying your code to be put into DSP, which is very limited. You can specify that the compiler use logic instead by using the multstyle : ( * multstyle = \"logic\" * ) module myModule ( input clk ) This will force this module into logic space instead of it ever using DSP or block ram. Also you can force a module into DSP the same way with (* multstyle = \"dsp\" *) . The multstyle attribute can be used for Module declarations, variable declarations, and binary expressions.","title":"Tips and Guidelines"},{"location":"developer/principles/#indent-with-tabs-not-spaces","text":"This may be a controversial subject to some, however there is good reason to indent with tabs instead of spaces in this instance. The project is uploaded to github and spaces are not handled that well by github in terms of diff compares, git blame, formatting, etc... Tabs are more compatible and will be easier for everyone to work with.","title":"Indent with tabs, not spaces"},{"location":"developer/principles/#comment-your-code-when-appropriate","text":"It may take some extra time, but it saves everyone, including yourself, time in the long run. Make sure to be relatively thorough in commenting your code. For example, a good example of commented code from the Atari7800 core in TIA.sv starting at line 786: module playfield ( input clk , // Master clock input reset , // System reset input logic clkp , // Pixel Clock input clock_t hclk , // Horizontal clock phase 2 input reflect , // Control playfield, 1 makes right half mirror image input cnt , // center signal, high means right half input rhb , // Reset HBlank signal input [ 19 : 0 ] pfc , // Combined playfield registers output logic pf // Playfield graphics ); When instantiating this module, this dev added a comment to the end of all of her Inputs and Outputs. One shouldn't assume everyone else knows that hclk is Horizontal clock phase 2 even if the name makes sense to yourself. Other good examples of good comments are separating sections of assignments or port instantiations by category, or explaining the \"Why\" behind a particularly unintuitive section of code. However there is such a thing as commenting your code too much. This should also be avoided. Here is an example: // The 16-bit Color Look Up Table wire [ 7 : 0 ] color_lut [ 16 ] = '{ 8'd0 , 8'd27 , 8'd49 , 8'd71 , 8'd87 , 8'd103 , 8'd119 , 8'd130 , 8'd146 , 8'd157 , 8'd174 , 8'd190 , 8'd206 , 8'd228 , 8'd255 , 8'd255 wire TRANSP_DETECT ; // Transparency Detection }; It's obvious that this is a color look up table because the wire is named color_lut so that doesn't need to be described. It's obvious that TRANSP_DETECT is for transparency detection. For an extreme and deliberately funny example: ////////////////////////////////// /// ~~~~~~~~~~~~~~~~~~~~~~~~~~ /// /// REGION PRIORITY HANDLING /// /// ~~~~~~~~~~~~~~~~~~~~~~~~~~ /// ////////////////////////////////// case ( status [ 28 : 27 ]) // Status Bits 27 through 28 // Region priority is in CONF_STR section at line 256 of this file // If line 256 is no longer valid then here is a reference to what it says: // \"D2ORS,Priority,US>EU>JP,EU>US>JP,US>JP>EU,JP>US>EU;\", // O = Option, R and S are the status bits. // 2 status bits means there are 4 combinations of options // Case statements for this begin with 0 and end in 3 // Since there were two switches and 4 options as explained above you can treat 0-3 as 1-4 if you'd like // First Case Statement (0 is actually the first one) 0 : if ( hdr_u ) region_req <= 1 ; // NTSC-U Region else if ( hdr_e ) region_req <= 2 ; // PAL Region else if ( hdr_j ) region_req <= 0 ; // NTSC-J Region else region_req <= 1 ; // Set to NTSC-U if there is no region in the header // Second Case Statement (1 is actually the second one) 1 : if ( hdr_e ) region_req <= 2 ; // PAL Region else if ( hdr_u ) region_req <= 1 ; // NTSC-U Region else if ( hdr_j ) region_req <= 0 ; // NTSC-J Region else region_req <= 2 ; // Set to PAL if there is no region in the header // Third Case Statement (2 is actually the third one) 2 : if ( hdr_u ) region_req <= 1 ; // NTSC-U Region else if ( hdr_j ) region_req <= 0 ; // NTSC-J Region else if ( hdr_e ) region_req <= 2 ; // PAL Region else region_req <= 1 ; // Set to NTSC-U if there is region in the header // Fourth Case Statement (3 is actually the fourth one) 3 : if ( hdr_j ) region_req <= 0 ; // NTSC-J Region else if ( hdr_u ) region_req <= 1 ; // NTSC-U Region else if ( hdr_e ) region_req <= 2 ; // PAL Region else region_req <= 0 ; // Set to NTSC-U if there is region in the header endcase // End of the case statement // Okay I can put things that aren't in the case statement down here ////////////////////////////////////////////// /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ /// /// END REGION OF REGION PRIORITY HANDLING /// /// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ /// ////////////////////////////////////////////// Please don't do things like this.","title":"Comment your code when appropriate"},{"location":"developer/principles/#align-ends-assignments-and-proper-indentation","text":"Try to keep similar elements in our code aligned for readability purposes, for example, in the EEPROM_24C0x.sv file from NES_MiSTer, this: // savestate assign SS_MAP1_BACK [ 2 : 0 ] = ( state == STATE_STANDBY ) ? 3'd0 : ( state == STATE_TEST ) ? 3'd1 : ( state == STATE_ADDRESS ) ? 3'd2 : ( state == STATE_WRITE ) ? 3'd3 : 3'd4 ; ...is a lot easier to read than this: assign SS_MAP1_BACK [ 2 : 0 ] = ( state == STATE_STANDBY ) ? 3'd0 : ( state == STATE_TEST ) ? 3'd1 : ( state == STATE_ADDRESS ) ? 3'd2 : ( state == STATE_WRITE ) ? 3'd3 : 3'd4 ; Sure, they both do the same thing, but it was much easier to parse what each thing did quickly. SystemVerilog is not a strongly typed language with regards to indentations, so you won't get compilation errors if you fail to indent your ends accurately. But we should indent them appropriately anyways. Another example: always @( posedge clk ) begin if ( rst ) q <= 0 ; else if ( d ) q <= ~ q ; else q <= q ; end is much easier to read than: always @( posedge clk ) begin if ( rst ) q <= 0 ; else if ( d ) q <= ~ q ; else q <= q ; end Both will succesfully compile and be functionally identical, but it takes a little longer for our mind to parse on first glance. Aligning comments at the end of a line is also helpful in improving readability as shown in the playfield module example near the top of this page.","title":"Align ends, assignments, and proper indentation"},{"location":"developer/principles/#naming-things-to-be-easily-understood","text":"In EEPROM_STM95 in the Genesis core, this module's port instantiation uses _n to signify that the signal is \"active low\": module STM95XXX ( //... input hold_n , // Hold (active low) input cs_n , // Chip Select (active low) input wp_n , // Write Protect (active low) //... ); It's also commented, but now you know after reading this that anytime a signal with _n is used, that is an active low signal, it doesn't need to be described as active low in a comment each time it is used from then on.","title":"Naming things to be easily understood"},{"location":"developer/principles/#if-you-run-out-of-dsp-or-logic-space-accidentally","text":"If you run out of space in compilation, you might be accidentally implying your code to be put into DSP, which is very limited. You can specify that the compiler use logic instead by using the multstyle : ( * multstyle = \"logic\" * ) module myModule ( input clk ) This will force this module into logic space instead of it ever using DSP or block ram. Also you can force a module into DSP the same way with (* multstyle = \"dsp\" *) . The multstyle attribute can be used for Module declarations, variable declarations, and binary expressions.","title":"If you run out of DSP or Logic space accidentally"},{"location":"developer/test/","text":"code syntax highlighting for .ini incorrect Ini Example 1: video_mode = 8 ; Number 8 - 1920x1080 - 60hz - 16:9 - FHD 1080p Ini Example 2: video_mode = 8 # Number 8 - 1920x1080 - 60hz - 16:9 - FHD 1080p Ini Example 3: ; Number 8 - 1920x1080 - 60hz - 16:9 - FHD 1080p # Number 8 - 1920x1080 - 60hz - 16:9 - FHD 1080p video_mode = 8 Verilog Example 1: module playfield ( input clk , // Master clock input reset , // System reset input logic clkp , // Pixel Clock input clock_t hclk , // Horizontal clock phase 2 input reflect , // Control playfield, 1 makes right half mirror image input cnt , // center signal, high means right half input rhb , // Reset HBlank signal input [ 19 : 0 ] pfc , // Combined playfield registers output logic pf // Playfield graphics ); When the comment is inside the same line as the code and it is an ini language file, the comment signifier (either ; or # for ini files) is ignored.","title":"Test"},{"location":"developer/test/#code-syntax-highlighting-for-ini-incorrect","text":"Ini Example 1: video_mode = 8 ; Number 8 - 1920x1080 - 60hz - 16:9 - FHD 1080p Ini Example 2: video_mode = 8 # Number 8 - 1920x1080 - 60hz - 16:9 - FHD 1080p Ini Example 3: ; Number 8 - 1920x1080 - 60hz - 16:9 - FHD 1080p # Number 8 - 1920x1080 - 60hz - 16:9 - FHD 1080p video_mode = 8 Verilog Example 1: module playfield ( input clk , // Master clock input reset , // System reset input logic clkp , // Pixel Clock input clock_t hclk , // Horizontal clock phase 2 input reflect , // Control playfield, 1 makes right half mirror image input cnt , // center signal, high means right half input rhb , // Reset HBlank signal input [ 19 : 0 ] pfc , // Combined playfield registers output logic pf // Playfield graphics ); When the comment is inside the same line as the code and it is an ini language file, the comment signifier (either ; or # for ini files) is ignored.","title":"code syntax highlighting for .ini incorrect"},{"location":"developer/video_freak/","text":"Video Freak is used to crop and scale the image. Video Freak will take in the original VGA_DE_IN and output a new VGA_DE and VIDEO_ARX/VIDEO_ARY using the cropping parameters. module video_freak ( input CLK_VIDEO , input CE_PIXEL , input VGA_VS , input [ 11 : 0 ] HDMI_WIDTH , input [ 11 : 0 ] HDMI_HEIGHT , output VGA_DE , output reg [ 12 : 0 ] VIDEO_ARX , output reg [ 12 : 0 ] VIDEO_ARY , input VGA_DE_IN , input [ 11 : 0 ] ARX , input [ 11 : 0 ] ARY , input [ 11 : 0 ] CROP_SIZE , input [ 4 : 0 ] CROP_OFF , // -16...+15 input [ 2 : 0 ] SCALE //0 - normal, 1 - V-integer, 2 - HV-Integer-, 3 - HV-Integer+, 4 - HV-Integer );","title":"sys - video_freak"},{"location":"developer/video_mixer/","text":"Video Mixer is used as a helper to provide a lot of the nice videos that the MiSTer framework supplies. This includes scandoubling, gamma, hq2x scaling, and freezing. Instantiating video_mixer The module has a few parameters that are used to set it up. LINE_LENGTH HALF_DEPTH GAMMA module video_mixer #( parameter LINE_LENGTH = 768 , parameter HALF_DEPTH = 0 , parameter GAMMA = 0 ) ( input CLK_VIDEO , // should be multiple by (ce_pix*4) output reg CE_PIXEL , // output pixel clock enable input ce_pix , // input pixel clock or clock_enable input scandoubler , input hq2x , // high quality 2x scaling inout [ 21 : 0 ] gamma_bus , // color input [ DWIDTH: 0 ] R , input [ DWIDTH: 0 ] G , input [ DWIDTH: 0 ] B , // Positive pulses. input HSync , input VSync , input HBlank , input VBlank , // Freeze engine // HDMI: displays last frame // VGA: black screen with HSync and VSync input HDMI_FREEZE , output freeze_sync , // video output signals output reg [ 7 : 0 ] VGA_R , output reg [ 7 : 0 ] VGA_G , output reg [ 7 : 0 ] VGA_B , output reg VGA_VS , output reg VGA_HS , output reg VGA_DE );","title":"sys - video_mixer"},{"location":"developer/video_mixer/#instantiating-video_mixer","text":"The module has a few parameters that are used to set it up. LINE_LENGTH HALF_DEPTH GAMMA module video_mixer #( parameter LINE_LENGTH = 768 , parameter HALF_DEPTH = 0 , parameter GAMMA = 0 ) ( input CLK_VIDEO , // should be multiple by (ce_pix*4) output reg CE_PIXEL , // output pixel clock enable input ce_pix , // input pixel clock or clock_enable input scandoubler , input hq2x , // high quality 2x scaling inout [ 21 : 0 ] gamma_bus , // color input [ DWIDTH: 0 ] R , input [ DWIDTH: 0 ] G , input [ DWIDTH: 0 ] B , // Positive pulses. input HSync , input VSync , input HBlank , input VBlank , // Freeze engine // HDMI: displays last frame // VGA: black screen with HSync and VSync input HDMI_FREEZE , output freeze_sync , // video output signals output reg [ 7 : 0 ] VGA_R , output reg [ 7 : 0 ] VGA_G , output reg [ 7 : 0 ] VGA_B , output reg VGA_VS , output reg VGA_HS , output reg VGA_DE );","title":"Instantiating video_mixer"},{"location":"setup/controller/","text":"Now we should define some gamepad inputs on our MiSTer. This is pretty easy to do. You should use a keyboard and your gamepad/controller for this step. For each different kind of controller you have, you should do this step, and the MiSTer will store a configuration based on that device's unique ID. Defining your Gamepad's Buttons Go to the second menu in the On Screen Display, this is where you went to previously when running the Downloader or WiFi scripts. There is another option here, \"Define joystick buttons\". Select this option to configure your buttons on your gamepad: It will guide you through the process of detecting your general controller type by asking you to press a few d-pad buttons and maybe the analog sticks. Then it will ask you to assign some buttons: Four face buttons and two shoulder buttons Start and Select OSD button or 2-button combo (to use instead of F12 on the keyboard) A few extra buttons for advanced functions Skip any buttons you don't want to assign (there may be a lot of them) with the Space on the keyboard or the User button on your MiSTer. If you accidentally assign the wrong button, don't worry, just define it all over again from the start. If you press Enter to \"Finish\" too early, you might miss the Analog Joystick configuration step which is important if you have analog joysticks. Here is a picture to give you an idea of what the buttons it is asking you to press may represent: The L on the bottom left is referring to an analog joystick. Your controller may or may not have this. If it does, the step to define the analogy joystick's input is at the end, so your joystick will not work unless you go through the entire list of inputs to define. Another important button is the OSD button. Many modern controllers have a \"Home\" button, it's probably best to assign this to the OSD/Menu. If you do not assign anything to home, the only way to access the menu will be to use the F12 key on a keyboard. Define Gamepad Inputs/Buttons Example Video","title":"Define Your Gamepad"},{"location":"setup/controller/#defining-your-gamepads-buttons","text":"Go to the second menu in the On Screen Display, this is where you went to previously when running the Downloader or WiFi scripts. There is another option here, \"Define joystick buttons\". Select this option to configure your buttons on your gamepad: It will guide you through the process of detecting your general controller type by asking you to press a few d-pad buttons and maybe the analog sticks. Then it will ask you to assign some buttons: Four face buttons and two shoulder buttons Start and Select OSD button or 2-button combo (to use instead of F12 on the keyboard) A few extra buttons for advanced functions Skip any buttons you don't want to assign (there may be a lot of them) with the Space on the keyboard or the User button on your MiSTer. If you accidentally assign the wrong button, don't worry, just define it all over again from the start. If you press Enter to \"Finish\" too early, you might miss the Analog Joystick configuration step which is important if you have analog joysticks. Here is a picture to give you an idea of what the buttons it is asking you to press may represent: The L on the bottom left is referring to an analog joystick. Your controller may or may not have this. If it does, the step to define the analogy joystick's input is at the end, so your joystick will not work unless you go through the entire list of inputs to define. Another important button is the OSD button. Many modern controllers have a \"Home\" button, it's probably best to assign this to the OSD/Menu. If you do not assign anything to home, the only way to access the menu will be to use the F12 key on a keyboard.","title":"Defining your Gamepad's Buttons"},{"location":"setup/controller/#define-gamepad-inputsbuttons-example-video","text":"","title":"Define Gamepad Inputs/Buttons Example Video"},{"location":"setup/games/","text":"To play games on the MiSTer you will need to transfer them to your MicroSD. There are other ways to load games, like over a NAS or using USB drive, but for now we're going to stick to the most basic easy method. If you'd like more information on these other methods you can head to the Advanced Networking Page of this site, to find out more. Games folder description The /games/ folder is where ROMs are stored. /games/NES is where you would place NES ROMs, for instance. Each MiSTer core looks to a specific folder for these ROMs so it is best to put them in the right place. Transfer ROMs over the Network with Samba/SMB The MiSTer comes setup with a Samba server already, it just needs to be activated. This means you can connect to it like any other shared folder on the network. It's pretty easy. First we need to enable the Samba service: Enter the terminal/command line of the MiSTer by press F9 on your keyboard and type root for the username, press enter, and type 1 for the password and press enter. Rename /media/fat/linux/_samba.sh to /media/fat/linux/samba.sh in the terminal/console on the MiSTer by running the following command: mv /media/fat/linux/_samba.sh /media/fat/linux/samba.sh Reboot the MiSTer If you are using Windows, all you need to do is type \\\\MiSTer\\sdcard\\ in the address bar at the top of the File Explorer and press enter. You can do the same in Linux or on MacOS depending on how you access network shares on those systems the same way. In this case I'm going to transfer some ROMs to the /games/NES/ folder so I can use them with the NES core. Transfer ROMs to the MicroSD directly You can also turn off the MiSTer, remove the MicroSD and plug it into your computer to transfer roms. It will have an exFAT formatted partition named \"MiSTer\" that most operating systems can work with. After this is done you can proceed to the next step since we are going to Play a Game . Notes about File Formats CD images for any cores that use CD's must either be in CUE/BIN or CHD. It is best to place CD images into their own separate folders and it is adviced to place multi-disc games's into the same folder (e.g. Final Fantasy VII Discs 1-3 in the same Final Fantasy VII folder), since you can then change discs without resetting the core, and your save files will load from disc to disc (in the case of the PSX core). CD images can't be placed in zip archives. They are handled differently from other game ROMs. For more CD image information check CD-based ROMs VHD (virtual hard drive) files are the same, they must not be zipped. All other ROMs can be placed in zip folders/archives and accessed. The core will tell you which file extensions are accepted. If you have an issue with a ROM loading, the readme for that core that is available on GitHub or in the /games/$CORE/ folder should tell you what kinds of files work with that core.","title":"Transferring Games"},{"location":"setup/games/#games-folder-description","text":"The /games/ folder is where ROMs are stored. /games/NES is where you would place NES ROMs, for instance. Each MiSTer core looks to a specific folder for these ROMs so it is best to put them in the right place.","title":"Games folder description"},{"location":"setup/games/#transfer-roms-over-the-network-with-sambasmb","text":"The MiSTer comes setup with a Samba server already, it just needs to be activated. This means you can connect to it like any other shared folder on the network. It's pretty easy. First we need to enable the Samba service: Enter the terminal/command line of the MiSTer by press F9 on your keyboard and type root for the username, press enter, and type 1 for the password and press enter. Rename /media/fat/linux/_samba.sh to /media/fat/linux/samba.sh in the terminal/console on the MiSTer by running the following command: mv /media/fat/linux/_samba.sh /media/fat/linux/samba.sh Reboot the MiSTer If you are using Windows, all you need to do is type \\\\MiSTer\\sdcard\\ in the address bar at the top of the File Explorer and press enter. You can do the same in Linux or on MacOS depending on how you access network shares on those systems the same way. In this case I'm going to transfer some ROMs to the /games/NES/ folder so I can use them with the NES core.","title":"Transfer ROMs over the Network with Samba/SMB"},{"location":"setup/games/#transfer-roms-to-the-microsd-directly","text":"You can also turn off the MiSTer, remove the MicroSD and plug it into your computer to transfer roms. It will have an exFAT formatted partition named \"MiSTer\" that most operating systems can work with. After this is done you can proceed to the next step since we are going to Play a Game .","title":"Transfer ROMs to the MicroSD directly"},{"location":"setup/games/#notes-about-file-formats","text":"CD images for any cores that use CD's must either be in CUE/BIN or CHD. It is best to place CD images into their own separate folders and it is adviced to place multi-disc games's into the same folder (e.g. Final Fantasy VII Discs 1-3 in the same Final Fantasy VII folder), since you can then change discs without resetting the core, and your save files will load from disc to disc (in the case of the PSX core). CD images can't be placed in zip archives. They are handled differently from other game ROMs. For more CD image information check CD-based ROMs VHD (virtual hard drive) files are the same, they must not be zipped. All other ROMs can be placed in zip folders/archives and accessed. The core will tell you which file extensions are accepted. If you have an issue with a ROM loading, the readme for that core that is available on GitHub or in the /games/$CORE/ folder should tell you what kinds of files work with that core.","title":"Notes about File Formats"},{"location":"setup/play/","text":"Next all we need to do is load the core for the system we want to play. In our case it is the NES core. Just select Console then NES and hit enter or the button you assigned \"A\" on the controller earlier. The core will load. You may need to press the Menu button you assigned earlier or F12 on the keyboard to bring the menu up. Once your menu is up, select Load ROM and load your game. Once the game loads, you will want to turn on Autosave if your game saves. Basically, the MiSTer has to be told when to save your game. Let's say you save your progress in Final Fantasy for the NES, each time you do this, you need to open the On Screen Display to tell it to save. The autosave setting makes it so all you have to do is open the menu, so it's a good idea to turn it on so you don't forget. Anytime you change a core setting in the menu that you want to keep, you need to save that setting. So since we always want autosave to be on, after turning it on we just switch to the secondary OSD menu (by pressing right on the controller) and select \"Save Settings\". It's that easy. Here's a short video showing you how to load a core, load the game, and turn on autosave. That's it! It wasn't so bad, you made it through the tutorial. Please be sure to check out all the other sections of this documentation, there are some valuable options to configure, tips and tricks to learn, that will make your experience much better.","title":"Play a Game"},{"location":"setup/requirements/","text":"There are a few things you will need in order to setup your MiSTer: Terasic DE10-Nano MiSTer SDRAM Add-On Board (Optional but many cores require it) Cooling for the FPGA (Highly recommended) MicroSD card (minimum 4GB) and MicroSD Card Reader USB OTG Adapter or MiSTer USB Hub Add-On Board (no USB devices will work without this) USB Keyboard Internet connection HDMI Monitor/TV and HDMI Cable Where to buy DE10-Nano: Terasic Digikey Mouser SDRAM: The MiSTer SDRAM add-on board is required by many cores, like the SNES, NES, Playstation, and Game Boy cores. There are multiple sellers out there which sell these, and you can also assemble it yourself if you are skilled at soldering. USB OTG Adapter/Hub: Preferably, the MiSTer USB Hub Add-on board which you can assemble yourself if you are good at soldering, or you can buy from the various shops that sell them. At a minimum, the MakerSpot Micro USB OTG Hub works very well for the MiSTer, if you are looking for a very cheap option. Cooling: The processor on the DE10-Nano is 21.5mm x 21.5mm so a heatsink that is around this size is suitable. If using one larger than these dimensions, please make sure to use care to not let the heatsink touch other electronic components outside the processor. There is no mounting mechanism for the heatsink, you will need to use an \"adhesive thermal pad\". 3M makes some good ones, and the heatsinks you can buy in this size usually come with these kinds of thermal pads already. Do not apply a lot of pressure and do not touch the components directly with your fingers, as static shock can damage them.","title":"Requirements"},{"location":"setup/requirements/#where-to-buy","text":"DE10-Nano: Terasic Digikey Mouser SDRAM: The MiSTer SDRAM add-on board is required by many cores, like the SNES, NES, Playstation, and Game Boy cores. There are multiple sellers out there which sell these, and you can also assemble it yourself if you are skilled at soldering. USB OTG Adapter/Hub: Preferably, the MiSTer USB Hub Add-on board which you can assemble yourself if you are good at soldering, or you can buy from the various shops that sell them. At a minimum, the MakerSpot Micro USB OTG Hub works very well for the MiSTer, if you are looking for a very cheap option. Cooling: The processor on the DE10-Nano is 21.5mm x 21.5mm so a heatsink that is around this size is suitable. If using one larger than these dimensions, please make sure to use care to not let the heatsink touch other electronic components outside the processor. There is no mounting mechanism for the heatsink, you will need to use an \"adhesive thermal pad\". 3M makes some good ones, and the heatsinks you can buy in this size usually come with these kinds of thermal pads already. Do not apply a lot of pressure and do not touch the components directly with your fingers, as static shock can damage them.","title":"Where to buy"},{"location":"setup/software/","text":"First thing to do is to install the software onto your MicroSD card. Flash Mr. Fusion to your MicroSD Mr. Fusion provides a compact image that you can download and flash onto an SD card of any size with a tool like balenaEtcher , Win32 Disk Imager , Apple Pi Baker , or even dd . We're going to use balenaEtcher for this guide. We install balenaEtcher by downloading the latest release for our computer and installing it. Next we're going to download the latest release of Mr. Fusion : Next, we will insert our MicroSD card into our computer and then open balenaEtcher. We will select \"Flash from file\" and navigate to the Mr Fusion file we downloaded a step earlier. Then we need to select our MicroSD card as the target to flash. And click \"Flash!\" Wait for it to complete successfully. If you see \"Flash complete!\" and \"1 Successful target\" then everything worked fine. If the flash fails, try and flash it again or flash a different MicroSD card in case the one you are using is malfunctioning. We can now close balenaEtcher and remove our MicroSD card. Boot the DE10-Nano with Mr. Fusion Next we just need to carefully insert our MicroSD card into the DE10-Nano ( NOT the MicroSD slot on the IO board on top! ). Now turn on your DE10-Nano. We will wait up to a few minutes for the Mr. Fusion installer to complete. Be patient, or else you may have to start all over again. When the MiSTer On Screen Display with fuzzy static behind it appears, that means you have successfully installed the MiSTer software/OS onto your MicroSD. Check out the next tutorials in the side bar!","title":"Setup MicroSD Card"},{"location":"setup/software/#flash-mr-fusion-to-your-microsd","text":"Mr. Fusion provides a compact image that you can download and flash onto an SD card of any size with a tool like balenaEtcher , Win32 Disk Imager , Apple Pi Baker , or even dd . We're going to use balenaEtcher for this guide. We install balenaEtcher by downloading the latest release for our computer and installing it. Next we're going to download the latest release of Mr. Fusion : Next, we will insert our MicroSD card into our computer and then open balenaEtcher. We will select \"Flash from file\" and navigate to the Mr Fusion file we downloaded a step earlier. Then we need to select our MicroSD card as the target to flash. And click \"Flash!\" Wait for it to complete successfully. If you see \"Flash complete!\" and \"1 Successful target\" then everything worked fine. If the flash fails, try and flash it again or flash a different MicroSD card in case the one you are using is malfunctioning. We can now close balenaEtcher and remove our MicroSD card.","title":"Flash Mr. Fusion to your MicroSD"},{"location":"setup/software/#boot-the-de10-nano-with-mr-fusion","text":"Next we just need to carefully insert our MicroSD card into the DE10-Nano ( NOT the MicroSD slot on the IO board on top! ). Now turn on your DE10-Nano. We will wait up to a few minutes for the Mr. Fusion installer to complete. Be patient, or else you may have to start all over again. When the MiSTer On Screen Display with fuzzy static behind it appears, that means you have successfully installed the MiSTer software/OS onto your MicroSD. Check out the next tutorials in the side bar!","title":"Boot the DE10-Nano with Mr. Fusion"},{"location":"setup/updater/","text":"We need to update the MiSTer the first time you get it setup. This is because the MiSTer currently only has a script to update it, no cores, no arcade files, and it's system files may be outdated. If you don't have a wired internet connection to your MiSTer, please remove your microSD and place the WiFi script into the scripts folder, and then follow the instructions in the WiFi tutorial . Running Downloader.sh / Update.sh Now that your MiSTer is connected to either a wired internet connection or a WiFi connection, you should run an update. This may take awhile the first time, but each time you run the updater after that it will take a lot less time. It's important to update your MiSTer regularly as the framework, cores, and software is updated frequently with bug fixes, features, and new cores. It's very easy to run Downloader.sh, just navigate to the scripts selection in the On Screen Display (osd) in the Menu core by pressing F12 , select it, and go to the downloader script and select it. See video below for an example of the downloader script running:","title":"Running the Updater"},{"location":"setup/updater/#running-downloadersh-updatesh","text":"Now that your MiSTer is connected to either a wired internet connection or a WiFi connection, you should run an update. This may take awhile the first time, but each time you run the updater after that it will take a lot less time. It's important to update your MiSTer regularly as the framework, cores, and software is updated frequently with bug fixes, features, and new cores. It's very easy to run Downloader.sh, just navigate to the scripts selection in the On Screen Display (osd) in the Menu core by pressing F12 , select it, and go to the downloader script and select it. See video below for an example of the downloader script running:","title":"Running Downloader.sh / Update.sh"}]}